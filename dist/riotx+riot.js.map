{"version":3,"file":"riotx+riot.js","sources":["../node_modules/mout/array/forEach.js","../node_modules/mout/object/hasOwn.js","../node_modules/mout/object/forIn.js","../node_modules/mout/object/forOwn.js","../node_modules/mout/object/keys.js","../node_modules/mout/lang/kindOf.js","../node_modules/mout/lang/isKind.js","../node_modules/mout/lang/isFunction.js","../node_modules/mout/lang/isObject.js","../node_modules/promise-polyfill/src/index.js","../node_modules/riot/lib/browser/common/util/dom/$.js","../node_modules/riot/lib/browser/common/global-variables.js","../node_modules/riot/lib/browser/common/util/dom/make-element.js","../node_modules/riot/lib/browser/common/util/dom/set-attribute.js","../node_modules/riot/lib/browser/tag/styleManager.js","../node_modules/riot-tmpl/dist/es6.tmpl.js","../node_modules/riot-observable/dist/es6.observable.js","../node_modules/riot/lib/browser/common/util/misc/get-prop-descriptor.js","../node_modules/riot/lib/browser/common/util/checks/is-undefined.js","../node_modules/riot/lib/browser/common/util/checks/is-writable.js","../node_modules/riot/lib/browser/common/util/misc/extend.js","../node_modules/riot/lib/browser/common/util/misc/object-create.js","../node_modules/riot/lib/settings.js","../node_modules/riot/lib/browser/common/util/dom/$$.js","../node_modules/riot/lib/browser/common/util/dom/create-placeholder.js","../node_modules/riot/lib/browser/common/util/dom/toggle-visibility.js","../node_modules/riot/lib/browser/common/util/dom/get-attribute.js","../node_modules/riot/lib/browser/common/util/dom/remove-attribute.js","../node_modules/riot/lib/browser/common/util/dom/set-inner-HTML.js","../node_modules/riot/lib/browser/common/util/dom/walk-attributes.js","../node_modules/riot/lib/browser/common/util/dom/create-fragment.js","../node_modules/riot/lib/browser/common/util/dom/safe-insert.js","../node_modules/riot/lib/browser/common/util/dom/style-object-to-string.js","../node_modules/riot/lib/browser/common/util/dom/walk-nodes.js","../node_modules/riot/lib/browser/common/util/checks/is-nil.js","../node_modules/riot/lib/browser/common/util/checks/is-blank.js","../node_modules/riot/lib/browser/common/util/checks/is-function.js","../node_modules/riot/lib/browser/common/util/checks/is-object.js","../node_modules/riot/lib/browser/common/util/checks/is-svg.js","../node_modules/riot/lib/browser/common/util/checks/is-array.js","../node_modules/riot/lib/browser/common/util/checks/is-boolean-attribute.js","../node_modules/riot/lib/browser/common/util/checks/is-string.js","../node_modules/riot/lib/browser/common/util/misc/contains.js","../node_modules/riot/lib/browser/common/util/misc/each.js","../node_modules/riot/lib/browser/common/util/misc/starts-with.js","../node_modules/riot/lib/browser/common/util/misc/uid.js","../node_modules/riot/lib/browser/common/util/misc/define.js","../node_modules/riot/lib/browser/common/util/misc/to-camel.js","../node_modules/riot/lib/browser/common/util/misc/warn.js","../node_modules/riot/lib/browser/common/util/tags/arrayish-add.js","../node_modules/riot/lib/browser/common/util/tags/get.js","../node_modules/riot/lib/browser/common/util/tags/get-name.js","../node_modules/riot/lib/browser/common/util/tags/inherit-parent-properties.js","../node_modules/riot/lib/browser/tag/mkdom.js","../node_modules/riot/lib/browser/common/util/tags/get-immediate-custom-parent.js","../node_modules/riot/lib/browser/tag/setEventHandler.js","../node_modules/riot/lib/browser/common/util/tags/init-child.js","../node_modules/riot/lib/browser/common/util/tags/arrayish-remove.js","../node_modules/riot/lib/browser/common/util/tags/make-virtual.js","../node_modules/riot/lib/browser/common/util/tags/replace-virtual.js","../node_modules/riot/lib/browser/tag/update.js","../node_modules/riot/lib/browser/common/util/tags/update-options.js","../node_modules/riot/lib/browser/tag/component/update.js","../node_modules/riot/lib/browser/common/util/tags/query.js","../node_modules/riot/lib/browser/tag/core.js","../node_modules/riot/lib/browser/tag/component/mixin.js","../node_modules/riot/lib/browser/common/util/tags/move-child.js","../node_modules/riot/lib/browser/common/util/tags/move-virtual.js","../node_modules/riot/lib/browser/tag/each.js","../node_modules/riot/lib/browser/tag/ref.js","../node_modules/riot/lib/browser/common/util/tags/create-ref-directive.js","../node_modules/riot/lib/browser/common/util/tags/unmount-all.js","../node_modules/riot/lib/browser/tag/if.js","../node_modules/riot/lib/browser/common/util/tags/create-if-directive.js","../node_modules/riot/lib/browser/tag/parse.js","../node_modules/riot/lib/browser/common/util/tags/set-mount-state.js","../node_modules/riot/lib/browser/tag/component/mount.js","../node_modules/riot/lib/browser/tag/component/unmount.js","../node_modules/riot/lib/browser/tag/tag.js","../node_modules/riot/lib/browser/common/util/tags/mount.js","../node_modules/riot/lib/riot.js","../src/index.js"],"sourcesContent":["\n\n    /**\n     * Array forEach\n     */\n    function forEach(arr, callback, thisObj) {\n        if (arr == null) {\n            return;\n        }\n        var i = -1,\n            len = arr.length;\n        while (++i < len) {\n            // we iterate over sparse items since there is no way to make it\n            // work properly on IE 7-8. see #64\n            if ( callback.call(thisObj, arr[i], i, arr) === false ) {\n                break;\n            }\n        }\n    }\n\n    module.exports = forEach;\n\n\n","\n\n    /**\n     * Safer Object.hasOwnProperty\n     */\n     function hasOwn(obj, prop){\n         return Object.prototype.hasOwnProperty.call(obj, prop);\n     }\n\n     module.exports = hasOwn;\n\n\n","var hasOwn = require('./hasOwn');\n\n    var _hasDontEnumBug,\n        _dontEnums;\n\n    function checkDontEnum(){\n        _dontEnums = [\n                'toString',\n                'toLocaleString',\n                'valueOf',\n                'hasOwnProperty',\n                'isPrototypeOf',\n                'propertyIsEnumerable',\n                'constructor'\n            ];\n\n        _hasDontEnumBug = true;\n\n        for (var key in {'toString': null}) {\n            _hasDontEnumBug = false;\n        }\n    }\n\n    /**\n     * Similar to Array/forEach but works over object properties and fixes Don't\n     * Enum bug on IE.\n     * based on: http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n     */\n    function forIn(obj, fn, thisObj){\n        var key, i = 0;\n        // no need to check if argument is a real object that way we can use\n        // it for arrays, functions, date, etc.\n\n        //post-pone check till needed\n        if (_hasDontEnumBug == null) checkDontEnum();\n\n        for (key in obj) {\n            if (exec(fn, obj, key, thisObj) === false) {\n                break;\n            }\n        }\n\n\n        if (_hasDontEnumBug) {\n            var ctor = obj.constructor,\n                isProto = !!ctor && obj === ctor.prototype;\n\n            while (key = _dontEnums[i++]) {\n                // For constructor, if it is a prototype object the constructor\n                // is always non-enumerable unless defined otherwise (and\n                // enumerated above).  For non-prototype objects, it will have\n                // to be defined on this object, since it cannot be defined on\n                // any prototype objects.\n                //\n                // For other [[DontEnum]] properties, check if the value is\n                // different than Object prototype value.\n                if (\n                    (key !== 'constructor' ||\n                        (!isProto && hasOwn(obj, key))) &&\n                    obj[key] !== Object.prototype[key]\n                ) {\n                    if (exec(fn, obj, key, thisObj) === false) {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function exec(fn, obj, key, thisObj){\n        return fn.call(thisObj, obj[key], key, obj);\n    }\n\n    module.exports = forIn;\n\n\n","var hasOwn = require('./hasOwn');\nvar forIn = require('./forIn');\n\n    /**\n     * Similar to Array/forEach but works over object properties and fixes Don't\n     * Enum bug on IE.\n     * based on: http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n     */\n    function forOwn(obj, fn, thisObj){\n        forIn(obj, function(val, key){\n            if (hasOwn(obj, key)) {\n                return fn.call(thisObj, obj[key], key, obj);\n            }\n        });\n    }\n\n    module.exports = forOwn;\n\n\n","var forOwn = require('./forOwn');\n\n    /**\n     * Get object keys\n     */\n     var keys = Object.keys || function (obj) {\n            var keys = [];\n            forOwn(obj, function(val, key){\n                keys.push(key);\n            });\n            return keys;\n        };\n\n    module.exports = keys;\n\n\n","\n    /**\n     * Gets the \"kind\" of value. (e.g. \"String\", \"Number\", etc)\n     */\n    function kindOf(val) {\n        return Object.prototype.toString.call(val).slice(8, -1);\n    }\n    module.exports = kindOf;\n\n","var kindOf = require('./kindOf');\n    /**\n     * Check if value is from a specific \"kind\".\n     */\n    function isKind(val, kind){\n        return kindOf(val) === kind;\n    }\n    module.exports = isKind;\n\n","var isKind = require('./isKind');\n    /**\n     */\n    function isFunction(val) {\n        return isKind(val, 'Function');\n    }\n    module.exports = isFunction;\n\n","var isKind = require('./isKind');\n    /**\n     */\n    function isObject(val) {\n        return isKind(val, 'Object');\n    }\n    module.exports = isObject;\n\n","// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.prototype['finally'] = function(callback) {\n  var constructor = this.constructor;\n  return this.then(\n    function(value) {\n      return constructor.resolve(callback()).then(function() {\n        return value;\n      });\n    },\n    function(reason) {\n      return constructor.resolve(callback()).then(function() {\n        return constructor.reject(reason);\n      });\n    }\n  );\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/**\n * Shorter and fast way to select a single node in the DOM\n * @param   { String } selector - unique dom selector\n * @param   { Object } ctx - DOM node where the target of our search will is located\n * @returns { Object } dom node found\n */\nexport default function $(selector, ctx) {\n  return (ctx || document).querySelector(selector)\n}","export\nconst\n  // be aware, internal usage\n  // ATTENTION: prefix the global dynamic variables with `__`\n  // tags instances cache\n  __TAGS_CACHE = [],\n  // tags implementation cache\n  __TAG_IMPL = {},\n  YIELD_TAG = 'yield',\n\n  /**\n   * Const\n   */\n  GLOBAL_MIXIN = '__global_mixin',\n\n  // riot specific prefixes or attributes\n  ATTRS_PREFIX = 'riot-',\n\n  // Riot Directives\n  REF_DIRECTIVES = ['ref', 'data-ref'],\n  IS_DIRECTIVE = 'data-is',\n  CONDITIONAL_DIRECTIVE = 'if',\n  LOOP_DIRECTIVE = 'each',\n  LOOP_NO_REORDER_DIRECTIVE = 'no-reorder',\n  SHOW_DIRECTIVE = 'show',\n  HIDE_DIRECTIVE = 'hide',\n  KEY_DIRECTIVE = 'key',\n  RIOT_EVENTS_KEY = '__riot-events__',\n\n  // for typeof == '' comparisons\n  T_STRING = 'string',\n  T_OBJECT = 'object',\n  T_UNDEF  = 'undefined',\n  T_FUNCTION = 'function',\n\n  XLINK_NS = 'http://www.w3.org/1999/xlink',\n  SVG_NS = 'http://www.w3.org/2000/svg',\n  XLINK_REGEX = /^xlink:(\\w+)/,\n\n  WIN = typeof window === T_UNDEF ? undefined : window,\n\n  // special native tags that cannot be treated like the others\n  RE_SPECIAL_TAGS = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,\n  RE_SPECIAL_TAGS_NO_OPTION = /^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,\n  RE_EVENTS_PREFIX = /^on/,\n  RE_HTML_ATTRS = /([-\\w]+) ?= ?(?:\"([^\"]*)|'([^']*)|({[^}]*}))/g,\n  // some DOM attributes must be normalized\n  CASE_SENSITIVE_ATTRIBUTES = {\n    'viewbox': 'viewBox',\n    'preserveaspectratio': 'preserveAspectRatio'\n  },\n  /**\n   * Matches boolean HTML attributes in the riot tag definition.\n   * With a long list like this, a regex is faster than `[].indexOf` in most browsers.\n   * @const {RegExp}\n   * @see [attributes.md](https://github.com/riot/compiler/blob/dev/doc/attributes.md)\n   */\n  RE_BOOL_ATTRS = /^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,\n  // version# for IE 8-11, 0 for others\n  IE_VERSION = (WIN && WIN.document || {}).documentMode | 0\n","import { SVG_NS } from './../../global-variables'\n/**\n * Create a generic DOM node\n * @param   { String } name - name of the DOM node we want to create\n * @returns { Object } DOM node just created\n */\nexport default function makeElement(name) {\n  return name === 'svg' ? document.createElementNS(SVG_NS, name) : document.createElement(name)\n}","import { XLINK_NS, XLINK_REGEX } from './../../global-variables'\n/**\n * Set any DOM attribute\n * @param { Object } dom - DOM node we want to update\n * @param { String } name - name of the property we want to set\n * @param { String } val - value of the property we want to set\n */\nexport default function setAttribute(dom, name, val) {\n  const xlink = XLINK_REGEX.exec(name)\n  if (xlink && xlink[1])\n    dom.setAttributeNS(XLINK_NS, xlink[1], val)\n  else\n    dom.setAttribute(name, val)\n}","import $ from './../common/util/dom/$'\nimport makeElement from './../common/util/dom/make-element'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport { WIN } from './../common/global-variables'\n\nlet styleNode\n// Create cache and shortcut to the correct property\nlet cssTextProp\nlet byName = {}\nlet remainder = []\nlet needsInject = false\n\n// skip the following code on the server\nif (WIN) {\n  styleNode = ((() => {\n    // create a new style element with the correct type\n    const newNode = makeElement('style')\n    // replace any user node or insert the new one into the head\n    const userNode = $('style[type=riot]')\n\n    setAttribute(newNode, 'type', 'text/css')\n    /* istanbul ignore next */\n    if (userNode) {\n      if (userNode.id) newNode.id = userNode.id\n      userNode.parentNode.replaceChild(newNode, userNode)\n    } else document.head.appendChild(newNode)\n\n    return newNode\n  }))()\n  cssTextProp = styleNode.styleSheet\n}\n\n/**\n * Object that will be used to inject and manage the css of every tag instance\n */\nexport default {\n  styleNode,\n  /**\n   * Save a tag style to be later injected into DOM\n   * @param { String } css - css string\n   * @param { String } name - if it's passed we will map the css to a tagname\n   */\n  add(css, name) {\n    if (name) byName[name] = css\n    else remainder.push(css)\n    needsInject = true\n  },\n  /**\n   * Inject all previously saved tag styles into DOM\n   * innerHTML seems slow: http://jsperf.com/riot-insert-style\n   */\n  inject() {\n    if (!WIN || !needsInject) return\n    needsInject = false\n    const style = Object.keys(byName)\n      .map(k => byName[k])\n      .concat(remainder).join('\\n')\n    /* istanbul ignore next */\n    if (cssTextProp) cssTextProp.cssText = style\n    else styleNode.innerHTML = style\n  }\n}\n","\n/**\n * The riot template engine\n * @version v3.0.8\n */\n\nvar skipRegex = (function () { //eslint-disable-line no-unused-vars\n\n  var beforeReChars = '[{(,;:?=|&!^~>%*/'\n\n  var beforeReWords = [\n    'case',\n    'default',\n    'do',\n    'else',\n    'in',\n    'instanceof',\n    'prefix',\n    'return',\n    'typeof',\n    'void',\n    'yield'\n  ]\n\n  var wordsLastChar = beforeReWords.reduce(function (s, w) {\n    return s + w.slice(-1)\n  }, '')\n\n  var RE_REGEX = /^\\/(?=[^*>/])[^[/\\\\]*(?:(?:\\\\.|\\[(?:\\\\.|[^\\]\\\\]*)*\\])[^[\\\\/]*)*?\\/[gimuy]*/\n  var RE_VN_CHAR = /[$\\w]/\n\n  function prev (code, pos) {\n    while (--pos >= 0 && /\\s/.test(code[pos]));\n    return pos\n  }\n\n  function _skipRegex (code, start) {\n\n    var re = /.*/g\n    var pos = re.lastIndex = start++\n    var match = re.exec(code)[0].match(RE_REGEX)\n\n    if (match) {\n      var next = pos + match[0].length\n\n      pos = prev(code, pos)\n      var c = code[pos]\n\n      if (pos < 0 || ~beforeReChars.indexOf(c)) {\n        return next\n      }\n\n      if (c === '.') {\n\n        if (code[pos - 1] === '.') {\n          start = next\n        }\n\n      } else if (c === '+' || c === '-') {\n\n        if (code[--pos] !== c ||\n            (pos = prev(code, pos)) < 0 ||\n            !RE_VN_CHAR.test(code[pos])) {\n          start = next\n        }\n\n      } else if (~wordsLastChar.indexOf(c)) {\n\n        var end = pos + 1\n\n        while (--pos >= 0 && RE_VN_CHAR.test(code[pos]));\n        if (~beforeReWords.indexOf(code.slice(pos + 1, end))) {\n          start = next\n        }\n      }\n    }\n\n    return start\n  }\n\n  return _skipRegex\n\n})()\n\n/**\n * riot.util.brackets\n *\n * - `brackets    ` - Returns a string or regex based on its parameter\n * - `brackets.set` - Change the current riot brackets\n *\n * @module\n */\n\n/* global riot */\n\nexport\nvar brackets = (function (UNDEF) {\n\n  var\n    REGLOB = 'g',\n\n    R_MLCOMMS = /\\/\\*[^*]*\\*+(?:[^*\\/][^*]*\\*+)*\\//g,\n\n    R_STRINGS = /\"[^\"\\\\]*(?:\\\\[\\S\\s][^\"\\\\]*)*\"|'[^'\\\\]*(?:\\\\[\\S\\s][^'\\\\]*)*'|`[^`\\\\]*(?:\\\\[\\S\\s][^`\\\\]*)*`/g,\n\n    S_QBLOCKS = R_STRINGS.source + '|' +\n      /(?:\\breturn\\s+|(?:[$\\w\\)\\]]|\\+\\+|--)\\s*(\\/)(?![*\\/]))/.source + '|' +\n      /\\/(?=[^*\\/])[^[\\/\\\\]*(?:(?:\\[(?:\\\\.|[^\\]\\\\]*)*\\]|\\\\.)[^[\\/\\\\]*)*?([^<]\\/)[gim]*/.source,\n\n    UNSUPPORTED = RegExp('[\\\\' + 'x00-\\\\x1F<>a-zA-Z0-9\\'\",;\\\\\\\\]'),\n\n    NEED_ESCAPE = /(?=[[\\]()*+?.^$|])/g,\n\n    S_QBLOCK2 = R_STRINGS.source + '|' + /(\\/)(?![*\\/])/.source,\n\n    FINDBRACES = {\n      '(': RegExp('([()])|'   + S_QBLOCK2, REGLOB),\n      '[': RegExp('([[\\\\]])|' + S_QBLOCK2, REGLOB),\n      '{': RegExp('([{}])|'   + S_QBLOCK2, REGLOB)\n    },\n\n    DEFAULT = '{ }'\n\n  var _pairs = [\n    '{', '}',\n    '{', '}',\n    /{[^}]*}/,\n    /\\\\([{}])/g,\n    /\\\\({)|{/g,\n    RegExp('\\\\\\\\(})|([[({])|(})|' + S_QBLOCK2, REGLOB),\n    DEFAULT,\n    /^\\s*{\\^?\\s*([$\\w]+)(?:\\s*,\\s*(\\S+))?\\s+in\\s+(\\S.*)\\s*}/,\n    /(^|[^\\\\]){=[\\S\\s]*?}/\n  ]\n\n  var\n    cachedBrackets = UNDEF,\n    _regex,\n    _cache = [],\n    _settings\n\n  function _loopback (re) { return re }\n\n  function _rewrite (re, bp) {\n    if (!bp) bp = _cache\n    return new RegExp(\n      re.source.replace(/{/g, bp[2]).replace(/}/g, bp[3]), re.global ? REGLOB : ''\n    )\n  }\n\n  function _create (pair) {\n    if (pair === DEFAULT) return _pairs\n\n    var arr = pair.split(' ')\n\n    if (arr.length !== 2 || UNSUPPORTED.test(pair)) {\n      throw new Error('Unsupported brackets \"' + pair + '\"')\n    }\n    arr = arr.concat(pair.replace(NEED_ESCAPE, '\\\\').split(' '))\n\n    arr[4] = _rewrite(arr[1].length > 1 ? /{[\\S\\s]*?}/ : _pairs[4], arr)\n    arr[5] = _rewrite(pair.length > 3 ? /\\\\({|})/g : _pairs[5], arr)\n    arr[6] = _rewrite(_pairs[6], arr)\n    arr[7] = RegExp('\\\\\\\\(' + arr[3] + ')|([[({])|(' + arr[3] + ')|' + S_QBLOCK2, REGLOB)\n    arr[8] = pair\n    return arr\n  }\n\n  function _brackets (reOrIdx) {\n    return reOrIdx instanceof RegExp ? _regex(reOrIdx) : _cache[reOrIdx]\n  }\n\n  _brackets.split = function split (str, tmpl, _bp) {\n    // istanbul ignore next: _bp is for the compiler\n    if (!_bp) _bp = _cache\n\n    var\n      parts = [],\n      match,\n      isexpr,\n      start,\n      pos,\n      re = _bp[6]\n\n    var qblocks = []\n    var prevStr = ''\n    var mark, lastIndex\n\n    isexpr = start = re.lastIndex = 0\n\n    while ((match = re.exec(str))) {\n\n      lastIndex = re.lastIndex\n      pos = match.index\n\n      if (isexpr) {\n\n        if (match[2]) {\n\n          var ch = match[2]\n          var rech = FINDBRACES[ch]\n          var ix = 1\n\n          rech.lastIndex = lastIndex\n          while ((match = rech.exec(str))) {\n            if (match[1]) {\n              if (match[1] === ch) ++ix\n              else if (!--ix) break\n            } else {\n              rech.lastIndex = pushQBlock(match.index, rech.lastIndex, match[2])\n            }\n          }\n          re.lastIndex = ix ? str.length : rech.lastIndex\n          continue\n        }\n\n        if (!match[3]) {\n          re.lastIndex = pushQBlock(pos, lastIndex, match[4])\n          continue\n        }\n      }\n\n      if (!match[1]) {\n        unescapeStr(str.slice(start, pos))\n        start = re.lastIndex\n        re = _bp[6 + (isexpr ^= 1)]\n        re.lastIndex = start\n      }\n    }\n\n    if (str && start < str.length) {\n      unescapeStr(str.slice(start))\n    }\n\n    parts.qblocks = qblocks\n\n    return parts\n\n    function unescapeStr (s) {\n      if (prevStr) {\n        s = prevStr + s\n        prevStr = ''\n      }\n      if (tmpl || isexpr) {\n        parts.push(s && s.replace(_bp[5], '$1'))\n      } else {\n        parts.push(s)\n      }\n    }\n\n    function pushQBlock(_pos, _lastIndex, slash) { //eslint-disable-line\n      if (slash) {\n        _lastIndex = skipRegex(str, _pos)\n      }\n\n      if (tmpl && _lastIndex > _pos + 2) {\n        mark = '\\u2057' + qblocks.length + '~'\n        qblocks.push(str.slice(_pos, _lastIndex))\n        prevStr += str.slice(start, _pos) + mark\n        start = _lastIndex\n      }\n      return _lastIndex\n    }\n  }\n\n  _brackets.hasExpr = function hasExpr (str) {\n    return _cache[4].test(str)\n  }\n\n  _brackets.loopKeys = function loopKeys (expr) {\n    var m = expr.match(_cache[9])\n\n    return m\n      ? { key: m[1], pos: m[2], val: _cache[0] + m[3].trim() + _cache[1] }\n      : { val: expr.trim() }\n  }\n\n  _brackets.array = function array (pair) {\n    return pair ? _create(pair) : _cache\n  }\n\n  function _reset (pair) {\n    if ((pair || (pair = DEFAULT)) !== _cache[8]) {\n      _cache = _create(pair)\n      _regex = pair === DEFAULT ? _loopback : _rewrite\n      _cache[9] = _regex(_pairs[9])\n    }\n    cachedBrackets = pair\n  }\n\n  function _setSettings (o) {\n    var b\n\n    o = o || {}\n    b = o.brackets\n    Object.defineProperty(o, 'brackets', {\n      set: _reset,\n      get: function () { return cachedBrackets },\n      enumerable: true\n    })\n    _settings = o\n    _reset(b)\n  }\n\n  Object.defineProperty(_brackets, 'settings', {\n    set: _setSettings,\n    get: function () { return _settings }\n  })\n\n  /* istanbul ignore next: in the browser riot is always in the scope */\n  _brackets.settings = typeof riot !== 'undefined' && riot.settings || {}\n  _brackets.set = _reset\n  _brackets.skipRegex = skipRegex\n\n  _brackets.R_STRINGS = R_STRINGS\n  _brackets.R_MLCOMMS = R_MLCOMMS\n  _brackets.S_QBLOCKS = S_QBLOCKS\n  _brackets.S_QBLOCK2 = S_QBLOCK2\n\n  return _brackets\n\n})()\n\n/**\n * @module tmpl\n *\n * tmpl          - Root function, returns the template value, render with data\n * tmpl.hasExpr  - Test the existence of a expression inside a string\n * tmpl.loopKeys - Get the keys for an 'each' loop (used by `_each`)\n */\n\nexport\nvar tmpl = (function () {\n\n  var _cache = {}\n\n  function _tmpl (str, data) {\n    if (!str) return str\n\n    return (_cache[str] || (_cache[str] = _create(str))).call(\n      data, _logErr.bind({\n        data: data,\n        tmpl: str\n      })\n    )\n  }\n\n  _tmpl.hasExpr = brackets.hasExpr\n\n  _tmpl.loopKeys = brackets.loopKeys\n\n  // istanbul ignore next\n  _tmpl.clearCache = function () { _cache = {} }\n\n  _tmpl.errorHandler = null\n\n  function _logErr (err, ctx) {\n\n    err.riotData = {\n      tagName: ctx && ctx.__ && ctx.__.tagName,\n      _riot_id: ctx && ctx._riot_id  //eslint-disable-line camelcase\n    }\n\n    if (_tmpl.errorHandler) _tmpl.errorHandler(err)\n    else if (\n      typeof console !== 'undefined' &&\n      typeof console.error === 'function'\n    ) {\n      console.error(err.message)\n      console.log('<%s> %s', err.riotData.tagName || 'Unknown tag', this.tmpl) // eslint-disable-line\n      console.log(this.data) // eslint-disable-line\n    }\n  }\n\n  function _create (str) {\n    var expr = _getTmpl(str)\n\n    if (expr.slice(0, 11) !== 'try{return ') expr = 'return ' + expr\n\n    return new Function('E', expr + ';')    // eslint-disable-line no-new-func\n  }\n\n  var RE_DQUOTE = /\\u2057/g\n  var RE_QBMARK = /\\u2057(\\d+)~/g\n\n  function _getTmpl (str) {\n    var parts = brackets.split(str.replace(RE_DQUOTE, '\"'), 1)\n    var qstr = parts.qblocks\n    var expr\n\n    if (parts.length > 2 || parts[0]) {\n      var i, j, list = []\n\n      for (i = j = 0; i < parts.length; ++i) {\n\n        expr = parts[i]\n\n        if (expr && (expr = i & 1\n\n            ? _parseExpr(expr, 1, qstr)\n\n            : '\"' + expr\n                .replace(/\\\\/g, '\\\\\\\\')\n                .replace(/\\r\\n?|\\n/g, '\\\\n')\n                .replace(/\"/g, '\\\\\"') +\n              '\"'\n\n          )) list[j++] = expr\n\n      }\n\n      expr = j < 2 ? list[0]\n           : '[' + list.join(',') + '].join(\"\")'\n\n    } else {\n\n      expr = _parseExpr(parts[1], 0, qstr)\n    }\n\n    if (qstr.length) {\n      expr = expr.replace(RE_QBMARK, function (_, pos) {\n        return qstr[pos]\n          .replace(/\\r/g, '\\\\r')\n          .replace(/\\n/g, '\\\\n')\n      })\n    }\n    return expr\n  }\n\n  var RE_CSNAME = /^(?:(-?[_A-Za-z\\xA0-\\xFF][-\\w\\xA0-\\xFF]*)|\\u2057(\\d+)~):/\n  var\n    RE_BREND = {\n      '(': /[()]/g,\n      '[': /[[\\]]/g,\n      '{': /[{}]/g\n    }\n\n  function _parseExpr (expr, asText, qstr) {\n\n    expr = expr\n      .replace(/\\s+/g, ' ').trim()\n      .replace(/\\ ?([[\\({},?\\.:])\\ ?/g, '$1')\n\n    if (expr) {\n      var\n        list = [],\n        cnt = 0,\n        match\n\n      while (expr &&\n            (match = expr.match(RE_CSNAME)) &&\n            !match.index\n        ) {\n        var\n          key,\n          jsb,\n          re = /,|([[{(])|$/g\n\n        expr = RegExp.rightContext\n        key  = match[2] ? qstr[match[2]].slice(1, -1).trim().replace(/\\s+/g, ' ') : match[1]\n\n        while (jsb = (match = re.exec(expr))[1]) skipBraces(jsb, re)\n\n        jsb  = expr.slice(0, match.index)\n        expr = RegExp.rightContext\n\n        list[cnt++] = _wrapExpr(jsb, 1, key)\n      }\n\n      expr = !cnt ? _wrapExpr(expr, asText)\n           : cnt > 1 ? '[' + list.join(',') + '].join(\" \").trim()' : list[0]\n    }\n    return expr\n\n    function skipBraces (ch, re) {\n      var\n        mm,\n        lv = 1,\n        ir = RE_BREND[ch]\n\n      ir.lastIndex = re.lastIndex\n      while (mm = ir.exec(expr)) {\n        if (mm[0] === ch) ++lv\n        else if (!--lv) break\n      }\n      re.lastIndex = lv ? expr.length : ir.lastIndex\n    }\n  }\n\n  // istanbul ignore next: not both\n  var // eslint-disable-next-line max-len\n    JS_CONTEXT = '\"in this?this:' + (typeof window !== 'object' ? 'global' : 'window') + ').',\n    JS_VARNAME = /[,{][\\$\\w]+(?=:)|(^ *|[^$\\w\\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\\w]))([$_A-Za-z][$\\w]*)/g,\n    JS_NOPROPS = /^(?=(\\.[$\\w]+))\\1(?:[^.[(]|$)/\n\n  function _wrapExpr (expr, asText, key) {\n    var tb\n\n    expr = expr.replace(JS_VARNAME, function (match, p, mvar, pos, s) {\n      if (mvar) {\n        pos = tb ? 0 : pos + match.length\n\n        if (mvar !== 'this' && mvar !== 'global' && mvar !== 'window') {\n          match = p + '(\"' + mvar + JS_CONTEXT + mvar\n          if (pos) tb = (s = s[pos]) === '.' || s === '(' || s === '['\n        } else if (pos) {\n          tb = !JS_NOPROPS.test(s.slice(pos))\n        }\n      }\n      return match\n    })\n\n    if (tb) {\n      expr = 'try{return ' + expr + '}catch(e){E(e,this)}'\n    }\n\n    if (key) {\n\n      expr = (tb\n          ? 'function(){' + expr + '}.call(this)' : '(' + expr + ')'\n        ) + '?\"' + key + '\":\"\"'\n\n    } else if (asText) {\n\n      expr = 'function(v){' + (tb\n          ? expr.replace('return ', 'v=') : 'v=(' + expr + ')'\n        ) + ';return v||v===0?v:\"\"}.call(this)'\n    }\n\n    return expr\n  }\n\n  _tmpl.version = brackets.version = 'v3.0.8'\n\n  return _tmpl\n\n})()\n\n","var observable = function(el) {\n\n  /**\n   * Extend the original object or create a new empty one\n   * @type { Object }\n   */\n\n  el = el || {}\n\n  /**\n   * Private variables\n   */\n  var callbacks = {},\n    slice = Array.prototype.slice\n\n  /**\n   * Public Api\n   */\n\n  // extend the el object adding the observable methods\n  Object.defineProperties(el, {\n    /**\n     * Listen to the given `event` ands\n     * execute the `callback` each time an event is triggered.\n     * @param  { String } event - event id\n     * @param  { Function } fn - callback function\n     * @returns { Object } el\n     */\n    on: {\n      value: function(event, fn) {\n        if (typeof fn == 'function')\n          (callbacks[event] = callbacks[event] || []).push(fn)\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Removes the given `event` listeners\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    off: {\n      value: function(event, fn) {\n        if (event == '*' && !fn) callbacks = {}\n        else {\n          if (fn) {\n            var arr = callbacks[event]\n            for (var i = 0, cb; cb = arr && arr[i]; ++i) {\n              if (cb == fn) arr.splice(i--, 1)\n            }\n          } else delete callbacks[event]\n        }\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Listen to the given `event` and\n     * execute the `callback` at most once\n     * @param   { String } event - event id\n     * @param   { Function } fn - callback function\n     * @returns { Object } el\n     */\n    one: {\n      value: function(event, fn) {\n        function on() {\n          el.off(event, on)\n          fn.apply(el, arguments)\n        }\n        return el.on(event, on)\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    },\n\n    /**\n     * Execute all callback functions that listen to\n     * the given `event`\n     * @param   { String } event - event id\n     * @returns { Object } el\n     */\n    trigger: {\n      value: function(event) {\n\n        // getting the arguments\n        var arglen = arguments.length - 1,\n          args = new Array(arglen),\n          fns,\n          fn,\n          i\n\n        for (i = 0; i < arglen; i++) {\n          args[i] = arguments[i + 1] // skip first argument\n        }\n\n        fns = slice.call(callbacks[event] || [], 0)\n\n        for (i = 0; fn = fns[i]; ++i) {\n          fn.apply(el, args)\n        }\n\n        if (callbacks['*'] && event != '*')\n          el.trigger.apply(el, ['*', event].concat(args))\n\n        return el\n      },\n      enumerable: false,\n      writable: false,\n      configurable: false\n    }\n  })\n\n  return el\n\n}\nexport default observable\n","/**\n * Short alias for Object.getOwnPropertyDescriptor\n */\nexport default function getPropDescriptor (o, k) {\n  return Object.getOwnPropertyDescriptor(o, k)\n}","import { T_UNDEF } from './../../global-variables'\n\n/**\n * Check if passed argument is undefined\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isUndefined(value) {\n  return typeof value === T_UNDEF\n}","import getPropDescriptor from '../misc/get-prop-descriptor'\nimport isUndefined from './is-undefined'\n/**\n * Check whether object's property could be overridden\n * @param   { Object }  obj - source object\n * @param   { String }  key - object property\n * @returns { Boolean } true if writable\n */\nexport default function isWritable(obj, key) {\n  const descriptor = getPropDescriptor(obj, key)\n  return isUndefined(obj[key]) || descriptor && descriptor.writable\n}\n","import isWritable from '../checks/is-writable'\n\n/**\n * Extend any object with other properties\n * @param   { Object } src - source object\n * @returns { Object } the resulting extended object\n *\n * var obj = { foo: 'baz' }\n * extend(obj, {bar: 'bar', foo: 'bar'})\n * console.log(obj) => {bar: 'bar', foo: 'bar'}\n *\n */\nexport default function extend(src) {\n  let obj\n  let i = 1\n  const args = arguments\n  const l = args.length\n\n  for (; i < l; i++) {\n    if (obj = args[i]) {\n      for (const key in obj) {\n        // check if this property of the source object could be overridden\n        if (isWritable(src, key))\n          src[key] = obj[key]\n      }\n    }\n  }\n  return src\n}","/**\n * Alias for Object.create\n */\nexport default function create(src) {\n  return Object.create(src)\n}","import extend from './browser/common/util/misc/extend'\nimport create from './browser/common/util/misc/object-create'\nimport { brackets } from 'riot-tmpl'\n\nexport default extend(create(brackets.settings), {\n  skipAnonymousTags: true,\n  // handle the auto updates on any DOM event\n  autoUpdate: true\n})","/**\n * Shorter and fast way to select multiple nodes in the DOM\n * @param   { String } selector - DOM selector\n * @param   { Object } ctx - DOM node where the targets of our search will is located\n * @returns { Object } dom nodes found\n */\nexport default function $$(selector, ctx) {\n  return [].slice.call((ctx || document).querySelectorAll(selector))\n}","/**\n * Create a document text node\n * @returns { Object } create a text node to use as placeholder\n */\nexport default function createDOMPlaceholder() {\n  return document.createTextNode('')\n}","/**\n * Toggle the visibility of any DOM node\n * @param   { Object }  dom - DOM node we want to hide\n * @param   { Boolean } show - do we want to show it?\n */\n\nexport default function toggleVisibility(dom, show) {\n  dom.style.display = show ? '' : 'none'\n  dom.hidden = show ? false : true\n}","/**\n * Get the value of any DOM attribute on a node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { String } name - name of the attribute we want to get\n * @returns { String | undefined } name of the node attribute whether it exists\n */\nexport default function getAttribute(dom, name) {\n  return dom.getAttribute(name)\n}","/**\n * Remove any DOM attribute from a node\n * @param   { Object } dom - DOM node we want to update\n * @param   { String } name - name of the property we want to remove\n */\nexport default function removeAttribute(dom, name) {\n  dom.removeAttribute(name)\n}","import { SVG_NS } from './../../global-variables'\n\n/**\n * Set the inner html of any DOM node SVGs included\n * @param { Object } container - DOM node where we'll inject new html\n * @param { String } html - html to inject\n * @param { Boolean } isSvg - svg tags should be treated a bit differently\n */\n/* istanbul ignore next */\nexport default function setInnerHTML(container, html, isSvg) {\n  // innerHTML is not supported on svg tags so we neet to treat them differently\n  if (isSvg) {\n    const node = container.ownerDocument.importNode(\n      new DOMParser()\n        .parseFromString(`<svg xmlns=\"${ SVG_NS }\">${ html }</svg>`, 'application/xml')\n        .documentElement,\n      true\n    )\n\n    container.appendChild(node)\n  } else {\n    container.innerHTML = html\n  }\n}","import { RE_HTML_ATTRS } from './../../global-variables'\n/**\n * Minimize risk: only zero or one _space_ between attr & value\n * @param   { String }   html - html string we want to parse\n * @param   { Function } fn - callback function to apply on any attribute found\n */\nexport default function walkAttributes(html, fn) {\n  if (!html) return\n  let m\n  while (m = RE_HTML_ATTRS.exec(html))\n    fn(m[1].toLowerCase(), m[2] || m[3] || m[4])\n}\n","/**\n * Create a document fragment\n * @returns { Object } document fragment\n */\nexport default function createFragment() {\n  return document.createDocumentFragment()\n}\n","/**\n * Insert safely a tag to fix #1962 #1649\n * @param   { HTMLElement } root - children container\n * @param   { HTMLElement } curr - node to insert\n * @param   { HTMLElement } next - node that should preceed the current node inserted\n */\nexport default function safeInsert(root, curr, next) {\n  root.insertBefore(curr, next.parentNode && next)\n}","/**\n * Convert a style object to a string\n * @param   { Object } style - style object we need to parse\n * @returns { String } resulting css string\n * @example\n * styleObjectToString({ color: 'red', height: '10px'}) // => 'color: red; height: 10px'\n */\nexport default function styleObjectToString(style) {\n  return Object.keys(style).reduce((acc, prop) => {\n    return `${acc} ${prop}: ${style[prop]};`\n  }, '')\n}","/**\n * Walk down recursively all the children tags starting dom node\n * @param   { Object }   dom - starting node where we will start the recursion\n * @param   { Function } fn - callback to transform the child node just found\n * @param   { Object }   context - fn can optionally return an object, which is passed to children\n */\nexport default function walkNodes(dom, fn, context) {\n  if (dom) {\n    const res = fn(dom, context)\n    let next\n    // stop the recursion\n    if (res === false) return\n\n    dom = dom.firstChild\n\n    while (dom) {\n      next = dom.nextSibling\n      walkNodes(dom, fn, res)\n      dom = next\n    }\n  }\n}","import isUndefined from './is-undefined'\n\n/**\n * Check against the null and undefined values\n * @param   { * }  value -\n * @returns {Boolean} -\n */\nexport default function isNil(value) {\n  return isUndefined(value) || value === null\n}","import isNil from './is-nil'\n\n/**\n * Check if passed argument is empty. Different from falsy, because we dont consider 0 or false to be blank\n * @param { * } value -\n * @returns { Boolean } -\n */\nexport default function isBlank(value) {\n  return isNil(value) || value === ''\n}\n","import { T_FUNCTION } from './../../global-variables'\n/**\n * Check if passed argument is a function\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isFunction(value) {\n  return typeof value === T_FUNCTION\n}","import { T_OBJECT } from './../../global-variables'\n\n/**\n * Check if passed argument is an object, exclude null\n * NOTE: use isObject(x) && !isArray(x) to excludes arrays.\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isObject(value) {\n  return value && typeof value === T_OBJECT // typeof null is 'object'\n}\n","/**\n * Check if a DOM node is an svg tag or part of an svg\n * @param   { HTMLElement }  el - node we want to test\n * @returns {Boolean} true if it's an svg node\n */\nexport default function isSvg(el) {\n  const owner = el.ownerSVGElement\n  return !!owner || owner === null\n}","/**\n * Check if passed argument is a kind of array\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isArray(value) {\n  return Array.isArray(value) || value instanceof Array\n}","import { RE_BOOL_ATTRS } from './../../global-variables'\n/**\n * Check if the passed argument is a boolean attribute\n * @param   { String } value -\n * @returns { Boolean } -\n */\nexport default function isBoolAttr(value) {\n  return RE_BOOL_ATTRS.test(value)\n}","import { T_STRING } from './../../global-variables'\n\n/**\n * Check if passed argument is a string\n * @param   { * } value -\n * @returns { Boolean } -\n */\nexport default function isString(value) {\n  return typeof value === T_STRING\n}\n","/**\n * Check whether an array contains an item\n * @param   { Array } array - target array\n * @param   { * } item - item to test\n * @returns { Boolean } -\n */\nexport default function contains(array, item) {\n  return array.indexOf(item) !== -1\n}","/**\n * Specialized function for looping an array-like collection with `each={}`\n * @param   { Array } list - collection of items\n * @param   {Function} fn - callback function\n * @returns { Array } the array looped\n */\nexport default function each(list, fn) {\n  const len = list ? list.length : 0\n  let i = 0\n  for (; i < len; i++) fn(list[i], i)\n  return list\n}","/**\n * Faster String startsWith alternative\n * @param   { String } str - source string\n * @param   { String } value - test string\n * @returns { Boolean } -\n */\nexport default function startsWith(str, value) {\n  return str.slice(0, value.length) === value\n}","/**\n * Function returning always a unique identifier\n * @returns { Number } - number from 0...n\n */\nexport default (function uid() {\n  let i = -1\n  return () => ++i\n})()\n\n","import extend from './extend'\n\n/**\n * Helper function to set an immutable property\n * @param   { Object } el - object where the new property will be set\n * @param   { String } key - object key where the new property will be stored\n * @param   { * } value - value of the new property\n * @param   { Object } options - set the propery overriding the default options\n * @returns { Object } - the initial object\n */\nexport default function define(el, key, value, options) {\n  Object.defineProperty(el, key, extend({\n    value,\n    enumerable: false,\n    writable: false,\n    configurable: true\n  }, options))\n  return el\n}","/**\n * Convert a string containing dashes to camel case\n * @param   { String } str - input string\n * @returns { String } my-string -> myString\n */\nexport default function toCamel(str) {\n  return str.replace(/-(\\w)/g, (_, c) => c.toUpperCase())\n}","/**\n * Warn a message via console\n * @param   {String} message - warning message\n */\nexport default function warn(message) {\n  if (console && console.warn) console.warn(message)\n}\n","import isArray from '../checks/is-array'\nimport isUndefined from '../checks/is-undefined'\n\n/**\n * Set the property of an object for a given key. If something already\n * exists there, then it becomes an array containing both the old and new value.\n * @param { Object } obj - object on which to set the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be set\n * @param { Boolean } ensureArray - ensure that the property remains an array\n * @param { Number } index - add the new item in a certain array position\n */\nexport default function arrayishAdd(obj, key, value, ensureArray, index) {\n  const dest = obj[key]\n  const isArr = isArray(dest)\n  const hasIndex = !isUndefined(index)\n\n  if (dest && dest === value) return\n\n  // if the key was never set, set it once\n  if (!dest && ensureArray) obj[key] = [value]\n  else if (!dest) obj[key] = value\n  // if it was an array and not yet set\n  else {\n    if (isArr) {\n      const oldIndex = dest.indexOf(value)\n      // this item never changed its position\n      if (oldIndex === index) return\n      // remove the item from its old position\n      if (oldIndex !== -1) dest.splice(oldIndex, 1)\n      // move or add the item\n      if (hasIndex) {\n        dest.splice(index, 0, value)\n      } else {\n        dest.push(value)\n      }\n    } else obj[key] = [dest, value]\n  }\n}","import { __TAG_IMPL, IS_DIRECTIVE } from './../../global-variables'\nimport getAttr from '../dom/get-attribute'\n\n/**\n * Detect the tag implementation by a DOM node\n * @param   { Object } dom - DOM node we need to parse to get its tag implementation\n * @returns { Object } it returns an object containing the implementation of a custom tag (template and boot function)\n */\nexport default function get(dom) {\n  return dom.tagName && __TAG_IMPL[getAttr(dom, IS_DIRECTIVE) ||\n    getAttr(dom, IS_DIRECTIVE) || dom.tagName.toLowerCase()]\n}","import { IS_DIRECTIVE } from './../../global-variables'\nimport { tmpl } from 'riot-tmpl'\nimport get from './get'\nimport getAttribute from '../dom/get-attribute'\n/**\n * Get the tag name of any DOM node\n * @param   { Object } dom - DOM node we want to parse\n * @param   { Boolean } skipDataIs - hack to ignore the data-is attribute when attaching to parent\n * @returns { String } name to identify this dom node in riot\n */\nexport default function getName(dom, skipDataIs) {\n  const child = get(dom)\n  const namedTag = !skipDataIs && getAttribute(dom, IS_DIRECTIVE)\n  return namedTag && !tmpl.hasExpr(namedTag) ?\n    namedTag : child ? child.name : dom.tagName.toLowerCase()\n}","import extend from '../misc/extend'\nimport create from '../misc/object-create'\n/**\n * Return a temporary context containing also the parent properties\n * @this Tag\n * @param { Tag } - temporary tag context containing all the parent properties\n */\nexport default function inheritParentProps() {\n  if (this.parent) return extend(create(this), this.parent)\n  return this\n}","import makeElement from './../common/util/dom/make-element'\nimport setInnerHTML from './../common/util/dom/set-inner-HTML'\nimport $ from './../common/util/dom/$'\n\nimport {\n  IE_VERSION,\n  RE_SPECIAL_TAGS,\n  RE_SPECIAL_TAGS_NO_OPTION\n} from './../common/global-variables'\n\n/*\n  Includes hacks needed for the Internet Explorer version 9 and below\n  See: http://kangax.github.io/compat-table/es5/#ie8\n       http://codeplanet.io/dropping-ie8/\n*/\n\nconst\n  reHasYield  = /<yield\\b/i,\n  reYieldAll  = /<yield\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>|>)/ig,\n  reYieldSrc  = /<yield\\s+to=['\"]([^'\">]*)['\"]\\s*>([\\S\\s]*?)<\\/yield\\s*>/ig,\n  reYieldDest = /<yield\\s+from=['\"]?([-\\w]+)['\"]?\\s*(?:\\/>|>([\\S\\s]*?)<\\/yield\\s*>)/ig,\n  rootEls = { tr: 'tbody', th: 'tr', td: 'tr', col: 'colgroup' },\n  tblTags = IE_VERSION && IE_VERSION < 10 ? RE_SPECIAL_TAGS : RE_SPECIAL_TAGS_NO_OPTION,\n  GENERIC = 'div',\n  SVG = 'svg'\n\n\n/*\n  Creates the root element for table or select child elements:\n  tr/th/td/thead/tfoot/tbody/caption/col/colgroup/option/optgroup\n*/\nfunction specialTags(el, tmpl, tagName) {\n\n  let\n    select = tagName[0] === 'o',\n    parent = select ? 'select>' : 'table>'\n\n  // trim() is important here, this ensures we don't have artifacts,\n  // so we can check if we have only one element inside the parent\n  el.innerHTML = '<' + parent + tmpl.trim() + '</' + parent\n  parent = el.firstChild\n\n  // returns the immediate parent if tr/th/td/col is the only element, if not\n  // returns the whole tree, as this can include additional elements\n  /* istanbul ignore next */\n  if (select) {\n    parent.selectedIndex = -1  // for IE9, compatible w/current riot behavior\n  } else {\n    // avoids insertion of cointainer inside container (ex: tbody inside tbody)\n    const tname = rootEls[tagName]\n    if (tname && parent.childElementCount === 1) parent = $(tname, parent)\n  }\n  return parent\n}\n\n/*\n  Replace the yield tag from any tag template with the innerHTML of the\n  original tag in the page\n*/\nfunction replaceYield(tmpl, html) {\n  // do nothing if no yield\n  if (!reHasYield.test(tmpl)) return tmpl\n\n  // be careful with #1343 - string on the source having `$1`\n  const src = {}\n\n  html = html && html.replace(reYieldSrc, function (_, ref, text) {\n    src[ref] = src[ref] || text   // preserve first definition\n    return ''\n  }).trim()\n\n  return tmpl\n    .replace(reYieldDest, function (_, ref, def) {  // yield with from - to attrs\n      return src[ref] || def || ''\n    })\n    .replace(reYieldAll, function (_, def) {        // yield without any \"from\"\n      return html || def || ''\n    })\n}\n\n/**\n * Creates a DOM element to wrap the given content. Normally an `DIV`, but can be\n * also a `TABLE`, `SELECT`, `TBODY`, `TR`, or `COLGROUP` element.\n *\n * @param   { String } tmpl  - The template coming from the custom tag definition\n * @param   { String } html - HTML content that comes from the DOM element where you\n *           will mount the tag, mostly the original tag in the page\n * @param   { Boolean } isSvg - true if the root node is an svg\n * @returns { HTMLElement } DOM element with _tmpl_ merged through `YIELD` with the _html_.\n */\nexport default function mkdom(tmpl, html, isSvg) {\n  const match   = tmpl && tmpl.match(/^\\s*<([-\\w]+)/)\n  const  tagName = match && match[1].toLowerCase()\n  let el = makeElement(isSvg ? SVG : GENERIC)\n\n  // replace all the yield tags with the tag inner html\n  tmpl = replaceYield(tmpl, html)\n\n  /* istanbul ignore next */\n  if (tblTags.test(tagName))\n    el = specialTags(el, tmpl, tagName)\n  else\n    setInnerHTML(el, tmpl, isSvg)\n\n  return el\n}\n","/**\n * Loop backward all the parents tree to detect the first custom parent tag\n * @param   { Object } tag - a Tag instance\n * @returns { Object } the instance of the first custom parent tag found\n */\nexport default function getImmediateCustomParent(tag) {\n  let ptag = tag\n  while (ptag.__.isAnonymous) {\n    if (!ptag.parent) break\n    ptag = ptag.parent\n  }\n  return ptag\n}","import isWritable from './../common/util/checks/is-writable'\nimport contains from './../common/util/misc/contains'\nimport { RE_EVENTS_PREFIX, RIOT_EVENTS_KEY } from '../common/global-variables'\nimport getImmediateCustomParent from './../common/util/tags/get-immediate-custom-parent'\nimport settings from '../../settings'\n\n/**\n * Trigger DOM events\n * @param   { HTMLElement } dom - dom element target of the event\n * @param   { Function } handler - user function\n * @param   { Object } e - event object\n */\nfunction handleEvent(dom, handler, e) {\n  let ptag = this.__.parent\n  let item = this.__.item\n\n  if (!item)\n    while (ptag && !item) {\n      item = ptag.__.item\n      ptag = ptag.__.parent\n    }\n\n  // override the event properties\n  /* istanbul ignore next */\n  if (isWritable(e, 'currentTarget')) e.currentTarget = dom\n  /* istanbul ignore next */\n  if (isWritable(e, 'target')) e.target = e.srcElement\n  /* istanbul ignore next */\n  if (isWritable(e, 'which')) e.which = e.charCode || e.keyCode\n\n  e.item = item\n\n  handler.call(this, e)\n\n  // avoid auto updates\n  if (!settings.autoUpdate) return\n\n  if (!e.preventUpdate) {\n    const p = getImmediateCustomParent(this)\n    // fixes #2083\n    if (p.isMounted) p.update()\n  }\n}\n\n/**\n * Attach an event to a DOM node\n * @param { String } name - event name\n * @param { Function } handler - event callback\n * @param { Object } dom - dom node\n * @param { Tag } tag - tag instance\n */\nexport default function setEventHandler(name, handler, dom, tag) {\n  let eventName\n  const cb = handleEvent.bind(tag, dom, handler)\n\n  // avoid to bind twice the same event\n  // possible fix for #2332\n  dom[name] = null\n\n  // normalize event name\n  eventName = name.replace(RE_EVENTS_PREFIX, '')\n\n  // cache the listener into the listeners array\n  if (!contains(tag.__.listeners, dom)) tag.__.listeners.push(dom)\n  if (!dom[RIOT_EVENTS_KEY]) dom[RIOT_EVENTS_KEY] = {}\n  if (dom[RIOT_EVENTS_KEY][name]) dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][name])\n\n  dom[RIOT_EVENTS_KEY][name] = cb\n  dom.addEventListener(eventName, cb, false)\n}\n","import getName from './get-name'\nimport getImmediateCustomParent from './get-immediate-custom-parent'\nimport arrayishAdd from './arrayish-add'\nimport define from '../misc/define'\nimport createTag from './../../../tag/tag'\n\n/**\n * Create a new child tag including it correctly into its parent\n * @param   { Object } child - child tag implementation\n * @param   { Object } opts - tag options containing the DOM node where the tag will be mounted\n * @param   { String } innerHTML - inner html of the child node\n * @param   { Object } parent - instance of the parent tag including the child custom tag\n * @returns { Object } instance of the new child tag just created\n */\nexport default function initChild(child, opts, innerHTML, parent) {\n  const tag = createTag(child, opts, innerHTML)\n  const tagName = opts.tagName || getName(opts.root, true)\n  const ptag = getImmediateCustomParent(parent)\n  // fix for the parent attribute in the looped elements\n  define(tag, 'parent', ptag)\n  // store the real parent tag\n  // in some cases this could be different from the custom parent tag\n  // for example in nested loops\n  tag.__.parent = parent\n\n  // add this tag to the custom parent tag\n  arrayishAdd(ptag.tags, tagName, tag)\n\n  // and also to the real parent tag\n  if (ptag !== parent)\n    arrayishAdd(parent.tags, tagName, tag)\n\n  return tag\n}","import isArray from '../checks/is-array'\n\n/**\n * Removes an item from an object at a given key. If the key points to an array,\n * then the item is just removed from the array.\n * @param { Object } obj - object on which to remove the property\n * @param { String } key - property name\n * @param { Object } value - the value of the property to be removed\n * @param { Boolean } ensureArray - ensure that the property remains an array\n*/\nexport default function arrayishRemove(obj, key, value, ensureArray) {\n  if (isArray(obj[key])) {\n    let index = obj[key].indexOf(value)\n    if (index !== -1) obj[key].splice(index, 1)\n    if (!obj[key].length) delete obj[key]\n    else if (obj[key].length === 1 && !ensureArray) obj[key] = obj[key][0]\n  } else if (obj[key] === value)\n    delete obj[key] // otherwise just delete the key\n}","import createPlaceholder from '../dom/create-placeholder'\nimport createFragment from '../dom/create-fragment'\n/**\n * Adds the elements for a virtual tag\n * @this Tag\n * @param { Node } src - the node that will do the inserting or appending\n * @param { Tag } target - only if inserting, insert before this tag's first child\n */\nexport default function makeVirtual(src, target) {\n  const head = createPlaceholder()\n  const tail = createPlaceholder()\n  const frag = createFragment()\n  let sib\n  let el\n\n  this.root.insertBefore(head, this.root.firstChild)\n  this.root.appendChild(tail)\n\n  this.__.head = el = head\n  this.__.tail = tail\n\n  while (el) {\n    sib = el.nextSibling\n    frag.appendChild(el)\n    this.__.virts.push(el) // hold for unmounting\n    el = sib\n  }\n\n  if (target)\n    src.insertBefore(frag, target.__.head)\n  else\n    src.appendChild(frag)\n}","import createFragment from '../dom/create-fragment'\nimport makeVirtual from './make-virtual'\n/**\n * makes a tag virtual and replaces a reference in the dom\n * @this Tag\n * @param { tag } the tag to make virtual\n * @param { ref } the dom reference location\n */\nexport default function makeReplaceVirtual(tag, ref) {\n  const frag = createFragment()\n  makeVirtual.call(tag, frag)\n  ref.parentNode.replaceChild(frag, ref)\n}\n","import { tmpl } from 'riot-tmpl'\nimport each from './../common/util/misc/each'\nimport contains from './../common/util/misc/contains'\n\nimport isBlank from './../common/util/checks/is-blank'\nimport isObject from './../common/util/checks/is-object'\nimport isString from './../common/util/checks/is-string'\nimport isFunction from './../common/util/checks/is-function'\n\nimport removeAttribute from './../common/util/dom/remove-attribute'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport createPlaceholder from './../common/util/dom/create-placeholder'\nimport toggleVisibility from './../common/util/dom/toggle-visibility'\nimport styleObjectToString from './../common/util/dom/style-object-to-string'\n\nimport setEventHandler from './setEventHandler'\n\nimport initChild from './../common/util/tags/init-child'\nimport arrayishRemove from './../common/util/tags/arrayish-remove'\nimport inheritParentProps from './../common/util/tags/inherit-parent-properties'\nimport replaceVirtual from './../common/util/tags/replace-virtual'\n\nimport {\n  __TAG_IMPL,\n  ATTRS_PREFIX,\n  SHOW_DIRECTIVE,\n  HIDE_DIRECTIVE,\n  IE_VERSION,\n  CASE_SENSITIVE_ATTRIBUTES\n} from './../common/global-variables'\n\n/**\n * Update dynamically created data-is tags with changing expressions\n * @param { Object } expr - expression tag and expression info\n * @param { Tag }    parent - parent for tag creation\n * @param { String } tagName - tag implementation we want to use\n */\nexport function updateDataIs(expr, parent, tagName) {\n  let tag = expr.tag || expr.dom._tag\n  let ref\n\n  const { head } = tag ? tag.__ : {}\n  const isVirtual = expr.dom.tagName === 'VIRTUAL'\n\n  if (tag && expr.tagName === tagName) {\n    tag.update()\n    return\n  }\n\n  // sync _parent to accommodate changing tagnames\n  if (tag) {\n    // need placeholder before unmount\n    if(isVirtual) {\n      ref = createPlaceholder()\n      head.parentNode.insertBefore(ref, head)\n    }\n\n    tag.unmount(true)\n  }\n\n  // unable to get the tag name\n  if (!isString(tagName)) return\n\n  expr.impl = __TAG_IMPL[tagName]\n\n  // unknown implementation\n  if (!expr.impl) return\n\n  expr.tag = tag = initChild(\n    expr.impl, {\n      root: expr.dom,\n      parent,\n      tagName\n    },\n    expr.dom.innerHTML,\n    parent\n  )\n\n  each(expr.attrs, a => setAttribute(tag.root, a.name, a.value))\n  expr.tagName = tagName\n  tag.mount()\n\n  // root exist first time, after use placeholder\n  if (isVirtual) replaceVirtual(tag, ref || tag.root)\n\n  // parent is the placeholder tag, not the dynamic tag so clean up\n  parent.__.onUnmount = () => {\n    const delName = tag.opts.dataIs\n    arrayishRemove(tag.parent.tags, delName, tag)\n    arrayishRemove(tag.__.parent.tags, delName, tag)\n    tag.unmount()\n  }\n}\n\n/**\n * Nomalize any attribute removing the \"riot-\" prefix\n * @param   { String } attrName - original attribute name\n * @returns { String } valid html attribute name\n */\nexport function normalizeAttrName(attrName) {\n  if (!attrName) return null\n  attrName = attrName.replace(ATTRS_PREFIX, '')\n  if (CASE_SENSITIVE_ATTRIBUTES[attrName]) attrName = CASE_SENSITIVE_ATTRIBUTES[attrName]\n  return attrName\n}\n\n/**\n * Update on single tag expression\n * @this Tag\n * @param { Object } expr - expression logic\n * @returns { undefined }\n */\nexport function updateExpression(expr) {\n  if (this.root && getAttribute(this.root,'virtualized')) return\n\n  const dom = expr.dom\n  // remove the riot- prefix\n  const attrName = normalizeAttrName(expr.attr)\n  const isToggle = contains([SHOW_DIRECTIVE, HIDE_DIRECTIVE], attrName)\n  const isVirtual = expr.root && expr.root.tagName === 'VIRTUAL'\n  const { isAnonymous } = this.__\n  const parent = dom && (expr.parent || dom.parentNode)\n  // detect the style attributes\n  const isStyleAttr = attrName === 'style'\n  const isClassAttr = attrName === 'class'\n\n  let value\n\n  // if it's a tag we could totally skip the rest\n  if (expr._riot_id) {\n    if (expr.__.wasCreated) {\n      expr.update()\n    // if it hasn't been mounted yet, do that now.\n    } else {\n      expr.mount()\n      if (isVirtual) {\n        replaceVirtual(expr, expr.root)\n      }\n    }\n    return\n  }\n\n  // if this expression has the update method it means it can handle the DOM changes by itself\n  if (expr.update) return expr.update()\n\n  const context = isToggle && !isAnonymous ? inheritParentProps.call(this) : this\n\n  // ...it seems to be a simple expression so we try to calculate its value\n  value = tmpl(expr.expr, context)\n\n  const hasValue = !isBlank(value)\n  const isObj = isObject(value)\n\n  // convert the style/class objects to strings\n  if (isObj) {\n    if (isClassAttr) {\n      value = tmpl(JSON.stringify(value), this)\n    } else if (isStyleAttr) {\n      value = styleObjectToString(value)\n    }\n  }\n\n  // remove original attribute\n  if (expr.attr && (!expr.wasParsedOnce || !hasValue || value === false)) {\n    // remove either riot-* attributes or just the attribute name\n    removeAttribute(dom, getAttribute(dom, expr.attr) ? expr.attr : attrName)\n  }\n\n  // for the boolean attributes we don't need the value\n  // we can convert it to checked=true to checked=checked\n  if (expr.bool) value = value ? attrName : false\n  if (expr.isRtag) return updateDataIs(expr, this, value)\n  if (expr.wasParsedOnce && expr.value === value) return\n\n  // update the expression value\n  expr.value = value\n  expr.wasParsedOnce = true\n\n  // if the value is an object (and it's not a style or class attribute) we can not do much more with it\n  if (isObj && !isClassAttr && !isStyleAttr && !isToggle) return\n  // avoid to render undefined/null values\n  if (!hasValue) value = ''\n\n  // textarea and text nodes have no attribute name\n  if (!attrName) {\n    // about #815 w/o replace: the browser converts the value to a string,\n    // the comparison by \"==\" does too, but not in the server\n    value += ''\n    // test for parent avoids error with invalid assignment to nodeValue\n    if (parent) {\n      // cache the parent node because somehow it will become null on IE\n      // on the next iteration\n      expr.parent = parent\n      if (parent.tagName === 'TEXTAREA') {\n        parent.value = value                    // #1113\n        if (!IE_VERSION) dom.nodeValue = value  // #1625 IE throws here, nodeValue\n      }                                         // will be available on 'updated'\n      else dom.nodeValue = value\n    }\n    return\n  }\n\n\n  // event handler\n  if (isFunction(value)) {\n    setEventHandler(attrName, value, dom, this)\n  // show / hide\n  } else if (isToggle) {\n    toggleVisibility(dom, attrName === HIDE_DIRECTIVE ? !value : value)\n  // handle attributes\n  } else {\n    if (expr.bool) {\n      dom[attrName] = value\n    }\n\n    if (attrName === 'value' && dom.value !== value) {\n      dom.value = value\n    } else if (hasValue && value !== false) {\n      setAttribute(dom, attrName, value)\n    }\n\n    // make sure that in case of style changes\n    // the element stays hidden\n    if (isStyleAttr && dom.hidden) toggleVisibility(dom, false)\n  }\n}\n\n/**\n * Update all the expressions in a Tag instance\n * @this Tag\n * @param { Array } expressions - expression that must be re evaluated\n */\nexport default function update(expressions) {\n  each(expressions, updateExpression.bind(this))\n}\n","import each from '../misc/each'\nimport { ATTRS_PREFIX } from './../../global-variables'\nimport toCamel from '../misc/to-camel'\nimport { updateExpression } from '../../../tag/update'\nimport inheritParentProps from './inherit-parent-properties'\n\n/**\n * We need to update opts for this tag. That requires updating the expressions\n * in any attributes on the tag, and then copying the result onto opts.\n * @this Tag\n * @param   {Boolean} isLoop - is it a loop tag?\n * @param   { Tag }  parent - parent tag node\n * @param   { Boolean }  isAnonymous - is it a tag without any impl? (a tag not registered)\n * @param   { Object }  opts - tag options\n * @param   { Array }  instAttrs - tag attributes array\n */\nexport default function updateOpts(isLoop, parent, isAnonymous, opts, instAttrs) {\n  // isAnonymous `each` tags treat `dom` and `root` differently. In this case\n  // (and only this case) we don't need to do updateOpts, because the regular parse\n  // will update those attrs. Plus, isAnonymous tags don't need opts anyway\n  if (isLoop && isAnonymous) return\n  const ctx = isLoop ? inheritParentProps.call(this) : parent || this\n\n  each(instAttrs, (attr) => {\n    if (attr.expr) updateExpression.call(ctx, attr.expr)\n    // normalize the attribute names\n    opts[toCamel(attr.name).replace(ATTRS_PREFIX, '')] = attr.expr ? attr.expr.value : attr.value\n  })\n}","import update from '../update'\nimport extend from './../../common/util/misc/extend'\nimport isFunction from './../../common/util/checks/is-function'\nimport updateOpts from './../../common/util/tags/update-options'\n\n/**\n * Update the tag expressions and options\n * @param { Tag } tag - tag object\n * @param { * } data - data we want to use to extend the tag properties\n * @param { Array } expressions - component expressions array\n * @returns { Tag } the current tag instance\n */\nexport default function componentUpdate(tag, data, expressions) {\n  const __ = tag.__\n  const nextOpts = {}\n  const canTrigger = tag.isMounted && !__.skipAnonymous\n\n  // inherit properties from the parent tag\n  if (__.isAnonymous && __.parent) extend(tag, __.parent)\n  extend(tag, data)\n\n  updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, nextOpts, __.instAttrs])\n\n  if (\n    canTrigger &&\n    tag.isMounted &&\n    isFunction(tag.shouldUpdate) && !tag.shouldUpdate(data, nextOpts)\n  ) {\n    return tag\n  }\n\n  extend(tag.opts, nextOpts)\n\n  if (canTrigger) tag.trigger('update', data)\n  update.call(tag, expressions)\n  if (canTrigger) tag.trigger('updated')\n\n  return tag\n}","import {\n  __TAG_IMPL,\n  IS_DIRECTIVE\n} from './../../global-variables'\n\n/**\n * Get selectors for tags\n * @param   { Array } tags - tag names to select\n * @returns { String } selector\n */\nexport default function query(tags) {\n  // select all tags\n  if (!tags) {\n    const keys = Object.keys(__TAG_IMPL)\n    return keys + query(keys)\n  }\n\n  return tags\n    .filter(t => !/[^-\\w]/.test(t))\n    .reduce((list, t) => {\n      const name = t.trim().toLowerCase()\n      return list + `,[${IS_DIRECTIVE}=\"${name}\"]`\n    }, '')\n}","import styleManager from './styleManager'\nimport isString from './../common/util/checks/is-string'\nimport isUndefined from './../common/util/checks/is-undefined'\nimport isObject from './../common/util/checks/is-object'\nimport isFunction from './../common/util/checks/is-function'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport $$ from './../common/util/dom/$$'\nimport each from './../common/util/misc/each'\nimport extend from './../common/util/misc/extend'\nimport mountTo from './../common/util/tags/mount'\nimport query from './../common/util/tags/query'\n\nimport {\n  __TAG_IMPL,\n  __TAGS_CACHE,\n  GLOBAL_MIXIN,\n  IS_DIRECTIVE\n} from './../common/global-variables'\n\n/**\n * Another way to create a riot tag a bit more es6 friendly\n * @param { HTMLElement } el - tag DOM selector or DOM node/s\n * @param { Object } opts - tag logic\n * @returns { Tag } new riot tag instance\n */\nexport function Tag(el, opts) {\n  // get the tag properties from the class constructor\n  const {name, tmpl, css, attrs, onCreate} = this\n  // register a new tag and cache the class prototype\n  if (!__TAG_IMPL[name]) {\n    tag(name, tmpl, css, attrs, onCreate)\n    // cache the class constructor\n    __TAG_IMPL[name].class = this.constructor\n  }\n\n  // mount the tag using the class instance\n  mountTo(el, name, opts, this)\n  // inject the component css\n  if (css) styleManager.inject()\n\n  return this\n}\n\n/**\n * Create a new riot tag implementation\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nexport function tag(name, tmpl, css, attrs, fn) {\n  if (isFunction(attrs)) {\n    fn = attrs\n\n    if (/^[\\w-]+\\s?=/.test(css)) {\n      attrs = css\n      css = ''\n    } else\n      attrs = ''\n  }\n\n  if (css) {\n    if (isFunction(css))\n      fn = css\n    else\n      styleManager.add(css)\n  }\n\n  name = name.toLowerCase()\n  __TAG_IMPL[name] = { name, tmpl, attrs, fn }\n\n  return name\n}\n\n/**\n * Create a new riot tag implementation (for use by the compiler)\n * @param   { String }   name - name/id of the new riot tag\n * @param   { String }   tmpl - tag template\n * @param   { String }   css - custom tag css\n * @param   { String }   attrs - root tag attributes\n * @param   { Function } fn - user function\n * @returns { String } name/id of the tag just created\n */\nexport function tag2(name, tmpl, css, attrs, fn) {\n  if (css) styleManager.add(css, name)\n\n  __TAG_IMPL[name] = { name, tmpl, attrs, fn }\n\n  return name\n}\n\n/**\n * Mount a tag using a specific tag implementation\n * @param   { * } selector - tag DOM selector or DOM node/s\n * @param   { String } tagName - tag implementation name\n * @param   { Object } opts - tag logic\n * @returns { Array } new tags instances\n */\nexport function mount(selector, tagName, opts) {\n  const tags = []\n  let elem, allTags\n\n  function pushTagsTo(root) {\n    if (root.tagName) {\n      let riotTag = getAttribute(root, IS_DIRECTIVE), tag\n\n      // have tagName? force riot-tag to be the same\n      if (tagName && riotTag !== tagName) {\n        riotTag = tagName\n        setAttribute(root, IS_DIRECTIVE, tagName)\n      }\n\n      tag = mountTo(root, riotTag || root.tagName.toLowerCase(), opts)\n\n      if (tag)\n        tags.push(tag)\n    } else if (root.length)\n      each(root, pushTagsTo) // assume nodeList\n  }\n\n  // inject styles into DOM\n  styleManager.inject()\n\n  if (isObject(tagName)) {\n    opts = tagName\n    tagName = 0\n  }\n\n  // crawl the DOM to find the tag\n  if (isString(selector)) {\n    selector = selector === '*' ?\n      // select all registered tags\n      // & tags found with the riot-tag attribute set\n      allTags = query() :\n      // or just the ones named like the selector\n      selector + query(selector.split(/, */))\n\n    // make sure to pass always a selector\n    // to the querySelectorAll function\n    elem = selector ? $$(selector) : []\n  }\n  else\n    // probably you have passed already a tag or a NodeList\n    elem = selector\n\n  // select all the registered and mount them inside their root elements\n  if (tagName === '*') {\n    // get all custom tags\n    tagName = allTags || query()\n    // if the root els it's just a single tag\n    if (elem.tagName)\n      elem = $$(tagName, elem)\n    else {\n      // select all the children for all the different root elements\n      var nodeList = []\n\n      each(elem, _el => nodeList.push($$(tagName, _el)))\n\n      elem = nodeList\n    }\n    // get rid of the tagName\n    tagName = 0\n  }\n\n  pushTagsTo(elem)\n\n  return tags\n}\n\n// Create a mixin that could be globally shared across all the tags\nconst mixins = {}\nconst globals = mixins[GLOBAL_MIXIN] = {}\nlet mixins_id = 0\n\n/**\n * Create/Return a mixin by its name\n * @param   { String }  name - mixin name (global mixin if object)\n * @param   { Object }  mix - mixin logic\n * @param   { Boolean } g - is global?\n * @returns { Object }  the mixin logic\n */\nexport function mixin(name, mix, g) {\n  // Unnamed global\n  if (isObject(name)) {\n    mixin(`__${mixins_id++}__`, name, true)\n    return\n  }\n\n  const store = g ? globals : mixins\n\n  // Getter\n  if (!mix) {\n    if (isUndefined(store[name]))\n      throw new Error(`Unregistered mixin: ${ name }`)\n\n    return store[name]\n  }\n\n  // Setter\n  store[name] = isFunction(mix) ?\n    extend(mix.prototype, store[name] || {}) && mix :\n    extend(store[name] || {}, mix)\n}\n\n/**\n * Update all the tags instances created\n * @returns { Array } all the tags instances\n */\nexport function update() {\n  return each(__TAGS_CACHE, tag => tag.update())\n}\n\nexport function unregister(name) {\n  __TAG_IMPL[name] = null\n}\n\nexport const version = 'WIP'\n","import { mixin } from './../core'\nimport isString from './../../common/util/checks/is-string'\nimport isFunction from './../../common/util/checks/is-function'\nimport each from './../../common/util/misc/each'\nimport contains from './../../common/util/misc/contains'\nimport getPropDescriptor from './../../common/util/misc/get-prop-descriptor'\n\n/**\n * Add a mixin to this tag\n * @returns { Tag } the current tag instance\n */\nexport default function componentMixin(tag, ...mixins) {\n  each(mixins, (mix) => {\n    let instance\n    let obj\n    let props = []\n\n    // properties blacklisted and will not be bound to the tag instance\n    const propsBlacklist = ['init', '__proto__']\n\n    mix = isString(mix) ? mixin(mix) : mix\n\n    // check if the mixin is a function\n    if (isFunction(mix)) {\n      // create the new mixin instance\n      instance = new mix()\n    } else instance = mix\n\n    const proto = Object.getPrototypeOf(instance)\n\n    // build multilevel prototype inheritance chain property list\n    do props = props.concat(Object.getOwnPropertyNames(obj || instance))\n    while (obj = Object.getPrototypeOf(obj || instance))\n\n    // loop the keys in the function prototype or the all object keys\n    each(props, (key) => {\n      // bind methods to tag\n      // allow mixins to override other properties/parent mixins\n      if (!contains(propsBlacklist, key)) {\n        // check for getters/setters\n        const descriptor = getPropDescriptor(instance, key) || getPropDescriptor(proto, key)\n        const hasGetterSetter = descriptor && (descriptor.get || descriptor.set)\n\n        // apply method only if it does not already exist on the instance\n        if (!tag.hasOwnProperty(key) && hasGetterSetter) {\n          Object.defineProperty(tag, key, descriptor)\n        } else {\n          tag[key] = isFunction(instance[key]) ?\n            instance[key].bind(tag) :\n            instance[key]\n        }\n      }\n    })\n\n    // init method will be called automatically\n    if (instance.init)\n      instance.init.bind(tag)(tag.opts)\n  })\n\n  return tag\n}","import isArray from '../checks/is-array'\nimport arrayishAdd from './arrayish-add'\n/**\n * Move the position of a custom tag in its parent tag\n * @this Tag\n * @param   { String } tagName - key where the tag was stored\n * @param   { Number } newPos - index where the new tag will be stored\n */\nexport default function moveChild(tagName, newPos) {\n  const parent = this.parent\n  let tags\n  // no parent no move\n  if (!parent) return\n\n  tags = parent.tags[tagName]\n\n  if (isArray(tags))\n    tags.splice(newPos, 0, tags.splice(tags.indexOf(this), 1)[0])\n  else arrayishAdd(parent.tags, tagName, this)\n}","import createFragment from '../dom/create-fragment'\n/**\n * Move virtual tag and all child nodes\n * @this Tag\n * @param { Node } src  - the node that will do the inserting\n * @param { Tag } target - insert before this tag's first child\n */\nexport default function moveVirtual(src, target) {\n  let el = this.__.head\n  let sib\n  const frag = createFragment()\n\n  while (el) {\n    sib = el.nextSibling\n    frag.appendChild(el)\n    el = sib\n    if (el === this.__.tail) {\n      frag.appendChild(el)\n      src.insertBefore(frag, target.__.head)\n      break\n    }\n  }\n}","import {\n  T_STRING,\n  T_OBJECT,\n  __TAG_IMPL,\n  CONDITIONAL_DIRECTIVE,\n  LOOP_DIRECTIVE,\n  LOOP_NO_REORDER_DIRECTIVE,\n  KEY_DIRECTIVE\n} from './../common/global-variables'\n\nimport isString from './../common/util/checks/is-string'\nimport isArray from './../common/util/checks/is-array'\nimport removeAttribute from './../common/util/dom/remove-attribute'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport createPlaceholder from './../common/util/dom/create-placeholder'\nimport safeInsert from './../common/util/dom/safe-insert'\nimport createFragment from './../common/util/dom/create-fragment'\n\nimport each from './../common/util/misc/each'\nimport contains from './../common/util/misc/contains'\nimport create from './../common/util/misc/object-create'\nimport extend from './../common/util/misc/extend'\n\nimport moveChild from './../common/util/tags/move-child'\nimport getTag from './../common/util/tags/get'\nimport getTagName from './../common/util/tags/get-name'\nimport arrayishAdd from './../common/util/tags/arrayish-add'\nimport arrayishRemove from './../common/util/tags/arrayish-remove'\nimport makeVirtual from './../common/util/tags/make-virtual'\nimport moveVirtual from './../common/util/tags/move-virtual'\n\nimport createTag from './tag'\nimport { tmpl } from 'riot-tmpl'\n\n\n/**\n * Convert the item looped into an object used to extend the child tag properties\n * @param   { Object } expr - object containing the keys used to extend the children tags\n * @param   { * } key - value to assign to the new object returned\n * @param   { * } val - value containing the position of the item in the array\n * @param   { Object } base - prototype object for the new item\n * @returns { Object } - new object containing the values of the original item\n *\n * The variables 'key' and 'val' are arbitrary.\n * They depend on the collection type looped (Array, Object)\n * and on the expression used on the each tag\n *\n */\nfunction mkitem(expr, key, val, base) {\n  const item = base ? create(base) : {}\n  item[expr.key] = key\n  if (expr.pos) item[expr.pos] = val\n  return item\n}\n\n/**\n * Unmount the redundant tags\n * @param   { Array } items - array containing the current items to loop\n * @param   { Array } tags - array containing all the children tags\n */\nfunction unmountRedundant(items, tags) {\n  let i = tags.length\n  const j = items.length\n\n  while (i > j) {\n    i--\n    remove.apply(tags[i], [tags, i])\n  }\n}\n\n\n/**\n * Remove a child tag\n * @this Tag\n * @param   { Array } tags - tags collection\n * @param   { Number } i - index of the tag to remove\n */\nfunction remove(tags, i) {\n  tags.splice(i, 1)\n  this.unmount()\n  arrayishRemove(this.parent, this, this.__.tagName, true)\n}\n\n/**\n * Move the nested custom tags in non custom loop tags\n * @this Tag\n * @param   { Number } i - current position of the loop tag\n */\nfunction moveNestedTags(i) {\n  each(Object.keys(this.tags), (tagName) => {\n    moveChild.apply(this.tags[tagName], [tagName, i])\n  })\n}\n\n/**\n * Move a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to move\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction move(root, nextTag, isVirtual) {\n  if (isVirtual)\n    moveVirtual.apply(this, [root, nextTag])\n  else\n    safeInsert(root, this.root, nextTag.root)\n}\n\n/**\n * Insert and mount a child tag\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Tag } nextTag - instance of the next tag preceding the one we want to insert\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction insert(root, nextTag, isVirtual) {\n  if (isVirtual)\n    makeVirtual.apply(this, [root, nextTag])\n  else\n    safeInsert(root, this.root, nextTag.root)\n}\n\n/**\n * Append a new tag into the DOM\n * @this Tag\n * @param   { HTMLElement } root - dom node containing all the loop children\n * @param   { Boolean } isVirtual - is it a virtual tag?\n */\nfunction append(root, isVirtual) {\n  if (isVirtual)\n    makeVirtual.call(this, root)\n  else\n    root.appendChild(this.root)\n}\n\n/**\n * Return the value we want to use to lookup the postion of our items in the collection\n * @param   { String }  keyAttr         - lookup string or expression\n * @param   { * }       originalItem    - original item from the collection\n * @param   { Object }  keyedItem       - object created by riot via { item, i in collection }\n * @param   { Boolean } hasKeyAttrExpr  - flag to check whether the key is an expression\n * @returns { * } value that we will use to figure out the item position via collection.indexOf\n */\nfunction getItemId(keyAttr, originalItem, keyedItem, hasKeyAttrExpr) {\n  if (keyAttr) {\n    return hasKeyAttrExpr ?  tmpl(keyAttr, keyedItem) :  originalItem[keyAttr]\n  }\n\n  return originalItem\n}\n\n/**\n * Manage tags having the 'each'\n * @param   { HTMLElement } dom - DOM node we need to loop\n * @param   { Tag } parent - parent tag instance where the dom node is contained\n * @param   { String } expr - string contained in the 'each' attribute\n * @returns { Object } expression object for this each loop\n */\nexport default function _each(dom, parent, expr) {\n  const mustReorder = typeof getAttribute(dom, LOOP_NO_REORDER_DIRECTIVE) !== T_STRING || removeAttribute(dom, LOOP_NO_REORDER_DIRECTIVE)\n  const keyAttr = getAttribute(dom, KEY_DIRECTIVE)\n  const hasKeyAttrExpr = keyAttr ? tmpl.hasExpr(keyAttr) : false\n  const tagName = getTagName(dom)\n  const impl = __TAG_IMPL[tagName]\n  const parentNode = dom.parentNode\n  const placeholder = createPlaceholder()\n  const child = getTag(dom)\n  const ifExpr = getAttribute(dom, CONDITIONAL_DIRECTIVE)\n  const tags = []\n  const isLoop = true\n  const innerHTML = dom.innerHTML\n  const isAnonymous = !__TAG_IMPL[tagName]\n  const isVirtual = dom.tagName === 'VIRTUAL'\n  let oldItems = []\n  let hasKeys\n\n  // remove the each property from the original tag\n  removeAttribute(dom, LOOP_DIRECTIVE)\n  removeAttribute(dom, KEY_DIRECTIVE)\n\n  // parse the each expression\n  expr = tmpl.loopKeys(expr)\n  expr.isLoop = true\n\n  if (ifExpr) removeAttribute(dom, CONDITIONAL_DIRECTIVE)\n\n  // insert a marked where the loop tags will be injected\n  parentNode.insertBefore(placeholder, dom)\n  parentNode.removeChild(dom)\n\n  expr.update = function updateEach() {\n    // get the new items collection\n    expr.value = tmpl(expr.val, parent)\n\n    let items = expr.value\n    const frag = createFragment()\n    const isObject = !isArray(items) && !isString(items)\n    const root = placeholder.parentNode\n    const tmpItems = []\n\n    // if this DOM was removed the update here is useless\n    // this condition fixes also a weird async issue on IE in our unit test\n    if (!root) return\n\n    // object loop. any changes cause full redraw\n    if (isObject) {\n      hasKeys = items || false\n      items = hasKeys ?\n        Object.keys(items).map(key => mkitem(expr, items[key], key)) : []\n    } else {\n      hasKeys = false\n    }\n\n    if (ifExpr) {\n      items = items.filter((item, i) => {\n        if (expr.key && !isObject)\n          return !!tmpl(ifExpr, mkitem(expr, item, i, parent))\n\n        return !!tmpl(ifExpr, extend(create(parent), item))\n      })\n    }\n\n    // loop all the new items\n    each(items, (_item, i) => {\n      const item = !hasKeys && expr.key ? mkitem(expr, _item, i) : _item\n      const itemId = getItemId(keyAttr, _item, item, hasKeyAttrExpr)\n      // reorder only if the items are objects\n      const doReorder = mustReorder && typeof _item === T_OBJECT && !hasKeys\n      const oldPos = oldItems.indexOf(itemId)\n      const isNew = oldPos === -1\n      const pos = !isNew && doReorder ? oldPos : i\n      // does a tag exist in this position?\n      let tag = tags[pos]\n      const mustAppend = i >= oldItems.length\n      const mustCreate =  doReorder && isNew || !doReorder && !tag\n\n      // new tag\n      if (mustCreate) {\n        tag = createTag(impl, {\n          parent,\n          isLoop,\n          isAnonymous,\n          tagName,\n          root: dom.cloneNode(isAnonymous),\n          item,\n          index: i,\n        }, innerHTML)\n\n        // mount the tag\n        tag.mount()\n\n        if (mustAppend)\n          append.apply(tag, [frag || root, isVirtual])\n        else\n          insert.apply(tag, [root, tags[i], isVirtual])\n\n        if (!mustAppend) oldItems.splice(i, 0, item)\n        tags.splice(i, 0, tag)\n        if (child) arrayishAdd(parent.tags, tagName, tag, true)\n      } else if (pos !== i && doReorder) {\n        // move\n        if (keyAttr || contains(items, oldItems[pos])) {\n          move.apply(tag, [root, tags[i], isVirtual])\n          // move the old tag instance\n          tags.splice(i, 0, tags.splice(pos, 1)[0])\n          // move the old item\n          oldItems.splice(i, 0, oldItems.splice(pos, 1)[0])\n        }\n\n        // update the position attribute if it exists\n        if (expr.pos) tag[expr.pos] = i\n\n        // if the loop tags are not custom\n        // we need to move all their custom tags into the right position\n        if (!child && tag.tags) moveNestedTags.call(tag, i)\n      }\n\n      // cache the original item to use it in the events bound to this node\n      // and its children\n      extend(tag.__, {\n        item,\n        index: i,\n        parent\n      })\n\n      tmpItems[i] = itemId\n\n      if (!mustCreate) tag.update(item)\n    })\n\n    // remove the redundant tags\n    unmountRedundant(items, tags)\n\n    // clone the items array\n    oldItems = tmpItems.slice()\n\n    root.insertBefore(frag, placeholder)\n  }\n\n  expr.unmount = () => {\n    each(tags, t => { t.unmount() })\n  }\n\n  return expr\n}","import { tmpl } from 'riot-tmpl'\nimport isBlank from './../common/util/checks/is-blank'\nimport isString from './../common/util/checks/is-string'\nimport removeAttribute from './../common/util/dom/remove-attribute'\nimport setAttribute from './../common/util/dom/set-attribute'\n\nimport {\n  getImmediateCustomParentTag,\n  arrayishAdd,\n  arrayishRemove\n} from './../common/util/tags'\n\nexport default {\n  init(dom, parent, attrName, attrValue) {\n    this.dom = dom\n    this.attr = attrName\n    this.rawValue = attrValue\n    this.parent = parent\n    this.hasExp = tmpl.hasExpr(attrValue)\n    return this\n  },\n  update() {\n    const old = this.value\n    const customParent = this.parent && getImmediateCustomParentTag(this.parent)\n    // if the referenced element is a custom tag, then we set the tag itself, rather than DOM\n    const tagOrDom = this.dom.__ref || this.tag || this.dom\n\n    this.value = this.hasExp ? tmpl(this.rawValue, this.parent) : this.rawValue\n\n    // the name changed, so we need to remove it from the old key (if present)\n    if (!isBlank(old) && customParent) arrayishRemove(customParent.refs, old, tagOrDom)\n    if (!isBlank(this.value) && isString(this.value)) {\n      // add it to the refs of parent tag (this behavior was changed >=3.0)\n      if (customParent) arrayishAdd(\n        customParent.refs,\n        this.value,\n        tagOrDom,\n        // use an array if it's a looped node and the ref is not an expression\n        null,\n        this.parent.__.index\n      )\n\n      if (this.value !== old) {\n        setAttribute(this.dom, this.attr, this.value)\n      }\n    } else {\n      removeAttribute(this.dom, this.attr)\n    }\n\n    // cache the ref bound to this dom node\n    // to reuse it in future (see also #2329)\n    if (!this.dom.__ref) this.dom.__ref = tagOrDom\n  },\n  unmount() {\n    const tagOrDom = this.tag || this.dom\n    const customParent = this.parent && getImmediateCustomParentTag(this.parent)\n    if (!isBlank(this.value) && customParent)\n      arrayishRemove(customParent.refs, this.value, tagOrDom)\n  }\n}","import RefExpr from '../../../tag/ref'\nimport create from '../misc/object-create'\n\n/**\n * Create a new ref directive\n * @param   { HTMLElement } dom - dom node having the ref attribute\n * @param   { Tag } context - tag instance where the DOM node is located\n * @param   { String } attrName - either 'ref' or 'data-ref'\n * @param   { String } attrValue - value of the ref attribute\n * @returns { RefExpr } a new RefExpr object\n */\nexport default function createRefDirective(dom, tag, attrName, attrValue) {\n  return create(RefExpr).init(dom, tag, attrName, attrValue)\n}","import each from '../misc/each'\n\n/**\n * Trigger the unmount method on all the expressions\n * @param   { Array } expressions - DOM expressions\n */\nexport default function unmountAll(expressions) {\n  each(expressions, expr => {\n    if (expr.unmount) expr.unmount(true)\n    else if (expr.tagName) expr.tag.unmount(true)\n    else if (expr.unmount) expr.unmount()\n  })\n}","import removeAttribute from './../common/util/dom/remove-attribute'\nimport createPlacholder from './../common/util/dom/create-placeholder'\nimport unmountAll from './../common/util/tags/unmount-all'\nimport extend from './../common/util/misc/extend'\nimport { tmpl } from 'riot-tmpl'\nimport { CONDITIONAL_DIRECTIVE } from './../common/global-variables'\nimport { parseExpressions } from './parse'\nimport updateAllExpressions from './update'\n\nexport default {\n  init(dom, tag, expr) {\n    removeAttribute(dom, CONDITIONAL_DIRECTIVE)\n    extend(this, { tag, expr, stub: createPlacholder(), pristine: dom })\n    const p = dom.parentNode\n    p.insertBefore(this.stub, dom)\n    p.removeChild(dom)\n\n    return this\n  },\n  update() {\n    this.value = tmpl(this.expr, this.tag)\n\n    if (this.value && !this.current) { // insert\n      this.current = this.pristine.cloneNode(true)\n      this.stub.parentNode.insertBefore(this.current, this.stub)\n      this.expressions = parseExpressions.apply(this.tag, [this.current, true])\n    } else if (!this.value && this.current) { // remove\n      unmountAll(this.expressions)\n      if (this.current._tag) {\n        this.current._tag.unmount()\n      } else if (this.current.parentNode) {\n        this.current.parentNode.removeChild(this.current)\n      }\n      this.current = null\n      this.expressions = []\n    }\n\n    if (this.value) updateAllExpressions.call(this.tag, this.expressions)\n  },\n  unmount() {\n    unmountAll(this.expressions || [])\n  }\n}","import IfExpr from '../../../tag/if'\nimport create from '../misc/object-create'\n\n/**\n * Create a new if directive\n * @param   { HTMLElement } dom - if root dom node\n * @param   { Tag } context - tag instance where the DOM node is located\n * @param   { String } attr - if expression\n * @returns { IFExpr } a new IfExpr object\n */\nexport default function createIfDirective(dom, tag, attr) {\n  return create(IfExpr).init(dom, tag, attr)\n}","import _each from './each'\nimport { tmpl } from 'riot-tmpl'\nimport {\n  CONDITIONAL_DIRECTIVE,\n  LOOP_DIRECTIVE,\n  IS_DIRECTIVE,\n  REF_DIRECTIVES,\n  YIELD_TAG\n} from './../common/global-variables'\n\nimport createRefDirective from './../common/util/tags/create-ref-directive'\nimport createIfDirective from './../common/util/tags/create-if-directive'\nimport isBoolAttr from './../common/util/checks/is-boolean-attribute'\nimport walkNodes from './../common/util/dom/walk-nodes'\nimport getAttribute from './../common/util/dom/get-attribute'\nimport setAttribute from './../common/util/dom/set-attribute'\nimport each from './../common/util/misc/each'\nimport contains from './../common/util/misc/contains'\nimport warn from './../common/util/misc/warn'\nimport getTag from './../common/util/tags/get'\nimport initChild from './../common/util/tags/init-child'\nimport createTag from './tag'\n\n/**\n * Walk the tag DOM to detect the expressions to evaluate\n * @this Tag\n * @param   { HTMLElement } root - root tag where we will start digging the expressions\n * @param   { Boolean } mustIncludeRoot - flag to decide whether the root must be parsed as well\n * @returns { Array } all the expressions found\n */\nexport function parseExpressions(root, mustIncludeRoot) {\n  const expressions = []\n\n  walkNodes(root, (dom) => {\n    const type = dom.nodeType\n    let attr\n    let tagImpl\n\n    if (!mustIncludeRoot && dom === root) return\n\n    // text node\n    if (type === 3 && dom.parentNode.tagName !== 'STYLE' && tmpl.hasExpr(dom.nodeValue))\n      expressions.push({dom, expr: dom.nodeValue})\n\n    if (type !== 1) return\n\n    const isVirtual = dom.tagName === 'VIRTUAL'\n\n    // loop. each does it's own thing (for now)\n    if (attr = getAttribute(dom, LOOP_DIRECTIVE)) {\n      if(isVirtual) setAttribute(dom, 'loopVirtual', true) // ignore here, handled in _each\n      expressions.push(_each(dom, this, attr))\n      return false\n    }\n\n    // if-attrs become the new parent. Any following expressions (either on the current\n    // element, or below it) become children of this expression.\n    if (attr = getAttribute(dom, CONDITIONAL_DIRECTIVE)) {\n      expressions.push(createIfDirective(dom, this, attr))\n      return false\n    }\n\n    if (attr = getAttribute(dom, IS_DIRECTIVE)) {\n      if (tmpl.hasExpr(attr)) {\n        expressions.push({\n          isRtag: true,\n          expr: attr,\n          dom,\n          attrs: [].slice.call(dom.attributes)\n        })\n\n        return false\n      }\n    }\n\n    // if this is a tag, stop traversing here.\n    // we ignore the root, since parseExpressions is called while we're mounting that root\n    tagImpl = getTag(dom)\n\n    if(isVirtual) {\n      if(getAttribute(dom, 'virtualized')) {dom.parentElement.removeChild(dom) } // tag created, remove from dom\n      if(!tagImpl && !getAttribute(dom, 'virtualized') && !getAttribute(dom, 'loopVirtual'))  // ok to create virtual tag\n        tagImpl = { tmpl: dom.outerHTML }\n    }\n\n    if (tagImpl && (dom !== root || mustIncludeRoot)) {\n      if(isVirtual) { // handled in update\n        if (getAttribute(dom, IS_DIRECTIVE))\n          warn(`Virtual tags shouldn't be used together with the \"${IS_DIRECTIVE}\" attribute - https://github.com/riot/riot/issues/2511`)\n        // can not remove attribute like directives\n        // so flag for removal after creation to prevent maximum stack error\n        setAttribute(dom, 'virtualized', true)\n        const tag = createTag(\n          {tmpl: dom.outerHTML},\n          {root: dom, parent: this},\n          dom.innerHTML\n        )\n\n        expressions.push(tag) // no return, anonymous tag, keep parsing\n      } else {\n        expressions.push(\n          initChild(\n            tagImpl,\n            {\n              root: dom,\n              parent: this\n            },\n            dom.innerHTML,\n            this\n          )\n        )\n        return false\n      }\n    }\n\n    // attribute expressions\n    parseAttributes.apply(this, [dom, dom.attributes, (attr, expr) => {\n      if (!expr) return\n      expressions.push(expr)\n    }])\n  })\n\n  return expressions\n}\n\n/**\n * Calls `fn` for every attribute on an element. If that attr has an expression,\n * it is also passed to fn.\n * @this Tag\n * @param   { HTMLElement } dom - dom node to parse\n * @param   { Array } attrs - array of attributes\n * @param   { Function } fn - callback to exec on any iteration\n */\nexport function parseAttributes(dom, attrs, fn) {\n  each(attrs, (attr) => {\n    if (!attr) return false\n\n    const name = attr.name\n    const bool = isBoolAttr(name)\n    let expr\n\n    if (contains(REF_DIRECTIVES, name) && dom.tagName.toLowerCase() !== YIELD_TAG) {\n      expr =  createRefDirective(dom, this, name, attr.value)\n    } else if (tmpl.hasExpr(attr.value)) {\n      expr = {dom, expr: attr.value, attr: name, bool}\n    }\n\n    fn(attr, expr)\n  })\n}\n","import define from '../misc/define'\n\n/**\n * Manage the mount state of a tag triggering also the observable events\n * @this Tag\n * @param { Boolean } value - ..of the isMounted flag\n */\nexport default function setMountState(value) {\n  const { isAnonymous } = this.__\n\n  define(this, 'isMounted', value)\n\n  if (!isAnonymous) {\n    if (value) this.trigger('mount')\n    else {\n      this.trigger('unmount')\n      this.off('*')\n      this.__.wasCreated = false\n    }\n  }\n}","import { parseExpressions, parseAttributes } from '../parse'\nimport RefExpr from '../ref'\nimport { mixin } from '../core'\n\nimport { GLOBAL_MIXIN } from './../../common/global-variables'\n\nimport setAttribute from './../../common/util/dom/set-attribute'\nimport walkAttributes from './../../common/util/dom/walk-attributes'\n\nimport each from './../../common/util/misc/each'\nimport define from './../../common/util/misc/define'\n\nimport getImmediateCustomParent from './../../common/util/tags/get-immediate-custom-parent'\nimport updateOpts from './../../common/util/tags/update-options'\nimport setMountState from './../../common/util/tags/set-mount-state'\n\n/**\n * Mount the current tag instance\n * @returns { Tag } the current tag instance\n */\nexport default function componentMount(tag, dom, expressions, opts) {\n  const __ = tag.__\n  const root = __.root\n  root._tag = tag // keep a reference to the tag just created\n\n  // Read all the attrs on this instance. This give us the info we need for updateOpts\n  parseAttributes.apply(__.parent, [root, root.attributes, (attr, expr) => {\n    if (!__.isAnonymous && RefExpr.isPrototypeOf(expr)) expr.tag = tag\n    attr.expr = expr\n    __.instAttrs.push(attr)\n  }])\n\n  // update the root adding custom attributes coming from the compiler\n  walkAttributes(__.impl.attrs, (k, v) => { __.implAttrs.push({name: k, value: v}) })\n  parseAttributes.apply(tag, [root, __.implAttrs, (attr, expr) => {\n    if (expr) expressions.push(expr)\n    else setAttribute(root, attr.name, attr.value)\n  }])\n\n  // initialiation\n  updateOpts.apply(tag, [__.isLoop, __.parent, __.isAnonymous, opts, __.instAttrs])\n\n  // add global mixins\n  const globalMixin = mixin(GLOBAL_MIXIN)\n\n  if (globalMixin && !__.skipAnonymous) {\n    for (const i in globalMixin) {\n      if (globalMixin.hasOwnProperty(i)) {\n        tag.mixin(globalMixin[i])\n      }\n    }\n  }\n\n  if (__.impl.fn) __.impl.fn.call(tag, opts)\n\n  if (!__.skipAnonymous) tag.trigger('before-mount')\n\n  // parse layout after init. fn may calculate args for nested custom tags\n  each(parseExpressions.apply(tag, [dom, __.isAnonymous]), e => expressions.push(e))\n\n  tag.update(__.item)\n\n  if (!__.isAnonymous && !__.isInline) {\n    while (dom.firstChild) root.appendChild(dom.firstChild)\n  }\n\n  define(tag, 'root', root)\n\n  // if we need to wait that the parent \"mount\" or \"updated\" event gets triggered\n  if (!__.skipAnonymous && tag.parent) {\n    const p = getImmediateCustomParent(tag.parent)\n    p.one(!p.isMounted ? 'mount' : 'updated', () => {\n      setMountState.call(tag, true)\n    })\n  } else {\n    // otherwise it's not a child tag we can trigger its mount event\n    setMountState.call(tag, true)\n  }\n\n  tag.__.wasCreated = true\n\n  return tag\n}","import {\n  __TAGS_CACHE,\n  ATTRS_PREFIX,\n  RIOT_EVENTS_KEY\n} from './../../common/global-variables'\n\nimport removeAttribute from './../../common/util/dom/remove-attribute'\nimport walkAttributes from './../../common/util/dom/walk-attributes'\nimport setInnerHTML from './../../common/util/dom/set-inner-HTML'\nimport each from './../../common/util/misc/each'\nimport startsWith from './../../common/util/misc/starts-with'\n\nimport unmountAll from './../../common/util/tags/unmount-all'\n\nimport arrayishRemove from './../../common/util/tags/arrayish-remove'\nimport getImmediateCustomParent from './../../common/util/tags/get-immediate-custom-parent'\nimport setMountState from './../../common/util/tags/set-mount-state'\n\n\n/**\n * Unmount the tag instance\n * @param { Boolean } mustKeepRoot - if it's true the root node will not be removed\n * @returns { Tag } the current tag instance\n */\nexport default function tagUnmount(tag, mustKeepRoot, expressions) {\n  const __ = tag.__\n  const root = __.root\n  const tagIndex = __TAGS_CACHE.indexOf(tag)\n  const p = root.parentNode\n\n  if (!__.skipAnonymous) tag.trigger('before-unmount')\n\n  // clear all attributes coming from the mounted tag\n  walkAttributes(__.impl.attrs, (name) => {\n    if (startsWith(name, ATTRS_PREFIX))\n      name = name.slice(ATTRS_PREFIX.length)\n\n    removeAttribute(root, name)\n  })\n\n  // remove all the event listeners\n  tag.__.listeners.forEach((dom) => {\n    Object.keys(dom[RIOT_EVENTS_KEY]).forEach((eventName) => {\n      dom.removeEventListener(eventName, dom[RIOT_EVENTS_KEY][eventName])\n    })\n  })\n\n  // remove tag instance from the global tags cache collection\n  if (tagIndex !== -1) __TAGS_CACHE.splice(tagIndex, 1)\n\n  // clean up the parent tags object\n  if (__.parent && !__.isAnonymous) {\n    const ptag = getImmediateCustomParent(__.parent)\n\n    if (__.isVirtual) {\n      Object\n        .keys(tag.tags)\n        .forEach(tagName => arrayishRemove(ptag.tags, tagName, tag.tags[tagName]))\n    } else {\n      arrayishRemove(ptag.tags, __.tagName, tag)\n    }\n  }\n\n  // unmount all the virtual directives\n  if (tag.__.virts) {\n    each(tag.__.virts, (v) => {\n      if (v.parentNode) v.parentNode.removeChild(v)\n    })\n  }\n\n  // allow expressions to unmount themselves\n  unmountAll(expressions)\n  each(__.instAttrs, a => a.expr && a.expr.unmount && a.expr.unmount())\n\n  // clear the tag html if it's necessary\n  if (mustKeepRoot) setInnerHTML(root, '')\n  // otherwise detach the root tag from the DOM\n  else if (p) p.removeChild(root)\n\n  // custom internal unmount function to avoid relying on the observable\n  if (__.onUnmount) __.onUnmount()\n\n  // weird fix for a weird edge case #2409 and #2436\n  // some users might use your software not as you've expected\n  // so I need to add these dirty hacks to mitigate unexpected issues\n  if (!tag.isMounted) setMountState.call(tag, true)\n\n  setMountState.call(tag, false)\n\n  delete root._tag\n\n  return tag\n}","import observable from 'riot-observable'\nimport mkdom from './mkdom'\nimport settings from '../../settings'\nimport isSvg from './../common/util/checks/is-svg'\nimport extend from './../common/util/misc/extend'\nimport uid from './../common/util/misc/uid'\nimport define from './../common/util/misc/define'\nimport getTagName from './../common/util/tags/get-name'\nimport componentUpdate from './component/update'\nimport componentMixin from './component/mixin'\nimport componentMount from './component/mount'\nimport componentUnmount from './component/unmount'\n\n\n/**\n * Tag creation factory function\n * @constructor\n * @param { Object } impl - it contains the tag template, and logic\n * @param { Object } conf - tag options\n * @param { String } innerHTML - html that eventually we need to inject in the tag\n */\nexport default function createTag(impl = {}, conf = {}, innerHTML) {\n  const tag = conf.context || {}\n  const opts = extend({}, conf.opts)\n  const parent = conf.parent\n  const isLoop = conf.isLoop\n  const isAnonymous = !!conf.isAnonymous\n  const skipAnonymous = settings.skipAnonymousTags && isAnonymous\n  const item = conf.item\n  // available only for the looped nodes\n  const index = conf.index\n  // All attributes on the Tag when it's first parsed\n  const instAttrs = []\n  // expressions on this type of Tag\n  const implAttrs = []\n  const expressions = []\n  const root = conf.root\n  const tagName = conf.tagName || getTagName(root)\n  const isVirtual = tagName === 'virtual'\n  const isInline = !isVirtual && !impl.tmpl\n  let dom\n\n  // make this tag observable\n  if (!skipAnonymous) observable(tag)\n  // only call unmount if we have a valid __TAG_IMPL (has name property)\n  if (impl.name && root._tag) root._tag.unmount(true)\n\n  // not yet mounted\n  define(tag, 'isMounted', false)\n\n  define(tag, '__', {\n    impl,\n    root,\n    skipAnonymous,\n    implAttrs,\n    isAnonymous,\n    instAttrs,\n    innerHTML,\n    tagName,\n    index,\n    isLoop,\n    isInline,\n    item,\n    parent,\n    // tags having event listeners\n    // it would be better to use weak maps here but we can not introduce breaking changes now\n    listeners: [],\n    // these vars will be needed only for the virtual tags\n    virts: [],\n    wasCreated: false,\n    tail: null,\n    head: null\n  })\n\n  // create a unique id to this tag\n  // it could be handy to use it also to improve the virtual dom rendering speed\n  define(tag, '_riot_id', uid()) // base 1 allows test !t._riot_id\n  define(tag, 'root', root)\n  extend(tag, { opts }, item)\n  // protect the \"tags\" and \"refs\" property from being overridden\n  define(tag, 'parent', parent || null)\n  define(tag, 'tags', {})\n  define(tag, 'refs', {})\n\n  if (isInline || isLoop && isAnonymous) {\n    dom = root\n  } else {\n    if (!isVirtual) root.innerHTML = ''\n    dom = mkdom(impl.tmpl, innerHTML, isSvg(root))\n  }\n\n  define(tag, 'update', (data) => componentUpdate(tag, data, expressions))\n  define(tag, 'mixin', (...mixins) => componentMixin(tag, ...mixins))\n  define(tag, 'mount', () => componentMount(tag, dom, expressions, opts))\n  define(tag, 'unmount', (mustKeepRoot) => componentUnmount(tag, mustKeepRoot, expressions))\n\n  return tag\n}\n","import {\n  __TAG_IMPL,\n  __TAGS_CACHE,\n} from './../../global-variables'\nimport extend from '../misc/extend'\nimport contains from '../misc/contains'\nimport create from '../misc/object-create'\nimport createTag from './../../../tag/tag'\n\n/**\n * Mount a tag creating new Tag instance\n * @param   { Object } root - dom node where the tag will be mounted\n * @param   { String } tagName - name of the riot tag we want to mount\n * @param   { Object } opts - options to pass to the Tag instance\n * @param   { Object } ctx - optional context that will be used to extend an existing class ( used in riot.Tag )\n * @returns { Tag } a new Tag instance\n */\nexport default function mount(root, tagName, opts, ctx) {\n  const impl = __TAG_IMPL[tagName]\n  const implClass = __TAG_IMPL[tagName].class\n  const context = ctx || (implClass ? create(implClass.prototype) : {})\n  // cache the inner HTML to fix #855\n  const innerHTML = root._innerHTML = root._innerHTML || root.innerHTML\n  const conf = extend({ root, opts, context }, { parent: opts ? opts.parent : null })\n  let tag\n\n  if (impl && root) tag = createTag(impl, conf, innerHTML)\n\n  if (tag && tag.mount) {\n    tag.mount(true)\n    // add this tag to the virtualDom variable\n    if (!contains(__TAGS_CACHE, tag)) __TAGS_CACHE.push(tag)\n  }\n\n  return tag\n}","import styleManager from './browser/tag/styleManager'\nimport { tmpl, brackets } from 'riot-tmpl'\nimport o from 'riot-observable'\nimport s from './settings'\nimport { __TAGS_CACHE as vdom } from './browser/common/global-variables'\nimport * as dom from './browser/common/util/dom'\nimport * as check from './browser/common/util/checks' // avoid to add breaking changes\nimport * as misc from './browser/common/util/misc'\nimport * as tags from './browser/common/util/tags'\nimport * as core from './browser/tag/core'\n\n/**\n * Riot public api\n */\nexport const settings = s\nexport const util = {\n  tmpl,\n  brackets,\n  styleManager,\n  vdom,\n  styleNode: styleManager.styleNode,\n  // export the riot internal utils as well\n  dom,\n  check,\n  misc,\n  tags\n}\n\n// export the core props/methods\nexport const Tag = core.Tag\nexport const tag = core.tag\nexport const tag2 = core.tag2\nexport const mount = core.mount\nexport const mixin = core.mixin\nexport const update = core.update\nexport const unregister = core.unregister\nexport const version = core.version\nexport const observable = o\n\nexport default misc.extend({}, core, {\n  observable: o,\n  settings,\n  util,\n})\n","/*global VERSION*/\n\nimport forEach from 'mout/array/forEach';\nimport forOwn from 'mout/object/forOwn';\nimport keys from 'mout/object/keys';\nimport isFunction from 'mout/lang/isFunction';\nimport isObject from 'mout/lang/isObject';\nimport Promise from 'promise-polyfill';\nimport riot from 'riot';\n\n\n/**\n * console output\n *\n * @param {String} type level\n * @param {*} args output messages\n */\nconst _output = (type, ...args) => {\n  args.unshift('[riotx]');\n  try {\n    console.log.apply(console, args); // eslint-disable-line\n  } catch (e) {\n    console.log(args); // eslint-disable-line\n  }\n};\n\n/**\n * settings for riotx\n * @type {{debug: boolean, default: string}}\n */\nconst settings = {\n  debug: false,\n  default: '@',\n  changeBindName: 'riotxChange',\n  strict: false,\n  logger: {\n    output: _output,\n  }\n};\n\n/**\n * console debug output\n * @param {*} args\n */\nconst debug = (...args) => {\n  if (!settings.debug) {\n    return;\n  }\n  args.unshift('DEBUG');\n  settings.logger.output.apply(null, args);\n};\n\n/**\n * console error output\n * @param {*} message\n */\nconst error = message => {\n  const err = new Error(`[riotx] ${message}`);\n  settings.logger.output.apply(null, ['ERROR', err]);\n  throw err;\n};\n\n/**\n * @class Store\n */\nclass Store {\n\n  /**\n   * Creates an instance of Store.\n   * @param {Object} _store { name: 'Store Name', state: { default state data }, actions: { functions... } mutations: { functions... }, getters: { functions... }, plugins: { functions... } }\n   * @memberof Store\n   */\n  constructor(_store) {\n    /**\n     * name of the store.\n     * @type {String}\n     * @memberof Store\n     */\n    this.name = _store.name;\n    if (!this.name) {\n      this.name = settings.default;\n      debug(`Default store name. name=${this.name}`);\n    }\n\n    /**\n     * a object that represents full application state.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._state = _store.state;\n    Object.defineProperty(this, 'state', {\n      get: () => {\n        if (settings.strict) {\n          error('[strict] Direct access get error.');\n        }\n        return this._state;\n      },\n      set: state => {\n\n        if (settings.strict) {\n          error(`[strict] Direct access set error. ${state}`);\n        }\n        this._state = state;\n      }\n    });\n\n    /**\n     * functions to mutate application state.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._actions = _store.actions;\n\n    /**\n     * mutaions.\n     * mutaion = a function which mutates the state.\n     * all mutation functions take two parameters which are `state` and `obj`.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._mutations = _store.mutations;\n\n    /**\n     * functions to get data from states.\n     * @memberof Store\n     * @type {Object}\n     */\n    this._getters = _store.getters;\n\n    /**\n     * functions to plugins.\n     * @memberof Store\n     * @type {Array}\n     */\n    this._plugins = _store.plugins;\n\n    riot.observable(this);\n\n    // Load plugins.\n    forEach(this._plugins, p => {\n      if (!isFunction(p)) {\n        error('[plugin] The plugin is not a function.');\n      }\n      p.apply(null, [this]);\n    });\n\n  }\n\n  /**\n   * Reset store instance.\n   * @memberof Store\n   */\n  reset() {\n    this.name = null;\n    this._state = null;\n    this._actions = null;\n    this._mutations = null;\n    this._getters = null;\n    this._plugins = null;\n    this.off('*');\n  }\n\n  /**\n   * Getter state\n   * @param {String} name\n   * @param {Object} data\n   * @memberof Store\n   * @returns {*}\n   */\n  getter(name, data) {\n    if (data && !isObject(data)) {\n      error(`[getter]', 'The getter data is not object type. name=${name} data=${data}`);\n    }\n    const context = {\n      state: this._state\n    };\n    const fn = this._getters[name];\n    if (!fn || typeof fn !== 'function') {\n      error(`[getter]', 'The getter is not a function. name=${name} data=${data}`);\n    }\n    debug('[getter]', name, data);\n    return fn.apply(null, [context, data]);\n  }\n\n  /**\n   * Commit mutation.\n   * only actions are allowed to execute this function.\n   * @param {String} name mutation name\n   * @param {Object} data\n   * @memberof Store\n   */\n  commit(name, data) {\n    if (data && !isObject(data)) {\n      error(`[mutation]', 'The mutation data is not object type. name=${name} data=${data}`);\n    }\n    const context = {\n      getter: (name, data) => {\n        return this.getter.apply(this, [name, data]);\n      },\n      state: this._state\n    };\n\n    const fn = this._mutations[name];\n    if (!fn || typeof fn !== 'function') {\n      error(`[mutation]', 'The mutation is not a function. name=${name} data=${data}`);\n    }\n\n    debug('[mutation(before)]', name, this._state, data);\n    const triggers = fn.apply(null, [context, data]);\n    debug('[mutation(after)]', name, this._state, data);\n\n    // Plugins\n    this.trigger('riotx:mutations:after', name, triggers, context, data);\n\n    forEach(triggers, v => {\n      // this.trigger(v, null, this.state, this);\n      this.trigger(v, this._state, this);\n    });\n  }\n\n  /**\n   * emit action.\n   * only ui components are allowed to execute this function.\n   * @param {Stting} name action name\n   * @param {Object} data parameter's to action\n   * @memberof Store\n   * @return {Promise}\n   */\n  action(name, data) {\n    if (data && !isObject(data)) {\n      error(`[action]', 'The action data is not object type. name=${name} data=${data}`);\n    }\n    const context = {\n      getter: (name, data) => {\n        return this.getter.apply(this, [name, data]);\n      },\n      //state: this._state,\n      commit: (name, data) => {\n        this.commit(name, data);\n      }\n    };\n\n    const fn = this._actions[name];\n    if (!fn || typeof fn !== 'function') {\n      error(`[action] The action is not a function. name=${name} data=${data}`);\n    }\n\n    debug('[action]', name, data);\n    return Promise\n      .resolve()\n      .then(() => fn.apply(null, [context, data]));\n  }\n\n  /**\n   * shorthand for `store.on('event', () => {})`.\n   * @param {...*} args\n   * @memberof Store\n   */\n  change(...args) {\n    this.on(...args);\n  }\n\n}\n\n/**\n * @class RiotX\n */\nclass RiotX {\n\n  /**\n   * Creates an instance of RiotX.\n   * @memberof RiotX\n   */\n  constructor() {\n    this.version = VERSION || '';\n\n    /**\n     * constructor of RiotX.Store.\n     * @type {RiotX.Store}\n     */\n    this.Store = Store;\n\n    /**\n     * instances of RiotX.Store.\n     * @type {Object}\n     */\n    this.stores = {};\n\n    // add and keep event listener for store changes.\n    // through this function the event listeners will be unbinded automatically.\n    const riotxChange = function (store, evtName, handler, ...args) {\n      this._riotx_change_handlers.push({\n        store,\n        evtName,\n        handler\n      });\n      args.unshift(handler);\n      args.unshift(evtName);\n      store.change(...args);\n    };\n\n    // register a mixin globally.\n    riot.mixin({\n      // intendedly use `function`.\n      // switch the context of `this` from `riotx` to `riot tag instance`.\n      init: function () {\n        // the context of `this` will be equal to riot tag instant.\n        this.on('unmount', () => {\n          this.off('*');\n          forEach(this._riotx_change_handlers, obj => {\n            obj.store.off(obj.evtName, obj.handler);\n          });\n          delete this.riotx;\n          delete this._riotx_change_handlers;\n          delete this[settings.changeBindName];\n        });\n\n        if (settings.debug) {\n          this.on('*', eventName => {\n            debug('[riot.mixin]', eventName, this);\n          });\n        }\n\n        this._riotx_change_handlers = [];\n\n        // let users set the name.\n        this[settings.changeBindName] = riotxChange;\n      },\n      // give each riot instance the ability to access the globally defined singleton RiotX instance.\n      riotx: this\n    });\n  }\n\n  /**\n   * Add a store instance\n   * @param {RiotX.Store} store instance of RiotX.Store\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  add(store) {\n    if (this.stores[store.name]) {\n      error(`[store.add] The store instance named \\`${store.name}\\` already exists.`);\n    }\n\n    this.stores[store.name] = store;\n    return this;\n  }\n\n  /**\n   * Get store instance\n   * @param {String} name store name\n   * @memberof RiotX\n   * @returns {RiotX.Store} store instance\n   */\n  get(name = settings.default) {\n    return this.stores[name];\n  }\n\n  /**\n   * Set debug flag\n   * @param {boolean} flag\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  debug(flag) {\n    settings.debug = !!flag;\n    return this;\n  }\n\n  /**\n   * Set function name to bind store change event.\n   * @param {String} name\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  setChangeBindName(name) {\n    settings.changeBindName = name;\n    return this;\n  }\n\n  /**\n   * Directly changing the state property from outside will occur an exception.\n   * You can change it through “mutations”, or you can get it via “getters”.\n   * @param {boolean} flag\n   * @memberof RiotX\n   * @returns {RiotX}\n   */\n  strict(flag) {\n    settings.strict = !!flag;\n    return this;\n  }\n\n  /**\n   *\n   *\n   * @param {Function} fn @see function _output\n   * @returns Riotx\n   * @memberof RiotX\n   */\n  logger(fn) {\n    settings.logger.output = fn;\n    return this;\n  }\n\n  /**\n   * Reset all store instances at once.\n   * @memberof RiotX\n   * @returns {RiotX} instance\n   */\n  reset() {\n    forOwn(this.stores || {}, store => {\n      store.reset();\n    });\n    this.stores = {};\n    return this;\n  }\n\n  /**\n   * Store's count\n   * @memberof RiotX\n   * @returns {int} size\n   */\n  size() {\n    return keys(this.stores).length;\n  }\n\n}\n\nexport default new RiotX();\n"],"names":["hasOwn","forIn","forOwn","kindOf","isKind","const","let","arguments","isFunction","isObject","getAttr","createPlaceholder","this","replaceVirtual","mountTo","update","tag","getTagName","getTag","getImmediateCustomParentTag","createPlacholder","updateAllExpressions","componentUnmount","mount","settings","s","vdom","misc.extend","o","riot","forEach","keys"],"mappings":"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"}
define(function(){"use strict";var e="0.9.1";function t(e,t){if(t==null){return e}var n=e.length,r=-1,i=t.length;while(++r<i){e[n+r]=t[r]}return e}var n=t;function r(e){return e}var i=r;function a(e){return function(t){return t[e]}}var u=a;function o(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var f=o;var s;var l;function c(){l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];s=true;for(var e in{toString:null}){s=false}}function h(e,t,n){var r,i=0;if(s==null){c()}for(r in e){if(v(t,e,r,n)===false){break}}if(s){var a=e.constructor,u=!!a&&e===a.prototype;while(r=l[i++]){if((r!=="constructor"||!u&&f(e,r))&&e[r]!==Object.prototype[r]){if(v(t,e,r,n)===false){break}}}}}function v(e,t,n,r){return e.call(r,t[n],n,t)}var p=h;function d(e,t,n){p(e,function(r,i){if(f(e,i)){return t.call(n,e[i],i,e)}})}var g=d;var m=/^\[object (.*)\]$/;var y=Object.prototype.toString;var w;function b(e){if(e===null){return"Null"}else if(e===w){return"Undefined"}else{return m.exec(y.call(e))[1]}}var _=b;function x(e,t){return _(e)===t}var j=x;var O=Array.isArray||function(e){return j(e,"Array")};var N=O;function E(e,t){var n=-1,r=e.length;while(++n<r){if(C(e[n],t)){return true}}return false}function k(e,t){var n=-1,r=t.length;while(++n<r){if(!E(e,t[n])){return false}}return true}function A(e,t){var n=true;g(t,function(t,r){if(!C(e[r],t)){return n=false}});return n}function C(e,t){if(e&&typeof e==="object"&&t&&typeof t==="object"){if(N(e)&&N(t)){return k(e,t)}else{return A(e,t)}}else{return e===t}}var T=C;function M(e,t){if(e==null){return i}switch(typeof e){case"function":return typeof t!=="undefined"?function(n,r,i){return e.call(t,n,r,i)}:e;case"object":return function(t){return T(t,e)};case"string":case"number":return u(e)}}var L=M;function I(e,t,r){t=L(t,r);var i=[];if(e==null){return i}var a=-1,u=e.length;while(++a<u){var o=t(e[a],a,e);if(o!=null){n(i,o)}}return i}var S=I;function R(e,t,n){n=n||0;if(e==null){return-1}var r=e.length,i=n<0?r+n:n;while(i<r){if(e[i]===t){return i}i++}return-1}var P=R;function F(e,t){if(t==null){return e}var n=-1,r=t.length;while(++n<r){if(P(e,t[n])===-1){e.push(t[n])}}return e}var $=F;function H(e,t,n){t=L(t,n);var r=[];if(e==null){return r}var i=-1,a=e.length,u;while(++i<a){u=e[i];if(t(u,i,e)){r.push(u)}}return r}var U=H;function V(e){return U(e,function(e){return e!=null})}var B=V;function z(e,t){return P(e,t)!==-1}var D=z;function q(e,t){t=t||K;return U(e,function(e,n,r){var i=r.length;while(++n<i){if(t(e,r[n])){return false}}return true})}function K(e,t){return e===t}var W=q;function Z(e,t,n){t=L(t,n);var r=false;if(e==null){return r}var i=-1,a=e.length;while(++i<a){if(t(e[i],i,e)){r=true;break}}return r}var G=Z;function Q(e,t,n){var r=e.length;if(t==null){t=0}else if(t<0){t=Math.max(r+t,0)}else{t=Math.min(t,r)}if(n==null){n=r}else if(n<0){n=Math.max(r+n,0)}else{n=Math.min(n,r)}var i=[];while(t<n){i.push(e[t++])}return i}var J=Q;function X(e){var t=J(arguments,1),n=U(W(e),function(e){return!G(t,function(t){return D(t,e)})});return n}var Y=X;function ee(e,t){if(e===t){return e!==0||1/e===1/t}return e!==e&&t!==t}var te=ee;function ne(e,t,n){t=L(t,n);var r=true;if(e==null){return r}var i=-1,a=e.length;while(++i<a){if(!t(e[i],i,e)){r=false;break}}return r}var re=ne;function ie(e,t,n){n=n||te;if(!N(e)||!N(t)){return n(e,t)}if(e.length!==t.length){return false}return re(e,ae(n),t)}function ae(e){return function(t,n){return n in this&&e(t,this[n])}}var ue=ie;function oe(e,t,n){t=L(t,n);if(e==null){return-1}var r=-1,i=e.length;while(++r<i){if(t(e[r],r,e)){return r}}return-1}var fe=oe;function se(e,t,n){var r=fe(e,t,n);return r>=0?e[r]:void 0}var le=se;function ce(e,t,n){t=L(t,n);if(e==null){return-1}var r=e.length;while(--r>=0){if(t(e[r],r,e)){return r}}return-1}var he=ce;function ve(e,t,n){var r=he(e,t,n);return r>=0?e[r]:void 0}var pe=ve;function de(e,t,r){if(r===0){n(t,e);return t}var i,a=-1,u=e.length;while(++a<u){i=e[a];if(N(i)){de(i,t,r-1)}else{t.push(i)}}return t}function ge(e,t){if(e==null){return[]}t=t==null?-1:t;return de(e,[],t)}var me=ge;function ye(e,t,n){if(e==null){return}var r=-1,i=e.length;while(++r<i){if(t.call(n,e[r],r,e)===false){break}}}var we=ye;function be(e,t,n){if(t){t=L(t,n)}else{t=i}var r={};we(e,function(e){var n=t(e);if(!(n in r)){r[n]=[]}r[n].push(e)});return r}var _e=be;function xe(e,t,n){var r=[];if(e==null){return r}n=typeof n==="number"?n:0;var i=e.length;var a=n>=0?n:i+n;while(a<i){if(e[a]===t){r.push(a)}a++}return r}var je=xe;function Oe(e,t){var n=Y(J(arguments,1),e);if(n.length){Array.prototype.push.apply(e,n)}return e.length}var Ne=Oe;function Ee(e){var t=J(arguments,1),n=U(W(e),function(e){return re(t,function(t){return D(t,e)})});return n}var ke=Ee;function Ae(e,t,n){if(e==null){return e}var r=J(arguments,2);var i=-1,a=e.length,u;while(++i<a){u=e[i];u[t].apply(u,r)}return e}var Ce=Ae;function Te(e){return e!=null&&e!==""}function Me(e,t){t=t||"";return U(e,Te).join(t)}var Le=Me;function Ie(e){if(e==null||e.length<1){return undefined}return e[e.length-1]}var Se=Ie;function Re(e,t,n){if(e==null){return-1}var r=e.length;n=n==null||n>=r?r-1:n;n=n<0?r+n:n;while(n>=0){if(e[n]===t){return n}n--}return-1}var Pe=Re;function Fe(e,t,n){t=L(t,n);var r=[];if(e==null){return r}var i=-1,a=e.length;while(++i<a){r[i]=t(e[i],i,e)}return r}var $e=Fe;function He(e,t,n){if(e==null||!e.length){return Infinity}else if(e.length&&!t){return Math.max.apply(Math,e)}else{t=L(t,n);var r,i=-Infinity,a,u;var o=-1,f=e.length;while(++o<f){a=e[o];u=t(a,o,e);if(u>i){i=u;r=a}}return r}}var Ue=He;function Ve(e,t,n){if(e==null||!e.length){return-Infinity}else if(e.length&&!t){return Math.min.apply(Math,e)}else{t=L(t,n);var r,i=Infinity,a,u;var o=-1,f=e.length;while(++o<f){a=e[o];u=t(a,o,e);if(u<i){i=u;r=a}}return r}}var Be=Ve;var ze=-2147483648;var De=2147483647;function qe(){return qe.get()}qe.get=Math.random;var Ke=qe;function We(e,t){e=e==null?ze:e;t=t==null?De:t;return e+(t-e)*Ke()}var Ze=We;function Ge(e,t){e=e==null?ze:~~e;t=t==null?De:~~t;return Math.round(Ze(e-.5,t+.499999999999))}var Qe=Ge;function Je(e,t){if(t!=null){var n=[];if(t>0&&e&&e.length){t=t>e.length?e.length:t;while(t--){n.push(Xe(e))}}return n}return e&&e.length?Xe(e):void 0}function Xe(e){var t=Qe(0,e.length-1);return e.splice(t,1)[0]}var Ye=Je;function et(e,t){return $e(e,t)}var tt=et;function nt(e,t,n){e=Math.floor(e/t);if(n){return e%n}return e}var rt=nt;function it(e,t,n){if(t==null){t=e;e=0}n=n||1;var r=[],i=rt(t-e,n),a=e;while(a<=t){r.push(a);a+=n}return r}var at=it;function ut(e,t,n){var r=arguments.length>2,i=n;if(e==null||!e.length){if(!r){throw new Error("reduce of empty array with no initial value")}else{return n}}var a=-1,u=e.length;while(++a<u){if(!r){i=e[a];r=true}else{i=t(i,e[a],a,e)}}return i}var ot=ut;function ft(e,t,n){var r=arguments.length>2;if(e==null||!e.length){if(r){return n}else{throw new Error("reduce of empty array with no initial value")}}var i=e.length,a=n,u;while(--i>=0){u=e[i];if(!r){a=u;r=true}else{a=t(a,u,i,e)}}return a}var st=ft;function lt(e,t,n){t=L(t,n);var r=[];if(e==null){return r}var i=-1,a=e.length,u;while(++i<a){u=e[i];if(!t(u,i,e)){r.push(u)}}return r}var ct=lt;function ht(e,t){var n=P(e,t);if(n!==-1){e.splice(n,1)}}var vt=ht;function pt(e,t){var n=P(e,t);while(n!==-1){e.splice(n,1);n=P(e,t,n)}}var dt=pt;function gt(e){var t=e.slice();t.reverse();return t}var mt=gt;function yt(e){var t=[],n;if(e==null){return t}var r=-1,i=e.length;while(++r<i){if(!r){t[0]=e[0]}else{n=Qe(0,r);t[r]=t[n];t[n]=e[r]}}return t}var wt=yt;function bt(e,t){if(e==null){return[]}else if(e.length<2){return e}if(t==null){t=_t}var n,r,i;n=~~(e.length/2);r=bt(e.slice(0,n),t);i=bt(e.slice(n,e.length),t);return xt(r,i,t)}function _t(e,t){return e<t?-1:e>t?1:0}function xt(e,t,n){var r=[];while(e.length&&t.length){if(n(e[0],t[0])<=0){r.push(e.shift())}else{r.push(t.shift())}}if(e.length){r.push.apply(r,e)}if(t.length){r.push.apply(r,t)}return r}var jt=bt;function Ot(e,t,n){t=L(t,n);return jt(e,function(e,n){e=t(e);n=t(n);return e<n?-1:e>n?1:0})}var Nt=Ot;function Et(e,t){t=t||2;var n=[];if(e==null){return n}var r=Math.floor(e.length/t),i=e.length%t,a=0,u=e.length,o=0,f;while(a<u){f=r;if(o<i){f++}n.push(e.slice(a,a+f));o++;a+=f}return n}var kt=Et;function At(e,t,n){var r=-1;var i=[];if(!n){while(++r<e){i[r]=t(r,e)}}else{while(++r<e){i[r]=t.call(n,r,e)}}return i}var Ct=At;function Tt(e){return j(e,"Function")}var Mt=Tt;function Lt(e,t){var n={};if(e==null){return n}var r=-1,i=e.length,a;if(Mt(t)){while(++r<i){a=e[r];n[t(a)]=a}}else{while(++r<i){a=e[r];n[a[t]]=a}}return n}var It=Lt;function St(e){var t=arguments;var r=[];var i=-1,a=arguments.length;while(++i<a){n(r,t[i])}return W(r)}var Rt=St;function Pt(e,t){e=W(e);t=W(t);var n=U(e,function(e){return!D(t,e)}),r=U(t,function(t){return!D(e,t)});return n.concat(r)}var Ft=Pt;function $t(e){return e==null?0:e.length}function Ht(e){var t=arguments;var n=e?Ue($e(arguments,$t)):0,r=[],i=-1;while(++i<n){r.push($e(t,function(e){return e==null?undefined:e[i]}))}return r}var Ut=Ht;var Vt={append:n,collect:S,combine:$,compact:B,contains:D,difference:Y,equals:ue,every:re,filter:U,find:le,findIndex:fe,findLast:pe,findLastIndex:he,flatten:me,forEach:we,groupBy:_e,indexOf:P,indicesOf:je,insert:Ne,intersection:ke,invoke:Ce,join:Le,last:Se,lastIndexOf:Pe,map:$e,max:Ue,min:Be,pick:Ye,pluck:tt,range:at,reduce:ot,reduceRight:st,reject:ct,remove:vt,removeAll:dt,reverse:mt,shuffle:wt,slice:J,some:G,sort:jt,sortBy:Nt,split:kt,take:Ct,toLookup:It,union:Rt,unique:W,xor:Ft,zip:Ut};var Bt=Vt.forEach;function zt(e){var t=[];p(e,function(e,n){if(typeof e==="function"){t.push(n)}});return t.sort()}var Dt=zt;function qt(e,t,n){var r=J(arguments,2);return function(){return e.apply(t,r.concat(J(arguments)))}}var Kt=qt;function Wt(e,t){var n=arguments.length>1?J(arguments,1):Dt(e);we(n,function(t){e[t]=Kt(e[t],e)})}var Zt=Wt;function Gt(e,t,n){t=L(t,n);var r=false;g(e,function(n,i){if(t(n,i,e)){r=true;return false}});return r}var Qt=Gt;function Jt(e,t){return Qt(e,function(e){return e===t})}var Xt=Jt;function Yt(e){return!!e&&typeof e==="object"&&e.constructor===Object}var en=Yt;function tn(e,t){var n=arguments;var r=0,i=arguments.length,a;while(++r<i){a=n[r];if(a){g(a,function(t,n){var r=e[n];if(r==null){e[n]=t}else if(en(r)&&en(t)){tn(r,t)}})}}return e}var nn=tn;function rn(e,t){var n=arguments;var r=0,i=arguments.length,a;while(++r<i){a=n[r];if(a){g(a,an,e)}}return e}function an(e,t){var n=this[t];if(en(e)&&en(n)){rn(n,e)}else{this[t]=e}}var un=rn;function on(e,t,n){t=L(t,n);var r=true;g(e,function(n,i){if(!t(n,i,e)){r=false;return false}});return r}var fn=on;function sn(e){return j(e,"Object")}var ln=sn;function cn(e){return function(t,n){return f(this,n)&&e(t,this[n])}}function hn(e,t){return f(this,t)}function vn(e,t,n){n=n||te;if(!ln(e)||!ln(t)){return n(e,t)}return fn(e,cn(n),t)&&fn(t,hn,e)}var pn=vn;function dn(e,t){we(J(arguments,1),function(t){g(t,function(t,n){if(e[n]==null){e[n]=t}})});return e}var gn=dn;function mn(e,t,n){t=L(t,n);var r={};g(e,function(e,n,i){if(t(e,n,i)){r[n]=e}});return r}var yn=mn;function wn(e,t,n){t=L(t,n);var r;Qt(e,function(e,n,i){if(t(e,n,i)){r=e;return true}});return r}var bn=wn;function _n(e,t,n,r){g(e,function(e,i){var a=n?n+"."+i:i;if(r!==0&&en(e)){_n(e,t,a,r-1)}else{t[a]=e}});return t}function xn(e,t){if(e==null){return{}}t=t==null?-1:t;return _n(e,{},"",t)}var jn=xn;function On(e,t){var n=t.split("."),r=n.pop();while(t=n.shift()){e=e[t];if(e==null){return}}return e[r]}var Nn=On;var En;function kn(e,t){return Nn(e,t)!==En}var An=kn;var Cn=Object.keys||function(e){var t=[];g(e,function(e,n){t.push(n)});return t};var Tn=Cn;function Mn(e,t,n){t=L(t,n);var r={};g(e,function(e,n,i){r[n]=t(e,n,i)});return r}var Ln=Mn;function In(e,t){var n=true;g(t,function(t,r){if(e[r]!==t){return n=false}});return n}var Sn=In;function Rn(e){var t=[];g(e,function(e,n){t.push(e)});return t}var Pn=Rn;function Fn(e,t){return Ue(Pn(e),t)}var $n=Fn;function Hn(e,t){var n=arguments;var r=0,i=arguments.length,a;while(++r<i){a=n[r];if(a!=null){g(a,Un,e)}}return e}function Un(e,t){this[t]=e}var Vn=Hn;function Bn(e){switch(_(e)){case"Object":return zn(e);case"Array":return Kn(e);case"RegExp":return Dn(e);case"Date":return qn(e);default:return e}}function zn(e){if(en(e)){return Vn({},e)}else{return e}}function Dn(e){var t="";t+=e.multiline?"m":"";t+=e.global?"g":"";t+=e.ignoreCase?"i":"";return new RegExp(e.source,t)}function qn(e){return new Date(+e)}function Kn(e){return e.slice()}var Wn=Bn;function Zn(e,t){switch(_(e)){case"Object":return Gn(e,t);case"Array":return Qn(e,t);default:return Wn(e)}}function Gn(e,t){if(en(e)){var n={};g(e,function(e,n){this[n]=Zn(e,t)},n);return n}else if(t){return t(e)}else{return e}}function Qn(e,t){var n=[],r=-1,i=e.length,a;while(++r<i){n[r]=Zn(e[r],t)}return n}var Jn=Zn;function Xn(){var e=1,t,n,r,i;i=Jn(arguments[0]);while(r=arguments[e++]){for(t in r){if(!f(r,t)){continue}n=r[t];if(ln(n)&&ln(i[t])){i[t]=Xn(i[t],n)}else{i[t]=Jn(n)}}}return i}var Yn=Xn;function er(e,t){return Be(Pn(e),t)}var tr=er;function nr(e,t){if(!t){return e}we(t.split("."),function(t){if(!e[t]){e[t]={}}e=e[t]});return e}var rr=nr;function ir(e,t){var n=typeof arguments[1]!=="string"?arguments[1]:J(arguments,1),r={};for(var i in e){if(e.hasOwnProperty(i)&&!D(n,i)){r[i]=e[i]}}return r}var ar=ir;function ur(e,t){var n=typeof arguments[1]!=="string"?arguments[1]:J(arguments,1),r={},i=0,a;while(a=n[i++]){r[a]=e[a]}return r}var or=ur;function fr(e,t){return Ln(e,u(t))}var sr=fr;function lr(e){var t=0;g(e,function(){t++});return t}var cr=lr;function hr(e,t,n,r){var i=arguments.length>2;if(!cr(e)&&!i){throw new Error("reduce of empty object with no initial value")}g(e,function(e,a,u){if(!i){n=e;i=true}else{n=t.call(r,n,e,a,u)}});return n}var vr=hr;function pr(e,t,n){t=L(t,n);return yn(e,function(e,n,r){return!t(e,n,r)},n)}var dr=pr;function gr(e,t){var n=e[t];if(n===undefined){return}return Mt(n)?n.call(e):n}var mr=gr;function yr(e,t,n){var r=/^(.+)\.(.+)$/.exec(t);if(r){rr(e,r[1])[r[2]]=n}else{e[t]=n}}var wr=yr;function br(e,t){if(An(e,t)){var n=t.split("."),r=n.pop();while(t=n.shift()){e=e[t]}return delete e[r]}else{return true}}var _r=br;var xr={bindAll:Zt,contains:Xt,deepFillIn:nn,deepMatches:T,deepMixIn:un,equals:pn,every:fn,fillIn:gn,filter:yn,find:bn,flatten:jn,forIn:p,forOwn:g,functions:Dt,get:Nn,has:An,hasOwn:f,keys:Tn,map:Ln,matches:Sn,max:$n,merge:Yn,min:tr,mixIn:Vn,namespace:rr,omit:ar,pick:or,pluck:sr,reduce:vr,reject:dr,result:mr,set:wr,size:cr,some:Qt,unset:_r,values:Pn};var jr=xr.keys;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var Or=Object.getOwnPropertySymbols;var Nr=Object.prototype.hasOwnProperty;var Er=Object.prototype.propertyIsEnumerable;function kr(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function Ar(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var n=0;n<10;n++){t["_"+String.fromCharCode(n)]=n}var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(r.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e});if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}var Cr=Ar()?Object.assign:function(e,t){var n=arguments;var r;var i=kr(e);var a;for(var u=1;u<arguments.length;u++){r=Object(n[u]);for(var o in r){if(Nr.call(r,o)){i[o]=r[o]}}if(Or){a=Or(r);for(var f=0;f<a.length;f++){if(Er.call(r,a[f])){i[a[f]]=r[a[f]]}}}}return i};var Tr=typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};function Mr(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Lr=Mr(function(e){(function(t){var n=setTimeout;function r(){}function i(e,t){return function(){e.apply(t,arguments)}}function a(e){if(typeof this!=="object"){throw new TypeError("Promises must be constructed via new")}if(typeof e!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];c(e,this)}function u(e,t){while(e._state===3){e=e._value}if(e._state===0){e._deferreds.push(t);return}e._handled=true;a._immediateFn(function(){var n=e._state===1?t.onFulfilled:t.onRejected;if(n===null){(e._state===1?o:f)(t.promise,e._value);return}var r;try{r=n(e._value)}catch(e){f(t.promise,e);return}o(t.promise,r)})}function o(e,t){try{if(t===e){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var n=t.then;if(t instanceof a){e._state=3;e._value=t;s(e);return}else if(typeof n==="function"){c(i(n,t),e);return}}e._state=1;e._value=t;s(e)}catch(t){f(e,t)}}function f(e,t){e._state=2;e._value=t;s(e)}function s(e){if(e._state===2&&e._deferreds.length===0){a._immediateFn(function(){if(!e._handled){a._unhandledRejectionFn(e._value)}})}for(var t=0,n=e._deferreds.length;t<n;t++){u(e,e._deferreds[t])}e._deferreds=null}function l(e,t,n){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.promise=n}function c(e,t){var n=false;try{e(function(e){if(n){return}n=true;o(t,e)},function(e){if(n){return}n=true;f(t,e)})}catch(e){if(n){return}n=true;f(t,e)}}a.prototype["catch"]=function(e){return this.then(null,e)};a.prototype.then=function(e,t){var n=new this.constructor(r);u(this,new l(e,t,n));return n};a.all=function(e){var t=Array.prototype.slice.call(e);return new a(function(e,n){if(t.length===0){return e([])}var r=t.length;function i(a,u){try{if(u&&(typeof u==="object"||typeof u==="function")){var o=u.then;if(typeof o==="function"){o.call(u,function(e){i(a,e)},n);return}}t[a]=u;if(--r===0){e(t)}}catch(e){n(e)}}for(var a=0;a<t.length;a++){i(a,t[a])}})};a.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===a){return e}return new a(function(t){t(e)})};a.reject=function(e){return new a(function(t,n){n(e)})};a.race=function(e){return new a(function(t,n){for(var r=0,i=e.length;r<i;r++){e[r].then(t,n)}})};a._immediateFn=typeof setImmediate==="function"&&function(e){setImmediate(e)}||function(e){n(e,0)};a._unhandledRejectionFn=function e(t){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",t)}};a._setImmediateFn=function e(t){a._immediateFn=t};a._setUnhandledRejectionFn=function e(t){a._unhandledRejectionFn=t};if("object"!=="undefined"&&e.exports){e.exports=a}else if(!t.Promise){t.Promise=a}})(Tr)});var Ir=[];var Sr={};var Rr="__global_mixin";var Pr="riot-";var Fr=["ref","data-ref"];var $r="data-is";var Hr="if";var Ur="each";var Vr="no-reorder";var Br="show";var zr="hide";var Dr="__riot-events__";var qr="string";var Kr="object";var Wr="undefined";var Zr="function";var Gr="http://www.w3.org/1999/xlink";var Qr="http://www.w3.org/2000/svg";var Jr=/^xlink:(\w+)/;var Xr=typeof window===Wr?undefined:window;var Yr=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;var ei=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;var ti=/^on/;var ni=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/;var ri=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;var ii={viewbox:"viewBox"};var ai=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;var ui=(Xr&&Xr.document||{}).documentMode|0;function oi(e){return ai.test(e)}function fi(e){return typeof e===Zr}function si(e){return e&&typeof e===Kr}function li(e){return typeof e===Wr}function ci(e){return typeof e===qr}function hi(e){return li(e)||e===null||e===""}function vi(e){return Array.isArray(e)||e instanceof Array}function pi(e,t){var n=Object.getOwnPropertyDescriptor(e,t);return li(e[t])||n&&n.writable}function di(e){return ni.test(e)}var gi=Object.freeze({isBoolAttr:oi,isFunction:fi,isObject:si,isUndefined:li,isString:ci,isBlank:hi,isArray:vi,isWritable:pi,isReservedName:di});function mi(e,t){return Array.prototype.slice.call((t||document).querySelectorAll(e))}function yi(e,t){return(t||document).querySelector(e)}function wi(){return document.createDocumentFragment()}function bi(){return document.createTextNode("")}function _i(e){return!!e.ownerSVGElement}function xi(e){return e==="svg"?document.createElementNS(Qr,e):document.createElement(e)}function ji(e,t){if(!li(e.innerHTML)){e.innerHTML=t}else{var n=(new DOMParser).parseFromString(t,"application/xml");var r=e.ownerDocument.importNode(n.documentElement,true);e.appendChild(r)}}function Oi(e,t){e.style.display=t?"":"none";e["hidden"]=t?false:true}function Ni(e,t){e.removeAttribute(t)}function Ei(e){return Object.keys(e).reduce(function(t,n){return t+" "+n+": "+e[n]+";"},"")}function ki(e,t){return e.getAttribute(t)}function Ai(e,t,n){var r=Jr.exec(t);if(r&&r[1]){e.setAttributeNS(Gr,r[1],n)}else{e.setAttribute(t,n)}}function Ci(e,t,n){e.insertBefore(t,n.parentNode&&n)}function Ti(e,t){if(!e){return}var n;while(n=ri.exec(e)){t(n[1].toLowerCase(),n[2]||n[3]||n[4])}}function Mi(e,t,n){if(e){var r=t(e,n);var i;if(r===false){return}e=e.firstChild;while(e){i=e.nextSibling;Mi(e,t,r);e=i}}}var Li=Object.freeze({$$:mi,$:yi,createFrag:wi,createDOMPlaceholder:bi,isSvg:_i,mkEl:xi,setInnerHTML:ji,toggleVisibility:Oi,remAttr:Ni,styleObjectToString:Ei,getAttr:ki,setAttr:Ai,safeInsert:Ci,walkAttrs:Ti,walkNodes:Mi});var Ii;var Si;var Ri={};var Pi=[];var Fi=false;if(Xr){Ii=function(){var e=xi("style");Ai(e,"type","text/css");var t=yi("style[type=riot]");if(t){if(t.id){e.id=t.id}t.parentNode.replaceChild(e,t)}else{document.getElementsByTagName("head")[0].appendChild(e)}return e}();Si=Ii.styleSheet}var $i={styleNode:Ii,add:function e(t,n){if(n){Ri[n]=t}else{Pi.push(t)}Fi=true},inject:function e(){if(!Xr||!Fi){return}Fi=false;var t=Object.keys(Ri).map(function(e){return Ri[e]}).concat(Pi).join("\n");if(Si){Si.cssText=t}else{Ii.innerHTML=t}}};var Hi=function(e){var t="g",n=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,r=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,i=r.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),u=/(?=[[\]()*+?.^$|])/g,o={"(":RegExp("([()])|"+i,t),"[":RegExp("([[\\]])|"+i,t),"{":RegExp("([{}])|"+i,t)},f="{ }";var s=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+i,t),f,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var l=e,c,h=[],v;function p(e){return e}function d(e,n){if(!n){n=h}return new RegExp(e.source.replace(/{/g,n[2]).replace(/}/g,n[3]),e.global?t:"")}function g(e){if(e===f){return s}var n=e.split(" ");if(n.length!==2||a.test(e)){throw new Error('Unsupported brackets "'+e+'"')}n=n.concat(e.replace(u,"\\").split(" "));n[4]=d(n[1].length>1?/{[\S\s]*?}/:s[4],n);n[5]=d(e.length>3?/\\({|})/g:s[5],n);n[6]=d(s[6],n);n[7]=RegExp("\\\\("+n[3]+")|([[({])|("+n[3]+")|"+i,t);n[8]=e;return n}function m(e){return e instanceof RegExp?c(e):h[e]}m.split=function e(t,n,r){if(!r){r=h}var i=[],a,u,f,s,l=r[6];u=f=l.lastIndex=0;while(a=l.exec(t)){s=a.index;if(u){if(a[2]){l.lastIndex=v(t,a[2],l.lastIndex);continue}if(!a[3]){continue}}if(!a[1]){c(t.slice(f,s));f=l.lastIndex;l=r[6+(u^=1)];l.lastIndex=f}}if(t&&f<t.length){c(t.slice(f))}return i;function c(e){if(n||u){i.push(e&&e.replace(r[5],"$1"))}else{i.push(e)}}function v(e,t,n){var r,i=o[t];i.lastIndex=n;n=1;while(r=i.exec(e)){if(r[1]&&!(r[1]===t?++n:--n)){break}}return n?e.length:i.lastIndex}};m.hasExpr=function e(t){return h[4].test(t)};m.loopKeys=function e(t){var n=t.match(h[9]);return n?{key:n[1],pos:n[2],val:h[0]+n[3].trim()+h[1]}:{val:t.trim()}};m.array=function e(t){return t?g(t):h};function y(e){if((e||(e=f))!==h[8]){h=g(e);c=e===f?p:d;h[9]=c(s[9])}l=e}function w(e){var t;e=e||{};t=e.brackets;Object.defineProperty(e,"brackets",{set:y,get:function(){return l},enumerable:true});v=e;y(t)}Object.defineProperty(m,"settings",{set:w,get:function(){return v}});m.settings=typeof riot!=="undefined"&&riot.settings||{};m.set=y;m.R_STRINGS=r;m.R_MLCOMMS=n;m.S_QBLOCKS=i;return m}();var Ui=function(){var e={};function t(t,i){if(!t){return t}return(e[t]||(e[t]=r(t))).call(i,n.bind({data:i,tmpl:t}))}t.hasExpr=Hi.hasExpr;t.loopKeys=Hi.loopKeys;t.clearCache=function(){e={}};t.errorHandler=null;function n(e,n){e.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id};if(t.errorHandler){t.errorHandler(e)}else if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(e.message);console.log("<%s> %s",e.riotData.tagName||"Unknown tag",this.tmpl);console.log(this.data)}}function r(e){var t=s(e);if(t.slice(0,11)!=="try{return "){t="return "+t}return new Function("E",t+";")}var i=String.fromCharCode(8279),a=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,u=RegExp(Hi.S_QBLOCKS,"g"),o=/\u2057/g,f=/\u2057(\d+)~/g;function s(e){var t=[],n,r=Hi.split(e.replace(o,'"'),1);if(r.length>2||r[0]){var i,a,u=[];for(i=a=0;i<r.length;++i){n=r[i];if(n&&(n=i&1?c(n,1,t):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){u[a++]=n}}n=a<2?u[0]:"["+u.join(",")+'].join("")'}else{n=c(r[1],0,t)}if(t[0]){n=n.replace(f,function(e,n){return t[n].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return n}var l={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function c(e,t,n){e=e.replace(u,function(e,t){return e.length>2&&!t?i+(n.push(e)-1)+"~":e}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(e){var r=[],o=0,f;while(e&&(f=e.match(a))&&!f.index){var s,c,h=/,|([[{(])|$/g;e=RegExp.rightContext;s=f[2]?n[f[2]].slice(1,-1).trim().replace(/\s+/g," "):f[1];while(c=(f=h.exec(e))[1]){v(c,h)}c=e.slice(0,f.index);e=RegExp.rightContext;r[o++]=d(c,1,s)}e=!o?d(e,t):o>1?"["+r.join(",")+'].join(" ").trim()':r[0]}return e;function v(t,n){var r,i=1,a=l[t];a.lastIndex=n.lastIndex;while(r=a.exec(e)){if(r[0]===t){++i}else if(!--i){break}}n.lastIndex=i?e.length:a.lastIndex}}var h='"in this?this:'+(typeof window!=="object"?"global":"window")+").",v=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,p=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function d(e,t,n){var r;e=e.replace(v,function(e,t,n,i,a){if(n){i=r?0:i+e.length;if(n!=="this"&&n!=="global"&&n!=="window"){e=t+'("'+n+h+n;if(i){r=(a=a[i])==="."||a==="("||a==="["}}else if(i){r=!p.test(a.slice(i))}}return e});if(r){e="try{return "+e+"}catch(e){E(e,this)}"}if(n){e=(r?"function(){"+e+"}.call(this)":"("+e+")")+'?"'+n+'":""'}else if(t){e="function(v){"+(r?e.replace("return ","v="):"v=("+e+")")+';return v||v===0?v:""}.call(this)'}return e}t.version=Hi.version="v3.0.5";return t}();var Vi=function(e){e=e||{};var t={},n=Array.prototype.slice;Object.defineProperties(e,{on:{value:function(n,r){if(typeof r=="function"){(t[n]=t[n]||[]).push(r)}return e},enumerable:false,writable:false,configurable:false},off:{value:function(n,r){if(n=="*"&&!r){t={}}else{if(r){var i=t[n];for(var a=0,u;u=i&&i[a];++a){if(u==r){i.splice(a--,1)}}}else{delete t[n]}}return e},enumerable:false,writable:false,configurable:false},one:{value:function(t,n){function r(){e.off(t,r);n.apply(e,arguments)}return e.on(t,r)},enumerable:false,writable:false,configurable:false},trigger:{value:function(r){var i=arguments;var a=arguments.length-1,u=new Array(a),o,f,s;for(s=0;s<a;s++){u[s]=i[s+1]}o=n.call(t[r]||[],0);for(s=0;f=o[s];++s){f.apply(e,u)}if(t["*"]&&r!="*"){e.trigger.apply(e,["*",r].concat(u))}return e},enumerable:false,writable:false,configurable:false}});return e};function Bi(e,t){var n=e?e.length:0;var r=0;for(;r<n;++r){t(e[r],r)}return e}function zi(e,t){return e.indexOf(t)!==-1}function Di(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}function qi(e,t){return e.slice(0,t.length)===t}function Ki(e,t,n,r){Object.defineProperty(e,t,Wi({value:n,enumerable:false,writable:false,configurable:true},r));return e}function Wi(e){var t,n=arguments;for(var r=1;r<n.length;++r){if(t=n[r]){for(var i in t){if(pi(e,i)){e[i]=t[i]}}}}return e}var Zi=Object.freeze({each:Bi,contains:zi,toCamel:Di,startsWith:qi,defineProperty:Ki,extend:Wi});var Gi=Wi(Object.create(Hi.settings),{skipAnonymousTags:true});function Qi(e,t,n){var r=this.__.parent,i=this.__.item;if(!i){while(r&&!i){i=r.__.item;r=r.__.parent}}if(pi(n,"currentTarget")){n.currentTarget=e}if(pi(n,"target")){n.target=n.srcElement}if(pi(n,"which")){n.which=n.charCode||n.keyCode}n.item=i;t.call(this,n);if(!n.preventUpdate){var a=Da(this);if(a.isMounted){a.update()}}}function Ji(e,t,n,r){var i,a=Qi.bind(r,n,t);n[e]=null;i=e.replace(ti,"");if(!zi(r.__.listeners,n)){r.__.listeners.push(n)}if(!n[Dr]){n[Dr]={}}if(n[Dr][e]){n.removeEventListener(i,n[Dr][e])}n[Dr][e]=a;n.addEventListener(i,a,false)}function Xi(e,t,n){var r,i,a,u;if(e.tag&&e.tagName===n){e.tag.update();return}i=e.dom.tagName==="VIRTUAL";if(e.tag){if(i){a=e.tag.__.head;u=bi();a.parentNode.insertBefore(u,a)}e.tag.unmount(true)}if(!ci(n)){return}e.impl=Sr[n];r={root:e.dom,parent:t,hasImpl:true,tagName:n};e.tag=za(e.impl,r,e.dom.innerHTML,t);Bi(e.attrs,function(t){return Ai(e.tag.root,t.name,t.value)});e.tagName=n;e.tag.mount();if(i){Ja(e.tag,u||e.tag.root)}t.__.onUnmount=function(){var t=e.tag.opts.dataIs,n=e.tag.parent.tags,r=e.tag.__.parent.tags;Ga(n,t,e.tag);Ga(r,t,e.tag);e.tag.unmount()}}function Yi(e){if(!e){return null}e=e.replace(Pr,"");if(ii[e]){e=ii[e]}return e}function ea(e){if(this.root&&ki(this.root,"virtualized")){return}var t=e.dom,n=Yi(e.attr),r=zi([Br,zr],n),i=e.root&&e.root.tagName==="VIRTUAL",a=t&&(e.parent||t.parentNode),u=n==="style",o=n==="class",f,s,l;if(e._riot_id){if(e.isMounted){e.update()}else{e.mount();if(i){Ja(e,e.root)}}return}if(e.update){return e.update()}l=Ui(e.expr,r?Wi({},Object.create(this.parent),this):this);f=!hi(l);s=si(l);if(s){s=!o&&!u;if(o){l=Ui(JSON.stringify(l),this)}else if(u){l=Ei(l)}}if(e.attr&&(!e.isAttrRemoved||!f||l===false)){Ni(t,e.attr);e.isAttrRemoved=true}if(e.bool){l=l?n:false}if(e.isRtag){return Xi(e,this,l)}if(e.wasParsedOnce&&e.value===l){return}e.value=l;e.wasParsedOnce=true;if(s&&!r){return}if(hi(l)){l=""}if(!n){l+="";if(a){e.parent=a;if(a.tagName==="TEXTAREA"){a.value=l;if(!ui){t.nodeValue=l}}else{t.nodeValue=l}}return}if(fi(l)){Ji(n,l,t,this)}else if(r){Oi(t,n===zr?!l:l)}else{if(e.bool){t[n]=l}if(n==="value"&&t.value!==l){t.value=l}if(f&&l!==false){Ai(t,n,l)}if(u&&t.hidden){Oi(t,false)}}}function ta(e){Bi(e,ea.bind(this))}var na={init:function e(t,n,r){Ni(t,Hr);this.tag=n;this.expr=r;this.stub=document.createTextNode("");this.pristine=t;var i=t.parentNode;i.insertBefore(this.stub,t);i.removeChild(t);return this},update:function e(){this.value=Ui(this.expr,this.tag);if(this.value&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=[];ha.apply(this.tag,[this.current,this.expressions,true])}else if(!this.value&&this.current){qa(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(this.value){ta.call(this.tag,this.expressions)}},unmount:function e(){qa(this.expressions||[])}};var ra={init:function e(t,n,r,i){this.dom=t;this.attr=r;this.rawValue=i;this.parent=n;this.hasExp=Ui.hasExpr(i);return this},update:function e(){var t=this.value;var n=this.parent&&Da(this.parent);var r=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?Ui(this.rawValue,this.parent):this.rawValue;if(!hi(t)&&n){Ga(n.refs,t,r)}if(!hi(this.value)&&ci(this.value)){if(n){Za(n.refs,this.value,r,null,this.parent.__.index)}if(this.value!==t){Ai(this.dom,this.attr,this.value)}}else{Ni(this.dom,this.attr)}if(!this.dom.__ref){this.dom.__ref=r}},unmount:function e(){var t=this.tag||this.dom;var n=this.parent&&Da(this.parent);if(!hi(this.value)&&n){Ga(n.refs,this.value,t)}}};function ia(e,t,n,r){var i=r?Object.create(r):{};i[e.key]=t;if(e.pos){i[e.pos]=n}return i}function aa(e,t){var n=t.length,r=e.length;while(n>r){n--;ua.apply(t[n],[t,n])}}function ua(e,t){e.splice(t,1);this.unmount();Ga(this.parent,this,this.__.tagName,true)}function oa(e){var t=this;Bi(Object.keys(this.tags),function(n){Ba.apply(t.tags[n],[n,e])})}function fa(e,t,n){if(n){Ya.apply(this,[e,t])}else{Ci(e,this.root,t.root)}}function sa(e,t,n){if(n){Xa.apply(this,[e,t])}else{Ci(e,this.root,t.root)}}function la(e,t){if(t){Xa.call(this,e)}else{e.appendChild(this.root)}}function ca(e,t,n){Ni(e,Ur);var r=typeof ki(e,Vr)!==qr||Ni(e,Vr),i=Ka(e),a=Sr[i],u=e.parentNode,o=bi(),f=Ua(e),s=ki(e,Hr),l=[],c=[],h,v=true,p=!Sr[i],d=e.tagName==="VIRTUAL";n=Ui.loopKeys(n);n.isLoop=true;if(s){Ni(e,Hr)}u.insertBefore(o,e);u.removeChild(e);n.update=function u(){n.value=Ui(n.val,t);var g=wi(),m=n.value,y=!vi(m)&&!ci(m),w=o.parentNode;if(!w){return}if(y){h=m||false;m=h?Object.keys(m).map(function(e){return ia(n,m[e],e)}):[]}else{h=false}if(s){m=m.filter(function(e,r){if(n.key&&!y){return!!Ui(s,ia(n,e,r,t))}return!!Ui(s,Wi(Object.create(t),e))})}Bi(m,function(u,o){var s=r&&typeof u===Kr&&!h,y=c.indexOf(u),b=y===-1,_=!b&&s?y:o,x=l[_],j=o>=c.length,O=s&&b||!s&&!x;u=!h&&n.key?ia(n,u,o):u;if(O){x=new Ha(a,{parent:t,isLoop:v,isAnonymous:p,tagName:i,root:e.cloneNode(p),item:u,index:o},e.innerHTML);x.mount();if(j){la.apply(x,[g||w,d])}else{sa.apply(x,[w,l[o],d])}if(!j){c.splice(o,0,u)}l.splice(o,0,x);if(f){Za(t.tags,i,x,true)}}else if(_!==o&&s){if(zi(m,c[_])){fa.apply(x,[w,l[o],d]);l.splice(o,0,l.splice(_,1)[0]);c.splice(o,0,c.splice(_,1)[0])}if(n.pos){x[n.pos]=o}if(!f&&x.tags){oa.call(x,o)}}x.__.item=u;x.__.index=o;x.__.parent=t;if(!O){x.update(u)}});aa(m,l);c=m.slice();w.insertBefore(g,o)};n.unmount=function(){Bi(l,function(e){e.unmount()})};return n}function ha(e,t,n){var r=this;var i={parent:{children:t}};Mi(e,function(t,i){var a=t.nodeType,u=i.parent,o,f,s;if(!n&&t===e){return{parent:u}}if(a===3&&t.parentNode.tagName!=="STYLE"&&Ui.hasExpr(t.nodeValue)){u.children.push({dom:t,expr:t.nodeValue})}if(a!==1){return i}var l=t.tagName==="VIRTUAL";if(o=ki(t,Ur)){if(l){Ai(t,"loopVirtual",true)}u.children.push(ca(t,r,o));return false}if(o=ki(t,Hr)){u.children.push(Object.create(na).init(t,r,o));return false}if(f=ki(t,$r)){if(Ui.hasExpr(f)){u.children.push({isRtag:true,expr:f,dom:t,attrs:[].slice.call(t.attributes)});return false}}s=Ua(t);if(l){if(ki(t,"virtualized")){t.parentElement.removeChild(t)}if(!s&&!ki(t,"virtualized")&&!ki(t,"loopVirtual")){s={tmpl:t.outerHTML}}}if(s&&(t!==e||n)){if(l&&!ki(t,$r)){Ai(t,"virtualized",true);var c=new Ha({tmpl:t.outerHTML},{root:t,parent:r},t.innerHTML);u.children.push(c)}else{var h={root:t,parent:r,hasImpl:true};u.children.push(za(s,h,t.innerHTML,r));return false}}va.apply(r,[t,t.attributes,function(e,t){if(!t){return}u.children.push(t)}]);return{parent:u}},i)}function va(e,t,n){var r=this;Bi(t,function(t){if(!t){return false}var i=t.name,a=oi(i),u;if(zi(Fr,i)){u=Object.create(ra).init(e,r,i,t.value)}else if(Ui.hasExpr(t.value)){u={dom:e,expr:t.value,attr:i,bool:a}}n(t,u)})}var pa=/<yield\b/i;var da=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi;var ga=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi;var ma=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi;var ya={tr:"tbody",th:"tr",td:"tr",col:"colgroup"};var wa=ui&&ui<10?Yr:ei;var ba="div";var _a="svg";function xa(e,t,n){var r=n[0]==="o",i=r?"select>":"table>";e.innerHTML="<"+i+t.trim()+"</"+i;i=e.firstChild;if(r){i.selectedIndex=-1}else{var a=ya[n];if(a&&i.childElementCount===1){i=yi(a,i)}}return i}function ja(e,t){if(!pa.test(e)){return e}var n={};t=t&&t.replace(ga,function(e,t,r){n[t]=n[t]||r;return""}).trim();return e.replace(ma,function(e,t,r){return n[t]||r||""}).replace(da,function(e,n){return t||n||""})}function Oa(e,t,n){var r=e&&e.match(/^\s*<([-\w]+)/),i=r&&r[1].toLowerCase(),a=xi(n?_a:ba);e=ja(e,t);if(wa.test(i)){a=xa(a,e,i)}else{ji(a,e)}return a}function Na(e,t){var n=this;var r=n.name;var i=n.tmpl;var a=n.css;var u=n.attrs;var o=n.onCreate;if(!Sr[r]){Ea(r,i,a,u,o);Sr[r].class=this.constructor}Qa(e,r,t,this);if(a){$i.inject()}return this}function Ea(e,t,n,r,i){if(fi(r)){i=r;if(/^[\w\-]+\s?=/.test(n)){r=n;n=""}else{r=""}}if(n){if(fi(n)){i=n}else{$i.add(n)}}e=e.toLowerCase();Sr[e]={name:e,tmpl:t,attrs:r,fn:i};return e}function ka(e,t,n,r,i){if(n){$i.add(n,e)}Sr[e]={name:e,tmpl:t,attrs:r,fn:i};return e}function Aa(e,t,n){var r=[];var i,a;function u(e){if(e.tagName){var i=ki(e,$r),a;if(t&&i!==t){i=t;Ai(e,$r,t)}a=Qa(e,i||e.tagName.toLowerCase(),n);if(a){r.push(a)}}else if(e.length){Bi(e,u)}}$i.inject();if(si(t)){n=t;t=0}if(ci(e)){e=e==="*"?a=eu():e+eu(e.split(/, */));i=e?mi(e):[]}else{i=e}if(t==="*"){t=a||eu();if(i.tagName){i=mi(t,i)}else{var o=[];Bi(i,function(e){return o.push(mi(t,e))});i=o}t=0}u(i);return r}var Ca={};var Ta=Ca[Rr]={};var Ma=0;function La(e,t,n){if(si(e)){La("__"+Ma+++"__",e,true);return}var r=n?Ta:Ca;if(!t){if(li(r[e])){throw new Error("Unregistered mixin: "+e)}return r[e]}r[e]=fi(t)?Wi(t.prototype,r[e]||{})&&t:Wi(r[e]||{},t)}function Ia(){return Bi(Ir,function(e){return e.update()})}function Sa(e){Sr[e]=null}var Ra="WIP";var Pa=Object.freeze({Tag:Na,tag:Ea,tag2:ka,mount:Aa,mixin:La,update:Ia,unregister:Sa,version:Ra});var Fa=0;function $a(e,t,n,r,i){if(e&&n){return}var a=!n&&e?this:t||this;Bi(i,function(e){if(e.expr){ta.call(a,[e.expr])}r[Di(e.name).replace(Pr,"")]=e.expr?e.expr.value:e.value})}function Ha(e,t,n){if(e===void 0)e={};if(t===void 0)t={};var r=Wi({},t.opts),i=t.parent,a=t.isLoop,u=!!t.isAnonymous,o=Gi.skipAnonymousTags&&u,f=Wa(t.item),s=t.index,l=[],c=[],h=[],v=t.root,p=t.tagName||Ka(v),d=p==="virtual",g=!d&&!e.tmpl,m=[],y;if(!o){Vi(this)}if(e.name&&v._tag){v._tag.unmount(true)}this.isMounted=false;Ki(this,"__",{isAnonymous:u,instAttrs:l,innerHTML:n,tagName:p,index:s,isLoop:a,isInline:g,listeners:[],virts:[],tail:null,head:null,parent:null,item:null});Ki(this,"_riot_id",++Fa);Ki(this,"root",v);Wi(this,{opts:r},f);Ki(this,"parent",i||null);Ki(this,"tags",{});Ki(this,"refs",{});if(g||a&&u){y=v}else{if(!d){v.innerHTML=""}y=Oa(e.tmpl,n,_i(v))}Ki(this,"update",function e(t){var n={},f=this.isMounted&&!o;t=Wa(t);Wi(this,t);$a.apply(this,[a,i,u,n,l]);if(f&&this.isMounted&&fi(this.shouldUpdate)&&!this.shouldUpdate(t,n)){return this}if(a&&u){Va.apply(this,[this.parent,m])}Wi(r,n);if(f){this.trigger("update",t)}ta.call(this,h);if(f){this.trigger("updated")}return this}.bind(this));Ki(this,"mixin",function e(){var t=this;Bi(arguments,function(e){var n,r;var i=[];var a=["init","__proto__"];e=ci(e)?La(e):e;if(fi(e)){n=new e}else{n=e}var u=Object.getPrototypeOf(n);do{i=i.concat(Object.getOwnPropertyNames(r||n))}while(r=Object.getPrototypeOf(r||n));Bi(i,function(e){if(!zi(a,e)){var r=Object.getOwnPropertyDescriptor(n,e)||Object.getOwnPropertyDescriptor(u,e);var i=r&&(r.get||r.set);if(!t.hasOwnProperty(e)&&i){Object.defineProperty(t,e,r)}else{t[e]=fi(n[e])?n[e].bind(t):n[e]}}});if(n.init){n.init.bind(t)()}});return this}.bind(this));Ki(this,"mount",function t(){var n=this;v._tag=this;va.apply(i,[v,v.attributes,function(e,t){if(!u&&ra.isPrototypeOf(t)){t.tag=n}e.expr=t;l.push(e)}]);c=[];Ti(e.attrs,function(e,t){c.push({name:e,value:t})});va.apply(this,[v,c,function(e,t){if(t){h.push(t)}else{Ai(v,e.name,e.value)}}]);$a.apply(this,[a,i,u,r,l]);var s=La(Rr);if(s&&!o){for(var p in s){if(s.hasOwnProperty(p)){n.mixin(s[p])}}}if(e.fn){e.fn.call(this,r)}if(!o){this.trigger("before-mount")}ha.apply(this,[y,h,u]);this.update(f);if(!u&&!g){while(y.firstChild){v.appendChild(y.firstChild)}}Ki(this,"root",v);Ki(this,"isMounted",true);if(o){return}if(!this.parent){this.trigger("mount")}else{var d=Da(this.parent);d.one(!d.isMounted?"mount":"updated",function(){n.trigger("mount")})}return this}.bind(this));Ki(this,"unmount",function t(n){var r=this;var a=this.root,u=a.parentNode,f,s=Ir.indexOf(this);if(!o){this.trigger("before-unmount")}Ti(e.attrs,function(e){if(qi(e,Pr)){e=e.slice(Pr.length)}Ni(v,e)});this.__.listeners.forEach(function(e){Object.keys(e[Dr]).forEach(function(t){e.removeEventListener(t,e[Dr][t])})});if(s!==-1){Ir.splice(s,1)}if(u||d){if(i){f=Da(i);if(d){Object.keys(this.tags).forEach(function(e){Ga(f.tags,e,r.tags[e])})}else{Ga(f.tags,p,this);if(i!==f){Ga(i.tags,p,this)}}}else{ji(a,"")}if(u&&!n){u.removeChild(a)}}if(this.__.virts){Bi(this.__.virts,function(e){if(e.parentNode){e.parentNode.removeChild(e)}})}qa(h);Bi(l,function(e){return e.expr&&e.expr.unmount&&e.expr.unmount()});if(this.__.onUnmount){this.__.onUnmount()}if(!o){this.trigger("unmount");this.off("*")}Ki(this,"isMounted",false);delete this.root._tag;return this}.bind(this))}function Ua(e){return e.tagName&&Sr[ki(e,$r)||ki(e,$r)||e.tagName.toLowerCase()]}function Va(e,t){var n=this;Bi(Object.keys(e),function(r){var i=!di(r)&&zi(t,r);if(li(n[r])||i){if(!i){t.push(r)}n[r]=e[r]}})}function Ba(e,t){var n=this.parent,r;if(!n){return}r=n.tags[e];if(vi(r)){r.splice(t,0,r.splice(r.indexOf(this),1)[0])}else{Za(n.tags,e,this)}}function za(e,t,n,r){var i=new Ha(e,t,n),a=t.tagName||Ka(t.root,true),u=Da(r);Ki(i,"parent",u);i.__.parent=r;Za(u.tags,a,i);if(u!==r){Za(r.tags,a,i)}t.root.innerHTML="";return i}function Da(e){var t=e;while(t.__.isAnonymous){if(!t.parent){break}t=t.parent}return t}function qa(e){Bi(e,function(e){if(e instanceof Ha){e.unmount(true)}else if(e.tagName){e.tag.unmount(true)}else if(e.unmount){e.unmount()}})}function Ka(e,t){var n=Ua(e),r=!t&&ki(e,$r);return r&&!Ui.hasExpr(r)?r:n?n.name:e.tagName.toLowerCase()}function Wa(e){if(!(e instanceof Ha)&&!(e&&fi(e.trigger))){return e}var t={};for(var n in e){if(!ni.test(n)){t[n]=e[n]}}return t}function Za(e,t,n,r,i){var a=e[t];var u=vi(a);var o=!li(i);if(a&&a===n){return}if(!a&&r){e[t]=[n]}else if(!a){e[t]=n}else{if(u){var f=a.indexOf(n);if(f===i){return}if(f!==-1){a.splice(f,1)}if(o){a.splice(i,0,n)}else{a.push(n)}}else{e[t]=[a,n]}}}function Ga(e,t,n,r){if(vi(e[t])){var i=e[t].indexOf(n);if(i!==-1){e[t].splice(i,1)}if(!e[t].length){delete e[t]}else if(e[t].length===1&&!r){e[t]=e[t][0]}}else{delete e[t]}}function Qa(e,t,n,r){var i=Sr[t],a=Sr[t].class,u=r||(a?Object.create(a.prototype):{}),o=e._innerHTML=e._innerHTML||e.innerHTML;var f=Wi({root:e,opts:n},{parent:n?n.parent:null});if(i&&e){Ha.apply(u,[i,f,o])}if(u&&u.mount){u.mount(true);if(!zi(Ir,u)){Ir.push(u)}}return u}function Ja(e,t){var n=wi();Xa.call(e,n);t.parentNode.replaceChild(n,t)}function Xa(e,t){var n=this;var r=bi(),i=bi(),a=wi(),u,o;this.root.insertBefore(r,this.root.firstChild);this.root.appendChild(i);this.__.head=o=r;this.__.tail=i;while(o){u=o.nextSibling;a.appendChild(o);n.__.virts.push(o);o=u}if(t){e.insertBefore(a,t.__.head)}else{e.appendChild(a)}}function Ya(e,t){var n=this;var r=this.__.head,i=wi(),a;while(r){a=r.nextSibling;i.appendChild(r);r=a;if(r===n.__.tail){i.appendChild(r);e.insertBefore(i,t.__.head);break}}}function eu(e){if(!e){var t=Object.keys(Sr);return t+eu(t)}return e.filter(function(e){return!/[^-\w]/.test(e)}).reduce(function(e,t){var n=t.trim().toLowerCase();return e+",["+$r+'="'+n+'"]'},"")}var tu=Object.freeze({getTag:Ua,inheritFrom:Va,moveChildTag:Ba,initChildTag:za,getImmediateCustomParentTag:Da,unmountAll:qa,getTagName:Ka,cleanUpData:Wa,arrayishAdd:Za,arrayishRemove:Ga,mountTo:Qa,makeReplaceVirtual:Ja,makeVirtual:Xa,moveVirtual:Ya,selectTags:eu});var nu=Gi;var ru={tmpl:Ui,brackets:Hi,styleManager:$i,vdom:Ir,styleNode:$i.styleNode,dom:Li,check:gi,misc:Zi,tags:tu};var iu=Wi({},Pa,{observable:Vi,settings:nu,util:ru});var au={debug:false,default:"@"};var uu=function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];if(!au.debug){return}e.unshift("[riotx]");try{console.log.apply(console,e)}catch(t){console.log(e)}};var ou=function e(t){this.name=t.name;if(!this.name){this.name=au.default;uu("Default store name. name="+this.name)}this.state=Cr({},t.state);this._actions=Cr({},t.actions);this._mutations=Cr({},t.mutations);this._getters=Cr({},t.getters);iu.observable(this)};ou.prototype.getter=function e(t){var n=[],r=arguments.length-1;while(r-- >0)n[r]=arguments[r+1];uu("[getter]",t,n);var i={state:Cr({},this.state)};return this._getters[t].apply(null,[i].concat(n))};ou.prototype.commit=function e(t){var n=this;var r=[],i=arguments.length-1;while(i-- >0)r[i]=arguments[i+1];var a=Cr({},this.state);uu.apply(void 0,["[commit(before)]",t,a].concat(r));var u={getter:function(e){var t=[],r=arguments.length-1;while(r-- >0)t[r]=arguments[r+1];return n.getter.apply(n,[e].concat(t))},state:a};var o=this._mutations[t].apply(null,[u].concat(r));uu.apply(void 0,["[commit(after)]",t,a].concat(r));Cr(this.state,a);Bt(o,function(e){n.trigger(e,n.state,n)})};ou.prototype.action=function e(t){var n=this;var r=[],i=arguments.length-1;while(i-- >0)r[i]=arguments[i+1];uu("[action]",t,r);var a={getter:function(e){var t=[],r=arguments.length-1;while(r-- >0)t[r]=arguments[r+1];return n.getter.apply(n,[e].concat(t))},state:Cr({},this.state),commit:function(){var e=[],t=arguments.length;while(t--)e[t]=arguments[t];(r=n).commit.apply(r,e);var r}};return Lr.resolve().then(function(){return n._actions[t].apply(null,[a].concat(r))})};ou.prototype.change=function e(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];(r=this).on.apply(r,t);var r};var fu=function t(){this.version=e||"";this.Store=ou;this.stores={};iu.mixin({init:function(){var e=this;this.on("unmount",function(){e.off("*")});if(au.debug){this.on("*",function(t){uu(t,e)})}},riotx:this})};fu.prototype.add=function e(t){if(this.stores[t.name]){throw new Error("The store instance named `"+t.name+"` already exists.")}this.stores[t.name]=t;return this};fu.prototype.get=function e(t){if(t===void 0)t=au.default;return this.stores[t]};fu.prototype.debug=function e(t){au.debug=!!t;return this};fu.prototype.reset=function e(){this.stores={};return this};fu.prototype.size=function e(){return jr(this.stores).length};var su=new fu;return su});
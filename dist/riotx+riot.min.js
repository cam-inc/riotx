var riotx=function(){"use strict";var e="2.0.2";function t(t,e,n){if(t==null){return}var r=-1,i=t.length;while(++r<i){if(e.call(n,t[r],r,t)===false){break}}}var s=t;function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var u=n;var f,l;function c(){l=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];f=true;for(var t in{toString:null}){f=false}}function r(t,e,n){var r,i=0;if(f==null){c()}for(r in t){if(p(e,t,r,n)===false){break}}if(f){var a=t.constructor,o=!!a&&t===a.prototype;while(r=l[i++]){if((r!=="constructor"||!o&&u(t,r))&&t[r]!==Object.prototype[r]){if(p(e,t,r,n)===false){break}}}}}function p(t,e,n,r){return t.call(r,e[n],n,e)}var a=r;function i(n,r,i){a(n,function(t,e){if(u(n,e)){return r.call(i,n[e],e,n)}})}var o=i;var h=Object.keys||function(t){var n=[];o(t,function(t,e){n.push(e)});return n};var v=h;function d(t){return Object.prototype.toString.call(t).slice(8,-1)}var g=d;function m(t,e){return g(t)===e}var y=m;function _(t){return y(t,"Function")}var w=_;function x(t){return y(t,"Object")}var b=x;var N=setTimeout;function A(){}function O(t,e){return function(){t.apply(e,arguments)}}function j(t){if(!(this instanceof j)){throw new TypeError("Promises must be constructed via new")}if(typeof t!=="function"){throw new TypeError("not a function")}this._state=0;this._handled=false;this._value=undefined;this._deferreds=[];S(t,this)}function C(n,r){while(n._state===3){n=n._value}if(n._state===0){n._deferreds.push(r);return}n._handled=true;j._immediateFn(function(){var t=n._state===1?r.onFulfilled:r.onRejected;if(t===null){(n._state===1?T:E)(r.promise,n._value);return}var e;try{e=t(n._value)}catch(t){E(r.promise,t);return}T(r.promise,e)})}function T(e,t){try{if(t===e){throw new TypeError("A promise cannot be resolved with itself.")}if(t&&(typeof t==="object"||typeof t==="function")){var n=t.then;if(t instanceof j){e._state=3;e._value=t;k(e);return}else if(typeof n==="function"){S(O(n,t),e);return}}e._state=1;e._value=t;k(e)}catch(t){E(e,t)}}function E(t,e){t._state=2;t._value=e;k(t)}function k(t){if(t._state===2&&t._deferreds.length===0){j._immediateFn(function(){if(!t._handled){j._unhandledRejectionFn(t._value)}})}for(var e=0,n=t._deferreds.length;e<n;e++){C(t,t._deferreds[e])}t._deferreds=null}function L(t,e,n){this.onFulfilled=typeof t==="function"?t:null;this.onRejected=typeof e==="function"?e:null;this.promise=n}function S(t,e){var n=false;try{t(function(t){if(n){return}n=true;T(e,t)},function(t){if(n){return}n=true;E(e,t)})}catch(t){if(n){return}n=true;E(e,t)}}j.prototype["catch"]=function(t){return this.then(null,t)};j.prototype.then=function(t,e){var n=new this.constructor(A);C(this,new L(t,e,n));return n};j.prototype["finally"]=function(e){var n=this.constructor;return this.then(function(t){return n.resolve(e()).then(function(){return t})},function(t){return n.resolve(e()).then(function(){return n.reject(t)})})};j.all=function(e){return new j(function(r,i){if(!e||typeof e.length==="undefined"){throw new TypeError("Promise.all accepts an array")}var a=Array.prototype.slice.call(e);if(a.length===0){return r([])}var o=a.length;function s(e,t){try{if(t&&(typeof t==="object"||typeof t==="function")){var n=t.then;if(typeof n==="function"){n.call(t,function(t){s(e,t)},i);return}}a[e]=t;if(--o===0){r(a)}}catch(t){i(t)}}for(var t=0;t<a.length;t++){s(t,a[t])}})};j.resolve=function(e){if(e&&typeof e==="object"&&e.constructor===j){return e}return new j(function(t){t(e)})};j.reject=function(n){return new j(function(t,e){e(n)})};j.race=function(i){return new j(function(t,e){for(var n=0,r=i.length;n<r;n++){i[n].then(t,e)}})};j._immediateFn=typeof setImmediate==="function"&&function(t){setImmediate(t)}||function(t){N(t,0)};j._unhandledRejectionFn=function t(e){if(typeof console!=="undefined"&&console){console.warn("Possible Unhandled Promise Rejection:",e)}};function R(t,e){return(e||document).querySelector(t)}var I=[],P={},M="yield",B="__global_mixin",V="riot-",$=["ref","data-ref"],F="data-is",U="if",H="each",D="no-reorder",z="show",K="hide",q="key",G="__riot-events__",W="string",Z="object",Q="undefined",J="function",X="http://www.w3.org/1999/xlink",Y="http://www.w3.org/2000/svg",tt=/^xlink:(\w+)/,et=typeof window===Q?undefined:window,nt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/,rt=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/,it=/^on/,at=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g,ot={viewbox:"viewBox",preserveaspectratio:"preserveAspectRatio"},st=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/,ut=(et&&et.document||{}).documentMode|0;function ft(t){return t==="svg"?document.createElementNS(Y,t):document.createElement(t)}function lt(t,e,n){var r=tt.exec(e);if(r&&r[1]){t.setAttributeNS(X,r[1],n)}else{t.setAttribute(e,n)}}var ct;var pt;var ht={};var vt=[];var dt=false;if(et){ct=function(){var t=ft("style");var e=R("style[type=riot]");lt(t,"type","text/css");if(e){if(e.id){t.id=e.id}e.parentNode.replaceChild(t,e)}else{document.head.appendChild(t)}return t}();pt=ct.styleSheet}var gt={styleNode:ct,add:function t(e,n){if(n){ht[n]=e}else{vt.push(e)}dt=true},inject:function t(){if(!et||!dt){return}dt=false;var e=Object.keys(ht).map(function(t){return ht[t]}).concat(vt).join("\n");if(pt){pt.cssText=e}else{ct.innerHTML=e}}};var mt=function(){var u="[{(,;:?=|&!^~>%*/";var f=["case","default","do","else","in","instanceof","prefix","return","typeof","void","yield"];var l=f.reduce(function(t,e){return t+e.slice(-1)},"");var c=/^\/(?=[^*>/])[^[/\\]*(?:(?:\\.|\[(?:\\.|[^\]\\]*)*\])[^[\\/]*)*?\/[gimuy]*/;var p=/[$\w]/;function h(t,e){while(--e>=0&&/\s/.test(t[e])){}return e}function t(t,e){var n=/.*/g;var r=n.lastIndex=e++;var i=n.exec(t)[0].match(c);if(i){var a=r+i[0].length;r=h(t,r);var o=t[r];if(r<0||~u.indexOf(o)){return a}if(o==="."){if(t[r-1]==="."){e=a}}else if(o==="+"||o==="-"){if(t[--r]!==o||(r=h(t,r))<0||!p.test(t[r])){e=a}}else if(~l.indexOf(o)){var s=r+1;while(--r>=0&&p.test(t[r])){}if(~f.indexOf(t.slice(r+1,s))){e=a}}}return e}return t}();var yt=function(t){var n="g",e=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,r=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,i=r.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?([^<]\/)[gim]*/.source,a=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),o=/(?=[[\]()*+?.^$|])/g,s=r.source+"|"+/(\/)(?![*\/])/.source,_={"(":RegExp("([()])|"+s,n),"[":RegExp("([[\\]])|"+s,n),"{":RegExp("([{}])|"+s,n)},u="{ }";var f=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+s,n),u,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var l=t,c,w=[],p;function h(t){return t}function v(t,e){if(!e){e=w}return new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?n:"")}function d(t){if(t===u){return f}var e=t.split(" ");if(e.length!==2||a.test(t)){throw new Error('Unsupported brackets "'+t+'"')}e=e.concat(t.replace(o,"\\").split(" "));e[4]=v(e[1].length>1?/{[\S\s]*?}/:f[4],e);e[5]=v(t.length>3?/\\({|})/g:f[5],e);e[6]=v(f[6],e);e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+s,n);e[8]=t;return e}function g(t){return t instanceof RegExp?c(t):w[t]}g.split=function t(r,i,e){if(!e){e=w}var n=[],a,o,s,u,f=e[6];var l=[];var c="";var p,h;o=s=f.lastIndex=0;while(a=f.exec(r)){h=f.lastIndex;u=a.index;if(o){if(a[2]){var v=a[2];var d=_[v];var g=1;d.lastIndex=h;while(a=d.exec(r)){if(a[1]){if(a[1]===v){++g}else if(!--g){break}}else{d.lastIndex=y(a.index,d.lastIndex,a[2])}}f.lastIndex=g?r.length:d.lastIndex;continue}if(!a[3]){f.lastIndex=y(u,h,a[4]);continue}}if(!a[1]){m(r.slice(s,u));s=f.lastIndex;f=e[6+(o^=1)];f.lastIndex=s}}if(r&&s<r.length){m(r.slice(s))}n.qblocks=l;return n;function m(t){if(c){t=c+t;c=""}if(i||o){n.push(t&&t.replace(e[5],"$1"))}else{n.push(t)}}function y(t,e,n){if(n){e=mt(r,t)}if(i&&e>t+2){p="‚Åó"+l.length+"~";l.push(r.slice(t,e));c+=r.slice(s,t)+p;s=e}return e}};g.hasExpr=function t(e){return w[4].test(e)};g.loopKeys=function t(e){var n=e.match(w[9]);return n?{key:n[1],pos:n[2],val:w[0]+n[3].trim()+w[1]}:{val:e.trim()}};g.array=function t(e){return e?d(e):w};function m(t){if((t||(t=u))!==w[8]){w=d(t);c=t===u?h:v;w[9]=c(f[9])}l=t}function y(t){var e;t=t||{};e=t.brackets;Object.defineProperty(t,"brackets",{set:m,get:function(){return l},enumerable:true});p=t;m(e)}Object.defineProperty(g,"settings",{set:y,get:function(){return p}});g.settings=typeof riot!=="undefined"&&riot.settings||{};g.set=m;g.skipRegex=mt;g.R_STRINGS=r;g.R_MLCOMMS=e;g.S_QBLOCKS=i;g.S_QBLOCK2=s;return g}();var _t=function(){var n={};function r(t,e){if(!t){return t}return(n[t]||(n[t]=a(t))).call(e,i.bind({data:e,tmpl:t}))}r.hasExpr=yt.hasExpr;r.loopKeys=yt.loopKeys;r.clearCache=function(){n={}};r.errorHandler=null;function i(t,e){t.riotData={tagName:e&&e.__&&e.__.tagName,_riot_id:e&&e._riot_id};if(r.errorHandler){r.errorHandler(t)}else if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(t.message);console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl);console.log(this.data)}}function a(t){var e=o(t);if(e.slice(0,11)!=="try{return "){e="return "+e}return new Function("E",e+";")}var s=/\u2057/g;var u=/\u2057(\d+)~/g;function o(t){var e=yt.split(t.replace(s,'"'),1);var n=e.qblocks;var r;if(e.length>2||e[0]){var i,a,o=[];for(i=a=0;i<e.length;++i){r=e[i];if(r&&(r=i&1?f(r,1,n):'"'+r.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){o[a++]=r}}r=a<2?o[0]:"["+o.join(",")+'].join("")'}else{r=f(e[1],0,n)}if(n.length){r=r.replace(u,function(t,e){return n[e].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return r}var l=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/;var c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function f(a,t,e){a=a.replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(a){var n=[],r=0,i;while(a&&(i=a.match(l))&&!i.index){var o,s,u=/,|([[{(])|$/g;a=RegExp.rightContext;o=i[2]?e[i[2]].slice(1,-1).trim().replace(/\s+/g," "):i[1];while(s=(i=u.exec(a))[1]){f(s,u)}s=a.slice(0,i.index);a=RegExp.rightContext;n[r++]=d(s,1,o)}a=!r?d(a,t):r>1?"["+n.join(",")+'].join(" ").trim()':n[0]}return a;function f(t,e){var n,r=1,i=c[t];i.lastIndex=e.lastIndex;while(n=i.exec(a)){if(n[0]===t){++r}else if(!--r){break}}e.lastIndex=r?a.length:i.lastIndex}}var p='"in this?this:'+(typeof window!=="object"?"global":"window")+").",h=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,v=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function d(t,e,n){var a;t=t.replace(h,function(t,e,n,r,i){if(n){r=a?0:r+t.length;if(n!=="this"&&n!=="global"&&n!=="window"){t=e+'("'+n+p+n;if(r){a=(i=i[r])==="."||i==="("||i==="["}}else if(r){a=!v.test(i.slice(r))}}return t});if(a){t="try{return "+t+"}catch(e){E(e,this)}"}if(n){t=(a?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""'}else if(e){t="function(v){"+(a?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'}return t}r.version=yt.version="v3.0.8";return r}();var wt=function(s){s=s||{};var u={},f=Array.prototype.slice;Object.defineProperties(s,{on:{value:function(t,e){if(typeof e=="function"){(u[t]=u[t]||[]).push(e)}return s},enumerable:false,writable:false,configurable:false},off:{value:function(t,e){if(t=="*"&&!e){u={}}else{if(e){var n=u[t];for(var r=0,i;i=n&&n[r];++r){if(i==e){n.splice(r--,1)}}}else{delete u[t]}}return s},enumerable:false,writable:false,configurable:false},one:{value:function(t,e){function n(){s.off(t,n);e.apply(s,arguments)}return s.on(t,n)},enumerable:false,writable:false,configurable:false},trigger:{value:function(t){var e=arguments;var n=arguments.length-1,r=new Array(n),i,a,o;for(o=0;o<n;o++){r[o]=e[o+1]}i=f.call(u[t]||[],0);for(o=0;a=i[o];++o){a.apply(s,r)}if(u["*"]&&t!="*"){s.trigger.apply(s,["*",t].concat(r))}return s},enumerable:false,writable:false,configurable:false}});return s};function xt(t,e){return Object.getOwnPropertyDescriptor(t,e)}function bt(t){return typeof t===Q}function Nt(t,e){var n=xt(t,e);return bt(t[e])||n&&n.writable}function At(t){var e;var n=1;var r=arguments;var i=r.length;for(;n<i;n++){if(e=r[n]){for(var a in e){if(Nt(t,a)){t[a]=e[a]}}}}return t}function Ot(t){return Object.create(t)}var jt=At(Ot(yt.settings),{skipAnonymousTags:true,autoUpdate:true});function Ct(t,e){return[].slice.call((e||document).querySelectorAll(t))}function Tt(){return document.createTextNode("")}function Et(t,e){t.style.display=e?"":"none";t.hidden=e?false:true}function kt(t,e){return t.getAttribute(e)}function Lt(t,e){t.removeAttribute(e)}function St(t,e,n){if(n){var r=t.ownerDocument.importNode((new DOMParser).parseFromString('<svg xmlns="'+Y+'">'+e+"</svg>","application/xml").documentElement,true);t.appendChild(r)}else{t.innerHTML=e}}function Rt(t,e){if(!t){return}var n;while(n=at.exec(t)){e(n[1].toLowerCase(),n[2]||n[3]||n[4])}}function It(){return document.createDocumentFragment()}function Pt(t,e,n){t.insertBefore(e,n.parentNode&&n)}function Mt(n){return Object.keys(n).reduce(function(t,e){return t+" "+e+": "+n[e]+";"},"")}function Bt(t,e,n){if(t){var r=e(t,n);var i;if(r===false){return}t=t.firstChild;while(t){i=t.nextSibling;Bt(t,e,r);t=i}}}var Vt=Object.freeze({$$:Ct,$:R,createDOMPlaceholder:Tt,mkEl:ft,setAttr:lt,toggleVisibility:Et,getAttr:kt,remAttr:Lt,setInnerHTML:St,walkAttrs:Rt,createFrag:It,safeInsert:Pt,styleObjectToString:Mt,walkNodes:Bt});function $t(t){return bt(t)||t===null}function Ft(t){return $t(t)||t===""}function Ut(t){return typeof t===J}function Ht(t){return t&&typeof t===Z}function Dt(t){var e=t.ownerSVGElement;return!!e||e===null}function zt(t){return Array.isArray(t)||t instanceof Array}function Kt(t){return st.test(t)}function qt(t){return typeof t===W}var Gt=Object.freeze({isBlank:Ft,isFunction:Ut,isObject:Ht,isSvg:Dt,isWritable:Nt,isArray:zt,isBoolAttr:Kt,isNil:$t,isString:qt,isUndefined:bt});function Wt(t,e){return t.indexOf(e)!==-1}function Zt(t,e){var n=t?t.length:0;var r=0;for(;r<n;r++){e(t[r],r)}return t}function Qt(t,e){return t.slice(0,e.length)===e}var Jt=function t(){var e=-1;return function(){return++e}}();function Xt(t,e,n,r){Object.defineProperty(t,e,At({value:n,enumerable:false,writable:false,configurable:true},r));return t}function Yt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function te(t){if(console&&console.warn){console.warn(t)}}var ee=Object.freeze({contains:Wt,each:Zt,getPropDescriptor:xt,startsWith:Qt,uid:Jt,defineProperty:Xt,objectCreate:Ot,extend:At,toCamel:Yt,warn:te});function ne(t,e,n,r,i){var a=t[e];var o=zt(a);var s=!bt(i);if(a&&a===n){return}if(!a&&r){t[e]=[n]}else if(!a){t[e]=n}else{if(o){var u=a.indexOf(n);if(u===i){return}if(u!==-1){a.splice(u,1)}if(s){a.splice(i,0,n)}else{a.push(n)}}else{t[e]=[a,n]}}}function re(t){return t.tagName&&P[kt(t,F)||kt(t,F)||t.tagName.toLowerCase()]}function ie(t,e){var n=re(t);var r=!e&&kt(t,F);return r&&!_t.hasExpr(r)?r:n?n.name:t.tagName.toLowerCase()}function ae(){if(this.parent){return At(Ot(this),this.parent)}return this}var oe=/<yield\b/i,se=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi,ue=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi,fe=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi,le={tr:"tbody",th:"tr",td:"tr",col:"colgroup"},ce=ut&&ut<10?nt:rt,pe="div",he="svg";function ve(t,e,n){var r=n[0]==="o",i=r?"select>":"table>";t.innerHTML="<"+i+e.trim()+"</"+i;i=t.firstChild;if(r){i.selectedIndex=-1}else{var a=le[n];if(a&&i.childElementCount===1){i=R(a,i)}}return i}function de(t,n){if(!oe.test(t)){return t}var r={};n=n&&n.replace(ue,function(t,e,n){r[e]=r[e]||n;return""}).trim();return t.replace(fe,function(t,e,n){return r[e]||n||""}).replace(se,function(t,e){return n||e||""})}function ge(t,e,n){var r=t&&t.match(/^\s*<([-\w]+)/);var i=r&&r[1].toLowerCase();var a=ft(n?he:pe);t=de(t,e);if(ce.test(i)){a=ve(a,t,i)}else{St(a,t,n)}return a}function me(t){var e=t;while(e.__.isAnonymous){if(!e.parent){break}e=e.parent}return e}function ye(t,e,n){var r=this.__.parent;var i=this.__.item;if(!i){while(r&&!i){i=r.__.item;r=r.__.parent}}if(Nt(n,"currentTarget")){n.currentTarget=t}if(Nt(n,"target")){n.target=n.srcElement}if(Nt(n,"which")){n.which=n.charCode||n.keyCode}n.item=i;e.call(this,n);if(!jt.autoUpdate){return}if(!n.preventUpdate){var a=me(this);if(a.isMounted){a.update()}}}function _e(t,e,n,r){var i;var a=ye.bind(r,n,e);n[t]=null;i=t.replace(it,"");if(!Wt(r.__.listeners,n)){r.__.listeners.push(n)}if(!n[G]){n[G]={}}if(n[G][t]){n.removeEventListener(i,n[G][t])}n[G][t]=a;n.addEventListener(i,a,false)}function we(t,e,n,r){var i=pn(t,e,n);var a=e.tagName||ie(e.root,true);var o=me(r);Xt(i,"parent",o);i.__.parent=r;ne(o.tags,a,i);if(o!==r){ne(r.tags,a,i)}return i}function xe(t,e,n,r){if(zt(t[e])){var i=t[e].indexOf(n);if(i!==-1){t[e].splice(i,1)}if(!t[e].length){delete t[e]}else if(t[e].length===1&&!r){t[e]=t[e][0]}}else if(t[e]===n){delete t[e]}}function be(t,e){var n=this;var r=Tt();var i=Tt();var a=It();var o;var s;this.root.insertBefore(r,this.root.firstChild);this.root.appendChild(i);this.__.head=s=r;this.__.tail=i;while(s){o=s.nextSibling;a.appendChild(s);n.__.virts.push(s);s=o}if(e){t.insertBefore(a,e.__.head)}else{t.appendChild(a)}}function Ne(t,e){var n=It();be.call(t,n);e.parentNode.replaceChild(n,e)}function Ae(t,e,n){var r=t.tag||t.dom._tag;var i;var a=r?r.__:{};var o=a.head;var s=t.dom.tagName==="VIRTUAL";if(r&&t.tagName===n){r.update();return}if(r){if(s){i=Tt();o.parentNode.insertBefore(i,o)}r.unmount(true)}if(!qt(n)){return}t.impl=P[n];if(!t.impl){return}t.tag=r=we(t.impl,{root:t.dom,parent:e,tagName:n},t.dom.innerHTML,e);Zt(t.attrs,function(t){return lt(r.root,t.name,t.value)});t.tagName=n;r.mount();if(s){Ne(r,i||r.root)}e.__.onUnmount=function(){var t=r.opts.dataIs;xe(r.parent.tags,t,r);xe(r.__.parent.tags,t,r);r.unmount()}}function Oe(t){if(!t){return null}t=t.replace(V,"");if(ot[t]){t=ot[t]}return t}function je(t){if(this.root&&kt(this.root,"virtualized")){return}var e=t.dom;var n=Oe(t.attr);var r=Wt([z,K],n);var i=t.root&&t.root.tagName==="VIRTUAL";var a=this.__;var o=a.isAnonymous;var s=e&&(t.parent||e.parentNode);var u=n==="style";var f=n==="class";var l;if(t._riot_id){if(t.__.wasCreated){t.update()}else{t.mount();if(i){Ne(t,t.root)}}return}if(t.update){return t.update()}var c=r&&!o?ae.call(this):this;l=_t(t.expr,c);var p=!Ft(l);var h=Ht(l);if(h){if(f){l=_t(JSON.stringify(l),this)}else if(u){l=Mt(l)}}if(t.attr&&(!t.wasParsedOnce||!p||l===false)){Lt(e,kt(e,t.attr)?t.attr:n)}if(t.bool){l=l?n:false}if(t.isRtag){return Ae(t,this,l)}if(t.wasParsedOnce&&t.value===l){return}t.value=l;t.wasParsedOnce=true;if(h&&!f&&!u&&!r){return}if(!p){l=""}if(!n){l+="";if(s){t.parent=s;if(s.tagName==="TEXTAREA"){s.value=l;if(!ut){e.nodeValue=l}}else{e.nodeValue=l}}return}if(Ut(l)){_e(n,l,e,this)}else if(r){Et(e,n===K?!l:l)}else{if(t.bool){e[n]=l}if(n==="value"&&e.value!==l){e.value=l}else if(p&&l!==false){lt(e,n,l)}if(u&&e.hidden){Et(e,false)}}}function Ce(t){Zt(t,je.bind(this))}function Te(t,e,n,r,i){if(t&&n){return}var a=t?ae.call(this):e||this;Zt(i,function(t){if(t.expr){je.call(a,t.expr)}r[Yt(t.name).replace(V,"")]=t.expr?t.expr.value:t.value})}function Ee(t,e,n){var r=t.__;var i={};var a=t.isMounted&&!r.skipAnonymous;if(r.isAnonymous&&r.parent){At(t,r.parent)}At(t,e);Te.apply(t,[r.isLoop,r.parent,r.isAnonymous,i,r.instAttrs]);if(a&&t.isMounted&&Ut(t.shouldUpdate)&&!t.shouldUpdate(e,i)){return t}At(t.opts,i);if(a){t.trigger("update",e)}Ce.call(t,n);if(a){t.trigger("updated")}return t}function ke(t){if(!t){var e=Object.keys(P);return e+ke(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+F+'="'+n+'"]'},"")}function Le(t,e){var n=this;var r=n.name;var i=n.tmpl;var a=n.css;var o=n.attrs;var s=n.onCreate;if(!P[r]){Se(r,i,a,o,s);P[r].class=this.constructor}hn(t,r,e,this);if(a){gt.inject()}return this}function Se(t,e,n,r,i){if(Ut(r)){i=r;if(/^[\w-]+\s?=/.test(n)){r=n;n=""}else{r=""}}if(n){if(Ut(n)){i=n}else{gt.add(n)}}t=t.toLowerCase();P[t]={name:t,tmpl:e,attrs:r,fn:i};return t}function Re(t,e,n,r,i){if(n){gt.add(n,t)}P[t]={name:t,tmpl:e,attrs:r,fn:i};return t}function Ie(t,r,i){var a=[];var e,n;function o(t){if(t.tagName){var e=kt(t,F),n;if(r&&e!==r){e=r;lt(t,F,r)}n=hn(t,e||t.tagName.toLowerCase(),i);if(n){a.push(n)}}else if(t.length){Zt(t,o)}}gt.inject();if(Ht(r)){i=r;r=0}if(qt(t)){t=t==="*"?n=ke():t+ke(t.split(/, */));e=t?Ct(t):[]}else{e=t}if(r==="*"){r=n||ke();if(e.tagName){e=Ct(r,e)}else{var s=[];Zt(e,function(t){return s.push(Ct(r,t))});e=s}r=0}o(e);return a}var Pe={};var Me=Pe[B]={};var Be=0;function Ve(t,e,n){if(Ht(t)){Ve("__"+Be+++"__",t,true);return}var r=n?Me:Pe;if(!e){if(bt(r[t])){throw new Error("Unregistered mixin: "+t)}return r[t]}r[t]=Ut(e)?At(e.prototype,r[t]||{})&&e:At(r[t]||{},e)}function $e(){return Zt(I,function(t){return t.update()})}function Fe(t){P[t]=null}var Ue="WIP";var He=Object.freeze({Tag:Le,tag:Se,tag2:Re,mount:Ie,mixin:Ve,update:$e,unregister:Fe,version:Ue});function De(o){var t=[],e=arguments.length-1;while(e-- >0)t[e]=arguments[e+1];Zt(t,function(t){var r;var e;var n=[];var i=["init","__proto__"];t=qt(t)?Ve(t):t;if(Ut(t)){r=new t}else{r=t}var a=Object.getPrototypeOf(r);do{n=n.concat(Object.getOwnPropertyNames(e||r))}while(e=Object.getPrototypeOf(e||r));Zt(n,function(t){if(!Wt(i,t)){var e=xt(r,t)||xt(a,t);var n=e&&(e.get||e.set);if(!o.hasOwnProperty(t)&&n){Object.defineProperty(o,t,e)}else{o[t]=Ut(r[t])?r[t].bind(o):r[t]}}});if(r.init){r.init.bind(o)(o.opts)}});return o}function ze(t,e){var n=this.parent;var r;if(!n){return}r=n.tags[t];if(zt(r)){r.splice(e,0,r.splice(r.indexOf(this),1)[0])}else{ne(n.tags,t,this)}}function Ke(t,e){var n=this;var r=this.__.head;var i;var a=It();while(r){i=r.nextSibling;a.appendChild(r);r=i;if(r===n.__.tail){a.appendChild(r);t.insertBefore(a,e.__.head);break}}}function qe(t,e,n,r){var i=r?Ot(r):{};i[t.key]=e;if(t.pos){i[t.pos]=n}return i}function Ge(t,e){var n=e.length;var r=t.length;while(n>r){n--;We.apply(e[n],[e,n])}}function We(t,e){t.splice(e,1);this.unmount();xe(this.parent,this,this.__.tagName,true)}function Ze(e){var n=this;Zt(Object.keys(this.tags),function(t){ze.apply(n.tags[t],[t,e])})}function Qe(t,e,n){if(n){Ke.apply(this,[t,e])}else{Pt(t,this.root,e.root)}}function Je(t,e,n){if(n){be.apply(this,[t,e])}else{Pt(t,this.root,e.root)}}function Xe(t,e){if(e){be.call(this,t)}else{t.appendChild(this.root)}}function Ye(t,e,n,r){if(t){return r?_t(t,n):e[t]}return e}function tn(d,g,m){var y=typeof kt(d,D)!==W||Lt(d,D);var _=kt(d,q);var w=_?_t.hasExpr(_):false;var x=ie(d);var b=P[x];var t=d.parentNode;var e=Tt();var N=re(d);var r=kt(d,U);var A=[];var O=true;var j=d.innerHTML;var C=!P[x];var T=d.tagName==="VIRTUAL";var E=[];var k;Lt(d,H);Lt(d,q);m=_t.loopKeys(m);m.isLoop=true;if(r){Lt(d,U)}t.insertBefore(e,d);t.removeChild(d);m.update=function t(){m.value=_t(m.val,g);var c=m.value;var p=It();var n=!zt(c)&&!qt(c);var h=e.parentNode;var v=[];if(!h){return}if(n){k=c||false;c=k?Object.keys(c).map(function(t){return qe(m,c[t],t)}):[]}else{k=false}if(r){c=c.filter(function(t,e){if(m.key&&!n){return!!_t(r,qe(m,t,e,g))}return!!_t(r,At(Ot(g),t))})}Zt(c,function(t,e){var n=!k&&m.key?qe(m,t,e):t;var r=Ye(_,t,n,w);var i=y&&typeof t===Z&&!k;var a=E.indexOf(r);var o=a===-1;var s=!o&&i?a:e;var u=A[s];var f=e>=E.length;var l=i&&o||!i&&!u;if(l){u=pn(b,{parent:g,isLoop:O,isAnonymous:C,tagName:x,root:d.cloneNode(C),item:n,index:e},j);u.mount();if(f){Xe.apply(u,[p||h,T])}else{Je.apply(u,[h,A[e],T])}if(!f){E.splice(e,0,n)}A.splice(e,0,u);if(N){ne(g.tags,x,u,true)}}else if(s!==e&&i){if(_||Wt(c,E[s])){Qe.apply(u,[h,A[e],T]);A.splice(e,0,A.splice(s,1)[0]);E.splice(e,0,E.splice(s,1)[0])}if(m.pos){u[m.pos]=e}if(!N&&u.tags){Ze.call(u,e)}}At(u.__,{item:n,index:e,parent:g});v[e]=r;if(!l){u.update(n)}});Ge(c,A);E=v.slice();h.insertBefore(p,e)};m.unmount=function(){Zt(A,function(t){t.unmount()})};return m}var en={init:function t(e,n,r,i){this.dom=e;this.attr=r;this.rawValue=i;this.parent=n;this.hasExp=_t.hasExpr(i);return this},update:function t(){var e=this.value;var n=this.parent&&me(this.parent);var r=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?_t(this.rawValue,this.parent):this.rawValue;if(!Ft(e)&&n){xe(n.refs,e,r)}if(!Ft(this.value)&&qt(this.value)){if(n){ne(n.refs,this.value,r,null,this.parent.__.index)}if(this.value!==e){lt(this.dom,this.attr,this.value)}}else{Lt(this.dom,this.attr)}if(!this.dom.__ref){this.dom.__ref=r}},unmount:function t(){var e=this.tag||this.dom;var n=this.parent&&me(this.parent);if(!Ft(this.value)&&n){xe(n.refs,this.value,e)}}};function nn(t,e,n,r){return Ot(en).init(t,e,n,r)}function rn(t){Zt(t,function(t){if(t.unmount){t.unmount(true)}else if(t.tagName){t.tag.unmount(true)}else if(t.unmount){t.unmount()}})}var an={init:function t(e,n,r){Lt(e,U);At(this,{tag:n,expr:r,stub:Tt(),pristine:e});var i=e.parentNode;i.insertBefore(this.stub,e);i.removeChild(e);return this},update:function t(){this.value=_t(this.expr,this.tag);if(this.value&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=sn.apply(this.tag,[this.current,true])}else if(!this.value&&this.current){rn(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(this.value){Ce.call(this.tag,this.expressions)}},unmount:function t(){rn(this.expressions||[])}};function on(t,e,n){return Ot(an).init(t,e,n)}function sn(o,s){var u=this;var f=[];Bt(o,function(t){var e=t.nodeType;var n;var r;if(!s&&t===o){return}if(e===3&&t.parentNode.tagName!=="STYLE"&&_t.hasExpr(t.nodeValue)){f.push({dom:t,expr:t.nodeValue})}if(e!==1){return}var i=t.tagName==="VIRTUAL";if(n=kt(t,H)){if(i){lt(t,"loopVirtual",true)}f.push(tn(t,u,n));return false}if(n=kt(t,U)){f.push(on(t,u,n));return false}if(n=kt(t,F)){if(_t.hasExpr(n)){f.push({isRtag:true,expr:n,dom:t,attrs:[].slice.call(t.attributes)});return false}}r=re(t);if(i){if(kt(t,"virtualized")){t.parentElement.removeChild(t)}if(!r&&!kt(t,"virtualized")&&!kt(t,"loopVirtual")){r={tmpl:t.outerHTML}}}if(r&&(t!==o||s)){if(i){if(kt(t,F)){te("Virtual tags shouldn't be used together with the \""+F+'" attribute - https://github.com/riot/riot/issues/2511')}lt(t,"virtualized",true);var a=pn({tmpl:t.outerHTML},{root:t,parent:u},t.innerHTML);f.push(a)}else{f.push(we(r,{root:t,parent:u},t.innerHTML,u));return false}}un.apply(u,[t,t.attributes,function(t,e){if(!e){return}f.push(e)}])});return f}function un(i,t,a){var o=this;Zt(t,function(t){if(!t){return false}var e=t.name;var n=Kt(e);var r;if(Wt($,e)&&i.tagName.toLowerCase()!==M){r=nn(i,o,e,t.value)}else if(_t.hasExpr(t.value)){r={dom:i,expr:t.value,attr:e,bool:n}}a(t,r)})}function fn(t){var e=this.__;var n=e.isAnonymous;Xt(this,"isMounted",t);if(!n){if(t){this.trigger("mount")}else{this.trigger("unmount");this.off("*");this.__.wasCreated=false}}}function ln(n,t,r,e){var i=n.__;var a=i.root;a._tag=n;un.apply(i.parent,[a,a.attributes,function(t,e){if(!i.isAnonymous&&en.isPrototypeOf(e)){e.tag=n}t.expr=e;i.instAttrs.push(t)}]);Rt(i.impl.attrs,function(t,e){i.implAttrs.push({name:t,value:e})});un.apply(n,[a,i.implAttrs,function(t,e){if(e){r.push(e)}else{lt(a,t.name,t.value)}}]);Te.apply(n,[i.isLoop,i.parent,i.isAnonymous,e,i.instAttrs]);var o=Ve(B);if(o&&!i.skipAnonymous){for(var s in o){if(o.hasOwnProperty(s)){n.mixin(o[s])}}}if(i.impl.fn){i.impl.fn.call(n,e)}if(!i.skipAnonymous){n.trigger("before-mount")}Zt(sn.apply(n,[t,i.isAnonymous]),function(t){return r.push(t)});n.update(i.item);if(!i.isAnonymous&&!i.isInline){while(t.firstChild){a.appendChild(t.firstChild)}}Xt(n,"root",a);if(!i.skipAnonymous&&n.parent){var u=me(n.parent);u.one(!u.isMounted?"mount":"updated",function(){fn.call(n,true)})}else{fn.call(n,true)}n.__.wasCreated=true;return n}function cn(e,t,n){var r=e.__;var i=r.root;var a=I.indexOf(e);var o=i.parentNode;if(!r.skipAnonymous){e.trigger("before-unmount")}Rt(r.impl.attrs,function(t){if(Qt(t,V)){t=t.slice(V.length)}Lt(i,t)});e.__.listeners.forEach(function(e){Object.keys(e[G]).forEach(function(t){e.removeEventListener(t,e[G][t])})});if(a!==-1){I.splice(a,1)}if(r.parent&&!r.isAnonymous){var s=me(r.parent);if(r.isVirtual){Object.keys(e.tags).forEach(function(t){return xe(s.tags,t,e.tags[t])})}else{xe(s.tags,r.tagName,e)}}if(e.__.virts){Zt(e.__.virts,function(t){if(t.parentNode){t.parentNode.removeChild(t)}})}rn(n);Zt(r.instAttrs,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()});if(t){St(i,"")}else if(o){o.removeChild(i)}if(r.onUnmount){r.onUnmount()}if(!e.isMounted){fn.call(e,true)}fn.call(e,false);delete i._tag;return e}function pn(t,e,n){if(t===void 0)t={};if(e===void 0)e={};var r=e.context||{};var i=At({},e.opts);var a=e.parent;var o=e.isLoop;var s=!!e.isAnonymous;var u=jt.skipAnonymousTags&&s;var f=e.item;var l=e.index;var c=[];var p=[];var h=[];var v=e.root;var d=e.tagName||ie(v);var g=d==="virtual";var m=!g&&!t.tmpl;var y;if(!u){wt(r)}if(t.name&&v._tag){v._tag.unmount(true)}Xt(r,"isMounted",false);Xt(r,"__",{impl:t,root:v,skipAnonymous:u,implAttrs:p,isAnonymous:s,instAttrs:c,innerHTML:n,tagName:d,index:l,isLoop:o,isInline:m,item:f,parent:a,listeners:[],virts:[],wasCreated:false,tail:null,head:null});Xt(r,"_riot_id",Jt());Xt(r,"root",v);At(r,{opts:i},f);Xt(r,"parent",a||null);Xt(r,"tags",{});Xt(r,"refs",{});if(m||o&&s){y=v}else{if(!g){v.innerHTML=""}y=ge(t.tmpl,n,Dt(v))}Xt(r,"update",function(t){return Ee(r,t,h)});Xt(r,"mixin",function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];return De.apply(void 0,[r].concat(t))});Xt(r,"mount",function(){return ln(r,y,h,i)});Xt(r,"unmount",function(t){return cn(r,t,h)});return r}function hn(t,e,n,r){var i=P[e];var a=P[e].class;var o=r||(a?Ot(a.prototype):{});var s=t._innerHTML=t._innerHTML||t.innerHTML;var u=At({root:t,opts:n,context:o},{parent:n?n.parent:null});var f;if(i&&t){f=pn(i,u,s)}if(f&&f.mount){f.mount(true);if(!Wt(I,f)){I.push(f)}}return f}var vn=Object.freeze({arrayishAdd:ne,getTagName:ie,inheritParentProps:ae,mountTo:hn,selectTags:ke,arrayishRemove:xe,getTag:re,initChildTag:we,moveChildTag:ze,makeReplaceVirtual:Ne,getImmediateCustomParentTag:me,makeVirtual:be,moveVirtual:Ke,unmountAll:rn,createIfDirective:on,createRefDirective:nn});var dn=jt;var gn={tmpl:_t,brackets:yt,styleManager:gt,vdom:I,styleNode:gt.styleNode,dom:Vt,check:Gt,misc:ee,tags:vn};var mn=At({},He,{observable:wt,settings:dn,util:gn});var yn=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];e.unshift("[riotx]");try{console.log.apply(console,e)}catch(t){console.log(e)}};var _n={debug:false,default:"@",changeBindName:"riotxChange",strict:false,logger:{output:yn}};var wn=function(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];if(!_n.debug){return}t.unshift("DEBUG");_n.logger.output.apply(null,t)};var xn=function(t){var e=new Error("[riotx] "+t);_n.logger.output.apply(null,["ERROR",e]);throw e};var bn=function t(e){var n=this;this.name=e.name;if(!this.name){this.name=_n.default;wn("Default store name. name="+this.name)}this._state=e.state;Object.defineProperty(this,"state",{get:function(){if(_n.strict){xn("[strict] Direct access get error.")}return n._state},set:function(t){if(_n.strict){xn("[strict] Direct access set error. "+t)}n._state=t}});this._actions=e.actions;this._mutations=e.mutations;this._getters=e.getters;this._plugins=e.plugins;mn.observable(this);s(this._plugins,function(t){if(!w(t)){xn("[plugin] The plugin is not a function.")}t.apply(null,[n])})};bn.prototype.reset=function t(){this.name=null;this._state=null;this._actions=null;this._mutations=null;this._getters=null;this._plugins=null;this.off("*")};bn.prototype.getter=function t(e,n){if(n&&!b(n)){xn("[getter]', 'The getter data is not object type. name="+e+" data="+n)}var r={state:this._state};var i=this._getters[e];if(!i||typeof i!=="function"){xn("[getter]', 'The getter is not a function. name="+e+" data="+n)}wn("[getter]",e,n);return i.apply(null,[r,n])};bn.prototype.commit=function t(e,n){var r=this;if(n&&!b(n)){xn("[mutation]', 'The mutation data is not object type. name="+e+" data="+n)}var i={getter:function(t,e){return r.getter.apply(r,[t,e])},state:this._state};var a=this._mutations[e];if(!a||typeof a!=="function"){xn("[mutation]', 'The mutation is not a function. name="+e+" data="+n)}wn("[mutation(before)]",e,this._state,n);var o=a.apply(null,[i,n]);wn("[mutation(after)]",e,this._state,n);this.trigger("riotx:mutations:after",e,o,i,n);s(o,function(t){r.trigger(t,r._state,r)})};bn.prototype.action=function t(e,n){var r=this;if(n&&!b(n)){xn("[action]', 'The action data is not object type. name="+e+" data="+n)}var i={getter:function(t,e){return r.getter.apply(r,[t,e])},commit:function(t,e){r.commit(t,e)}};var a=this._actions[e];if(!a||typeof a!=="function"){xn("[action] The action is not a function. name="+e+" data="+n)}wn("[action]",e,n);return j.resolve().then(function(){return a.apply(null,[i,n])})};bn.prototype.change=function t(){var e;var n=[],r=arguments.length;while(r--)n[r]=arguments[r];(e=this).on.apply(e,n)};var Nn=function t(){this.version=e||"";this.Store=bn;this.stores={};var n=function(t,e,n){var r=[],i=arguments.length-3;while(i-- >0)r[i]=arguments[i+3];this._riotx_change_handlers.push({store:t,evtName:e,handler:n});r.unshift(n);r.unshift(e);t.change.apply(t,r)};mn.mixin({init:function(){var e=this;this.on("unmount",function(){e.off("*");s(e._riotx_change_handlers,function(t){t.store.off(t.evtName,t.handler)});delete e.riotx;delete e._riotx_change_handlers;delete e[_n.changeBindName]});if(_n.debug){this.on("*",function(t){wn("[riot.mixin]",t,e)})}this._riotx_change_handlers=[];this[_n.changeBindName]=n},riotx:this})};Nn.prototype.add=function t(e){if(this.stores[e.name]){xn("[store.add] The store instance named `"+e.name+"` already exists.")}this.stores[e.name]=e;return this};Nn.prototype.get=function t(e){if(e===void 0)e=_n.default;return this.stores[e]};Nn.prototype.debug=function t(e){_n.debug=!!e;return this};Nn.prototype.setChangeBindName=function t(e){_n.changeBindName=e;return this};Nn.prototype.strict=function t(e){_n.strict=!!e;return this};Nn.prototype.logger=function t(e){_n.logger.output=e;return this};Nn.prototype.reset=function t(){o(this.stores||{},function(t){t.reset()});this.stores={};return this};Nn.prototype.size=function t(){return v(this.stores).length};var An=new Nn;return An}();
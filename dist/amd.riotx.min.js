define(["riot"],function(n){"use strict";var r="0.9.1";n="default"in n?n["default"]:n;function t(n,r){if(r==null){return n}var t=n.length,e=-1,i=r.length;while(++e<i){n[t+e]=r[e]}return n}var e=t;function i(n){return n}var u=i;function a(n){return function(r){return r[n]}}var f=a;function l(n,r){return Object.prototype.hasOwnProperty.call(n,r)}var o=l;var c;var v;function s(){v=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];c=true;for(var n in{toString:null}){c=false}}function h(n,r,t){var e,i=0;if(c==null){s()}for(e in n){if(p(r,n,e,t)===false){break}}if(c){var u=n.constructor,a=!!u&&n===u.prototype;while(e=v[i++]){if((e!=="constructor"||!a&&o(n,e))&&n[e]!==Object.prototype[e]){if(p(r,n,e,t)===false){break}}}}}function p(n,r,t,e){return n.call(e,r[t],t,r)}var g=h;function w(n,r,t){g(n,function(e,i){if(o(n,i)){return r.call(t,n[i],i,n)}})}var y=w;var d=/^\[object (.*)\]$/;var m=Object.prototype.toString;var b;function j(n){if(n===null){return"Null"}else if(n===b){return"Undefined"}else{return d.exec(m.call(n))[1]}}var O=j;function x(n,r){return O(n)===r}var k=x;var I=Array.isArray||function(n){return k(n,"Array")};var M=I;function E(n,r){var t=-1,e=n.length;while(++t<e){if(S(n[t],r)){return true}}return false}function P(n,r){var t=-1,e=r.length;while(++t<e){if(!E(n,r[t])){return false}}return true}function A(n,r){var t=true;y(r,function(r,e){if(!S(n[e],r)){return t=false}});return t}function S(n,r){if(n&&typeof n==="object"&&r&&typeof r==="object"){if(M(n)&&M(r)){return P(n,r)}else{return A(n,r)}}else{return n===r}}var _=S;function q(n,r){if(n==null){return u}switch(typeof n){case"function":return typeof r!=="undefined"?function(t,e,i){return n.call(r,t,e,i)}:n;case"object":return function(r){return _(r,n)};case"string":case"number":return f(n)}}var L=q;function z(n,r,t){r=L(r,t);var i=[];if(n==null){return i}var u=-1,a=n.length;while(++u<a){var f=r(n[u],u,n);if(f!=null){e(i,f)}}return i}var C=z;function D(n,r,t){t=t||0;if(n==null){return-1}var e=n.length,i=t<0?e+t:t;while(i<e){if(n[i]===r){return i}i++}return-1}var N=D;function R(n,r){if(r==null){return n}var t=-1,e=r.length;while(++t<e){if(N(n,r[t])===-1){n.push(r[t])}}return n}var B=R;function F(n,r,t){r=L(r,t);var e=[];if(n==null){return e}var i=-1,u=n.length,a;while(++i<u){a=n[i];if(r(a,i,n)){e.push(a)}}return e}var T=F;function $(n){return T(n,function(n){return n!=null})}var U=$;function G(n,r){return N(n,r)!==-1}var H=G;function J(n,r){r=r||K;return T(n,function(n,t,e){var i=e.length;while(++t<i){if(r(n,e[t])){return false}}return true})}function K(n,r){return n===r}var Q=J;function V(n,r,t){r=L(r,t);var e=false;if(n==null){return e}var i=-1,u=n.length;while(++i<u){if(r(n[i],i,n)){e=true;break}}return e}var W=V;function X(n,r,t){var e=n.length;if(r==null){r=0}else if(r<0){r=Math.max(e+r,0)}else{r=Math.min(r,e)}if(t==null){t=e}else if(t<0){t=Math.max(e+t,0)}else{t=Math.min(t,e)}var i=[];while(r<t){i.push(n[r++])}return i}var Y=X;function Z(n){var r=Y(arguments,1),t=T(Q(n),function(n){return!W(r,function(r){return H(r,n)})});return t}var nn=Z;function rn(n,r){if(n===r){return n!==0||1/n===1/r}return n!==n&&r!==r}var tn=rn;function en(n,r,t){r=L(r,t);var e=true;if(n==null){return e}var i=-1,u=n.length;while(++i<u){if(!r(n[i],i,n)){e=false;break}}return e}var un=en;function an(n,r,t){t=t||tn;if(!M(n)||!M(r)){return t(n,r)}if(n.length!==r.length){return false}return un(n,fn(t),r)}function fn(n){return function(r,t){return t in this&&n(r,this[t])}}var ln=an;function on(n,r,t){r=L(r,t);if(n==null){return-1}var e=-1,i=n.length;while(++e<i){if(r(n[e],e,n)){return e}}return-1}var cn=on;function vn(n,r,t){var e=cn(n,r,t);return e>=0?n[e]:void 0}var sn=vn;function hn(n,r,t){r=L(r,t);if(n==null){return-1}var e=n.length;while(--e>=0){if(r(n[e],e,n)){return e}}return-1}var pn=hn;function gn(n,r,t){var e=pn(n,r,t);return e>=0?n[e]:void 0}var wn=gn;function yn(n,r,t){if(t===0){e(r,n);return r}var i,u=-1,a=n.length;while(++u<a){i=n[u];if(M(i)){yn(i,r,t-1)}else{r.push(i)}}return r}function dn(n,r){if(n==null){return[]}r=r==null?-1:r;return yn(n,[],r)}var mn=dn;function bn(n,r,t){if(n==null){return}var e=-1,i=n.length;while(++e<i){if(r.call(t,n[e],e,n)===false){break}}}var jn=bn;function On(n,r,t){if(r){r=L(r,t)}else{r=u}var e={};jn(n,function(n){var t=r(n);if(!(t in e)){e[t]=[]}e[t].push(n)});return e}var xn=On;function kn(n,r,t){var e=[];if(n==null){return e}t=typeof t==="number"?t:0;var i=n.length;var u=t>=0?t:i+t;while(u<i){if(n[u]===r){e.push(u)}u++}return e}var In=kn;function Mn(n,r){var t=nn(Y(arguments,1),n);if(t.length){Array.prototype.push.apply(n,t)}return n.length}var En=Mn;function Pn(n){var r=Y(arguments,1),t=T(Q(n),function(n){return un(r,function(r){return H(r,n)})});return t}var An=Pn;function Sn(n,r,t){if(n==null){return n}var e=Y(arguments,2);var i=-1,u=n.length,a;while(++i<u){a=n[i];a[r].apply(a,e)}return n}var _n=Sn;function qn(n){return n!=null&&n!==""}function Ln(n,r){r=r||"";return T(n,qn).join(r)}var zn=Ln;function Cn(n){if(n==null||n.length<1){return undefined}return n[n.length-1]}var Dn=Cn;function Nn(n,r,t){if(n==null){return-1}var e=n.length;t=t==null||t>=e?e-1:t;t=t<0?e+t:t;while(t>=0){if(n[t]===r){return t}t--}return-1}var Rn=Nn;function Bn(n,r,t){r=L(r,t);var e=[];if(n==null){return e}var i=-1,u=n.length;while(++i<u){e[i]=r(n[i],i,n)}return e}var Fn=Bn;function Tn(n,r,t){if(n==null||!n.length){return Infinity}else if(n.length&&!r){return Math.max.apply(Math,n)}else{r=L(r,t);var e,i=-Infinity,u,a;var f=-1,l=n.length;while(++f<l){u=n[f];a=r(u,f,n);if(a>i){i=a;e=u}}return e}}var $n=Tn;function Un(n,r,t){if(n==null||!n.length){return-Infinity}else if(n.length&&!r){return Math.min.apply(Math,n)}else{r=L(r,t);var e,i=Infinity,u,a;var f=-1,l=n.length;while(++f<l){u=n[f];a=r(u,f,n);if(a<i){i=a;e=u}}return e}}var Gn=Un;var Hn=-2147483648;var Jn=2147483647;function Kn(){return Kn.get()}Kn.get=Math.random;var Qn=Kn;function Vn(n,r){n=n==null?Hn:n;r=r==null?Jn:r;return n+(r-n)*Qn()}var Wn=Vn;function Xn(n,r){n=n==null?Hn:~~n;r=r==null?Jn:~~r;return Math.round(Wn(n-.5,r+.499999999999))}var Yn=Xn;function Zn(n,r){if(r!=null){var t=[];if(r>0&&n&&n.length){r=r>n.length?n.length:r;while(r--){t.push(nr(n))}}return t}return n&&n.length?nr(n):void 0}function nr(n){var r=Yn(0,n.length-1);return n.splice(r,1)[0]}var rr=Zn;function tr(n,r){return Fn(n,r)}var er=tr;function ir(n,r,t){n=Math.floor(n/r);if(t){return n%t}return n}var ur=ir;function ar(n,r,t){if(r==null){r=n;n=0}t=t||1;var e=[],i=ur(r-n,t),u=n;while(u<=r){e.push(u);u+=t}return e}var fr=ar;function lr(n,r,t){var e=arguments.length>2,i=t;if(n==null||!n.length){if(!e){throw new Error("reduce of empty array with no initial value")}else{return t}}var u=-1,a=n.length;while(++u<a){if(!e){i=n[u];e=true}else{i=r(i,n[u],u,n)}}return i}var or=lr;function cr(n,r,t){var e=arguments.length>2;if(n==null||!n.length){if(e){return t}else{throw new Error("reduce of empty array with no initial value")}}var i=n.length,u=t,a;while(--i>=0){a=n[i];if(!e){u=a;e=true}else{u=r(u,a,i,n)}}return u}var vr=cr;function sr(n,r,t){r=L(r,t);var e=[];if(n==null){return e}var i=-1,u=n.length,a;while(++i<u){a=n[i];if(!r(a,i,n)){e.push(a)}}return e}var hr=sr;function pr(n,r){var t=N(n,r);if(t!==-1){n.splice(t,1)}}var gr=pr;function wr(n,r){var t=N(n,r);while(t!==-1){n.splice(t,1);t=N(n,r,t)}}var yr=wr;function dr(n){var r=n.slice();r.reverse();return r}var mr=dr;function br(n){var r=[],t;if(n==null){return r}var e=-1,i=n.length;while(++e<i){if(!e){r[0]=n[0]}else{t=Yn(0,e);r[e]=r[t];r[t]=n[e]}}return r}var jr=br;function Or(n,r){if(n==null){return[]}else if(n.length<2){return n}if(r==null){r=xr}var t,e,i;t=~~(n.length/2);e=Or(n.slice(0,t),r);i=Or(n.slice(t,n.length),r);return kr(e,i,r)}function xr(n,r){return n<r?-1:n>r?1:0}function kr(n,r,t){var e=[];while(n.length&&r.length){if(t(n[0],r[0])<=0){e.push(n.shift())}else{e.push(r.shift())}}if(n.length){e.push.apply(e,n)}if(r.length){e.push.apply(e,r)}return e}var Ir=Or;function Mr(n,r,t){r=L(r,t);return Ir(n,function(n,t){n=r(n);t=r(t);return n<t?-1:n>t?1:0})}var Er=Mr;function Pr(n,r){r=r||2;var t=[];if(n==null){return t}var e=Math.floor(n.length/r),i=n.length%r,u=0,a=n.length,f=0,l;while(u<a){l=e;if(f<i){l++}t.push(n.slice(u,u+l));f++;u+=l}return t}var Ar=Pr;function Sr(n,r,t){var e=-1;var i=[];if(!t){while(++e<n){i[e]=r(e,n)}}else{while(++e<n){i[e]=r.call(t,e,n)}}return i}var _r=Sr;function qr(n){return k(n,"Function")}var Lr=qr;function zr(n,r){var t={};if(n==null){return t}var e=-1,i=n.length,u;if(Lr(r)){while(++e<i){u=n[e];t[r(u)]=u}}else{while(++e<i){u=n[e];t[u[r]]=u}}return t}var Cr=zr;function Dr(n){var r=arguments;var t=[];var i=-1,u=arguments.length;while(++i<u){e(t,r[i])}return Q(t)}var Nr=Dr;function Rr(n,r){n=Q(n);r=Q(r);var t=T(n,function(n){return!H(r,n)}),e=T(r,function(r){return!H(n,r)});return t.concat(e)}var Br=Rr;function Fr(n){return n==null?0:n.length}function Tr(n){var r=arguments;var t=n?$n(Fn(arguments,Fr)):0,e=[],i=-1;while(++i<t){e.push(Fn(r,function(n){return n==null?undefined:n[i]}))}return e}var $r=Tr;var Ur={append:e,collect:C,combine:B,compact:U,contains:H,difference:nn,equals:ln,every:un,filter:T,find:sn,findIndex:cn,findLast:wn,findLastIndex:pn,flatten:mn,forEach:jn,groupBy:xn,indexOf:N,indicesOf:In,insert:En,intersection:An,invoke:_n,join:zn,last:Dn,lastIndexOf:Rn,map:Fn,max:$n,min:Gn,pick:rr,pluck:er,range:fr,reduce:or,reduceRight:vr,reject:hr,remove:gr,removeAll:yr,reverse:mr,shuffle:jr,slice:Y,some:W,sort:Ir,sortBy:Er,split:Ar,take:_r,toLookup:Cr,union:Nr,unique:Q,xor:Br,zip:$r};var Gr=Ur.forEach;function Hr(n){var r=[];g(n,function(n,t){if(typeof n==="function"){r.push(t)}});return r.sort()}var Jr=Hr;function Kr(n,r,t){var e=Y(arguments,2);return function(){return n.apply(r,e.concat(Y(arguments)))}}var Qr=Kr;function Vr(n,r){var t=arguments.length>1?Y(arguments,1):Jr(n);jn(t,function(r){n[r]=Qr(n[r],n)})}var Wr=Vr;function Xr(n,r,t){r=L(r,t);var e=false;y(n,function(t,i){if(r(t,i,n)){e=true;return false}});return e}var Yr=Xr;function Zr(n,r){return Yr(n,function(n){return n===r})}var nt=Zr;function rt(n){return!!n&&typeof n==="object"&&n.constructor===Object}var tt=rt;function et(n,r){var t=arguments;var e=0,i=arguments.length,u;while(++e<i){u=t[e];if(u){y(u,function(r,t){var e=n[t];if(e==null){n[t]=r}else if(tt(e)&&tt(r)){et(e,r)}})}}return n}var it=et;function ut(n,r){var t=arguments;var e=0,i=arguments.length,u;while(++e<i){u=t[e];if(u){y(u,at,n)}}return n}function at(n,r){var t=this[r];if(tt(n)&&tt(t)){ut(t,n)}else{this[r]=n}}var ft=ut;function lt(n,r,t){r=L(r,t);var e=true;y(n,function(t,i){if(!r(t,i,n)){e=false;return false}});return e}var ot=lt;function ct(n){return k(n,"Object")}var vt=ct;function st(n){return function(r,t){return o(this,t)&&n(r,this[t])}}function ht(n,r){return o(this,r)}function pt(n,r,t){t=t||tn;if(!vt(n)||!vt(r)){return t(n,r)}return ot(n,st(t),r)&&ot(r,ht,n)}var gt=pt;function wt(n,r){jn(Y(arguments,1),function(r){y(r,function(r,t){if(n[t]==null){n[t]=r}})});return n}var yt=wt;function dt(n,r,t){r=L(r,t);var e={};y(n,function(n,t,i){if(r(n,t,i)){e[t]=n}});return e}var mt=dt;function bt(n,r,t){r=L(r,t);var e;Yr(n,function(n,t,i){if(r(n,t,i)){e=n;return true}});return e}var jt=bt;function Ot(n,r,t,e){y(n,function(n,i){var u=t?t+"."+i:i;if(e!==0&&tt(n)){Ot(n,r,u,e-1)}else{r[u]=n}});return r}function xt(n,r){if(n==null){return{}}r=r==null?-1:r;return Ot(n,{},"",r)}var kt=xt;function It(n,r){var t=r.split("."),e=t.pop();while(r=t.shift()){n=n[r];if(n==null){return}}return n[e]}var Mt=It;var Et;function Pt(n,r){return Mt(n,r)!==Et}var At=Pt;var St=Object.keys||function(n){var r=[];y(n,function(n,t){r.push(t)});return r};var _t=St;function qt(n,r,t){r=L(r,t);var e={};y(n,function(n,t,i){e[t]=r(n,t,i)});return e}var Lt=qt;function zt(n,r){var t=true;y(r,function(r,e){if(n[e]!==r){return t=false}});return t}var Ct=zt;function Dt(n){var r=[];y(n,function(n,t){r.push(n)});return r}var Nt=Dt;function Rt(n,r){return $n(Nt(n),r)}var Bt=Rt;function Ft(n,r){var t=arguments;var e=0,i=arguments.length,u;while(++e<i){u=t[e];if(u!=null){y(u,Tt,n)}}return n}function Tt(n,r){this[r]=n}var $t=Ft;function Ut(n){switch(O(n)){case"Object":return Gt(n);case"Array":return Kt(n);case"RegExp":return Ht(n);case"Date":return Jt(n);default:return n}}function Gt(n){if(tt(n)){return $t({},n)}else{return n}}function Ht(n){var r="";r+=n.multiline?"m":"";r+=n.global?"g":"";r+=n.ignoreCase?"i":"";return new RegExp(n.source,r)}function Jt(n){return new Date(+n)}function Kt(n){return n.slice()}var Qt=Ut;function Vt(n,r){switch(O(n)){case"Object":return Wt(n,r);case"Array":return Xt(n,r);default:return Qt(n)}}function Wt(n,r){if(tt(n)){var t={};y(n,function(n,t){this[t]=Vt(n,r)},t);return t}else if(r){return r(n)}else{return n}}function Xt(n,r){var t=[],e=-1,i=n.length,u;while(++e<i){t[e]=Vt(n[e],r)}return t}var Yt=Vt;function Zt(){var n=1,r,t,e,i;i=Yt(arguments[0]);while(e=arguments[n++]){for(r in e){if(!o(e,r)){continue}t=e[r];if(vt(t)&&vt(i[r])){i[r]=Zt(i[r],t)}else{i[r]=Yt(t)}}}return i}var ne=Zt;function re(n,r){return Gn(Nt(n),r)}var te=re;function ee(n,r){if(!r){return n}jn(r.split("."),function(r){if(!n[r]){n[r]={}}n=n[r]});return n}var ie=ee;function ue(n,r){var t=typeof arguments[1]!=="string"?arguments[1]:Y(arguments,1),e={};for(var i in n){if(n.hasOwnProperty(i)&&!H(t,i)){e[i]=n[i]}}return e}var ae=ue;function fe(n,r){var t=typeof arguments[1]!=="string"?arguments[1]:Y(arguments,1),e={},i=0,u;while(u=t[i++]){e[u]=n[u]}return e}var le=fe;function oe(n,r){return Lt(n,f(r))}var ce=oe;function ve(n){var r=0;y(n,function(){r++});return r}var se=ve;function he(n,r,t,e){var i=arguments.length>2;if(!se(n)&&!i){throw new Error("reduce of empty object with no initial value")}y(n,function(n,u,a){if(!i){t=n;i=true}else{t=r.call(e,t,n,u,a)}});return t}var pe=he;function ge(n,r,t){r=L(r,t);return mt(n,function(n,t,e){return!r(n,t,e)},t)}var we=ge;function ye(n,r){var t=n[r];if(t===undefined){return}return Lr(t)?t.call(n):t}var de=ye;function me(n,r,t){var e=/^(.+)\.(.+)$/.exec(r);if(e){ie(n,e[1])[e[2]]=t}else{n[r]=t}}var be=me;function je(n,r){if(At(n,r)){var t=r.split("."),e=t.pop();while(r=t.shift()){n=n[r]}return delete n[e]}else{return true}}var Oe=je;var xe={bindAll:Wr,contains:nt,deepFillIn:it,deepMatches:_,deepMixIn:ft,equals:gt,every:ot,fillIn:yt,filter:mt,find:jt,flatten:kt,forIn:g,forOwn:y,functions:Jr,get:Mt,has:At,hasOwn:o,keys:_t,map:Lt,matches:Ct,max:Bt,merge:ne,min:te,mixIn:$t,namespace:ie,omit:ae,pick:le,pluck:ce,reduce:pe,reject:we,result:de,set:be,size:se,some:Yr,unset:Oe,values:Nt};var ke=xe.keys;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/
var Ie=Object.getOwnPropertySymbols;var Me=Object.prototype.hasOwnProperty;var Ee=Object.prototype.propertyIsEnumerable;function Pe(n){if(n===null||n===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(n)}function Ae(){try{if(!Object.assign){return false}var n=new String("abc");n[5]="de";if(Object.getOwnPropertyNames(n)[0]==="5"){return false}var r={};for(var t=0;t<10;t++){r["_"+String.fromCharCode(t)]=t}var e=Object.getOwnPropertyNames(r).map(function(n){return r[n]});if(e.join("")!=="0123456789"){return false}var i={};"abcdefghijklmnopqrst".split("").forEach(function(n){i[n]=n});if(Object.keys(Object.assign({},i)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(n){return false}}var Se=Ae()?Object.assign:function(n,r){var t=arguments;var e;var i=Pe(n);var u;for(var a=1;a<arguments.length;a++){e=Object(t[a]);for(var f in e){if(Me.call(e,f)){i[f]=e[f]}}if(Ie){u=Ie(e);for(var l=0;l<u.length;l++){if(Ee.call(e,u[l])){i[u[l]]=e[u[l]]}}}}return i};var _e={debug:false,default:"@"};var qe=function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];if(!_e.debug){return}n.unshift("[riotx]");try{console.log.apply(console,n)}catch(r){console.log(n)}};var Le=function r(t){this.name=t.name;if(!this.name){this.name=_e.default;qe("Default store name. name="+this.name)}this.state=Se({},t.state);this._actions=Se({},t.actions);this._mutations=Se({},t.mutations);this._getters=Se({},t.getters);n.observable(this)};Le.prototype.getter=function n(r){var t=[],e=arguments.length-1;while(e-- >0)t[e]=arguments[e+1];qe("[getter]",r,t);var i={state:Se({},this.state)};return this._getters[r].apply(null,[i].concat(t))};Le.prototype.commit=function n(r){var t=this;var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];var u=Se({},this.state);qe.apply(void 0,["[commit(before)]",r,u].concat(e));var a={getter:function(n){var r=[],e=arguments.length-1;while(e-- >0)r[e]=arguments[e+1];return t.getter.apply(t,[n].concat(r))},state:u};var f=this._mutations[r].apply(null,[a].concat(e));qe.apply(void 0,["[commit(after)]",r,u].concat(e));Se(this.state,u);Gr(f,function(n){t.trigger(n,t.state,t)})};Le.prototype.action=function n(r){var t=this;var e=[],i=arguments.length-1;while(i-- >0)e[i]=arguments[i+1];qe("[action]",r,e);var u={getter:function(n){var r=[],e=arguments.length-1;while(e-- >0)r[e]=arguments[e+1];return t.getter.apply(t,[n].concat(r))},state:Se({},this.state),commit:function(){var n=[],r=arguments.length;while(r--)n[r]=arguments[r];(e=t).commit.apply(e,n);var e}};return Promise.resolve().then(function(){return t._actions[r].apply(null,[u].concat(e))})};Le.prototype.change=function n(){var r=[],t=arguments.length;while(t--)r[t]=arguments[t];(e=this).on.apply(e,r);var e};var ze=function t(){this.version=r||"";this.Store=Le;this.stores={};n.mixin({init:function(){var n=this;this.on("unmount",function(){n.off("*")});if(_e.debug){this.on("*",function(r){qe(r,n)})}},riotx:this})};ze.prototype.add=function n(r){if(this.stores[r.name]){throw new Error("The store instance named `"+r.name+"` already exists.")}this.stores[r.name]=r;return this};ze.prototype.get=function n(r){if(r===void 0)r=_e.default;return this.stores[r]};ze.prototype.debug=function n(r){_e.debug=!!r;return this};ze.prototype.reset=function n(){this.stores={};return this};ze.prototype.size=function n(){return ke(this.stores).length};var Ce=new ze;return Ce});
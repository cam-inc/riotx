{"version":3,"file":"riotx.js","sources":["../node_modules/mout/array/forEach.js","../node_modules/mout/object/hasOwn.js","../node_modules/mout/object/forIn.js","../node_modules/mout/object/forOwn.js","../node_modules/mout/object/keys.js","../node_modules/object-assign/index.js","../node_modules/promise-polyfill/src/index.js","../src/index.js"],"sourcesContent":["\n\n    /**\n     * Array forEach\n     */\n    function forEach(arr, callback, thisObj) {\n        if (arr == null) {\n            return;\n        }\n        var i = -1,\n            len = arr.length;\n        while (++i < len) {\n            // we iterate over sparse items since there is no way to make it\n            // work properly on IE 7-8. see #64\n            if ( callback.call(thisObj, arr[i], i, arr) === false ) {\n                break;\n            }\n        }\n    }\n\n    module.exports = forEach;\n\n\n","\n\n    /**\n     * Safer Object.hasOwnProperty\n     */\n     function hasOwn(obj, prop){\n         return Object.prototype.hasOwnProperty.call(obj, prop);\n     }\n\n     module.exports = hasOwn;\n\n\n","var hasOwn = require('./hasOwn');\n\n    var _hasDontEnumBug,\n        _dontEnums;\n\n    function checkDontEnum(){\n        _dontEnums = [\n                'toString',\n                'toLocaleString',\n                'valueOf',\n                'hasOwnProperty',\n                'isPrototypeOf',\n                'propertyIsEnumerable',\n                'constructor'\n            ];\n\n        _hasDontEnumBug = true;\n\n        for (var key in {'toString': null}) {\n            _hasDontEnumBug = false;\n        }\n    }\n\n    /**\n     * Similar to Array/forEach but works over object properties and fixes Don't\n     * Enum bug on IE.\n     * based on: http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n     */\n    function forIn(obj, fn, thisObj){\n        var key, i = 0;\n        // no need to check if argument is a real object that way we can use\n        // it for arrays, functions, date, etc.\n\n        //post-pone check till needed\n        if (_hasDontEnumBug == null) checkDontEnum();\n\n        for (key in obj) {\n            if (exec(fn, obj, key, thisObj) === false) {\n                break;\n            }\n        }\n\n\n        if (_hasDontEnumBug) {\n            var ctor = obj.constructor,\n                isProto = !!ctor && obj === ctor.prototype;\n\n            while (key = _dontEnums[i++]) {\n                // For constructor, if it is a prototype object the constructor\n                // is always non-enumerable unless defined otherwise (and\n                // enumerated above).  For non-prototype objects, it will have\n                // to be defined on this object, since it cannot be defined on\n                // any prototype objects.\n                //\n                // For other [[DontEnum]] properties, check if the value is\n                // different than Object prototype value.\n                if (\n                    (key !== 'constructor' ||\n                        (!isProto && hasOwn(obj, key))) &&\n                    obj[key] !== Object.prototype[key]\n                ) {\n                    if (exec(fn, obj, key, thisObj) === false) {\n                        break;\n                    }\n                }\n            }\n        }\n    }\n\n    function exec(fn, obj, key, thisObj){\n        return fn.call(thisObj, obj[key], key, obj);\n    }\n\n    module.exports = forIn;\n\n\n","var hasOwn = require('./hasOwn');\nvar forIn = require('./forIn');\n\n    /**\n     * Similar to Array/forEach but works over object properties and fixes Don't\n     * Enum bug on IE.\n     * based on: http://whattheheadsaid.com/2010/10/a-safer-object-keys-compatibility-implementation\n     */\n    function forOwn(obj, fn, thisObj){\n        forIn(obj, function(val, key){\n            if (hasOwn(obj, key)) {\n                return fn.call(thisObj, obj[key], key, obj);\n            }\n        });\n    }\n\n    module.exports = forOwn;\n\n\n","var forOwn = require('./forOwn');\n\n    /**\n     * Get object keys\n     */\n     var keys = Object.keys || function (obj) {\n            var keys = [];\n            forOwn(obj, function(val, key){\n                keys.push(key);\n            });\n            return keys;\n        };\n\n    module.exports = keys;\n\n\n","/*\nobject-assign\n(c) Sindre Sorhus\n@license MIT\n*/\n\n'use strict';\n/* eslint-disable no-unused-vars */\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar propIsEnumerable = Object.prototype.propertyIsEnumerable;\n\nfunction toObject(val) {\n\tif (val === null || val === undefined) {\n\t\tthrow new TypeError('Object.assign cannot be called with null or undefined');\n\t}\n\n\treturn Object(val);\n}\n\nfunction shouldUseNative() {\n\ttry {\n\t\tif (!Object.assign) {\n\t\t\treturn false;\n\t\t}\n\n\t\t// Detect buggy property enumeration order in older V8 versions.\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=4118\n\t\tvar test1 = new String('abc');  // eslint-disable-line no-new-wrappers\n\t\ttest1[5] = 'de';\n\t\tif (Object.getOwnPropertyNames(test1)[0] === '5') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test2 = {};\n\t\tfor (var i = 0; i < 10; i++) {\n\t\t\ttest2['_' + String.fromCharCode(i)] = i;\n\t\t}\n\t\tvar order2 = Object.getOwnPropertyNames(test2).map(function (n) {\n\t\t\treturn test2[n];\n\t\t});\n\t\tif (order2.join('') !== '0123456789') {\n\t\t\treturn false;\n\t\t}\n\n\t\t// https://bugs.chromium.org/p/v8/issues/detail?id=3056\n\t\tvar test3 = {};\n\t\t'abcdefghijklmnopqrst'.split('').forEach(function (letter) {\n\t\t\ttest3[letter] = letter;\n\t\t});\n\t\tif (Object.keys(Object.assign({}, test3)).join('') !==\n\t\t\t\t'abcdefghijklmnopqrst') {\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t} catch (err) {\n\t\t// We don't expect any of the above to throw, but better to be safe.\n\t\treturn false;\n\t}\n}\n\nmodule.exports = shouldUseNative() ? Object.assign : function (target, source) {\n\tvar from;\n\tvar to = toObject(target);\n\tvar symbols;\n\n\tfor (var s = 1; s < arguments.length; s++) {\n\t\tfrom = Object(arguments[s]);\n\n\t\tfor (var key in from) {\n\t\t\tif (hasOwnProperty.call(from, key)) {\n\t\t\t\tto[key] = from[key];\n\t\t\t}\n\t\t}\n\n\t\tif (getOwnPropertySymbols) {\n\t\t\tsymbols = getOwnPropertySymbols(from);\n\t\t\tfor (var i = 0; i < symbols.length; i++) {\n\t\t\t\tif (propIsEnumerable.call(from, symbols[i])) {\n\t\t\t\t\tto[symbols[i]] = from[symbols[i]];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn to;\n};\n","// Store setTimeout reference so promise-polyfill will be unaffected by\n// other code modifying setTimeout (like sinon.useFakeTimers())\nvar setTimeoutFunc = setTimeout;\n\nfunction noop() {}\n\n// Polyfill for Function.prototype.bind\nfunction bind(fn, thisArg) {\n  return function() {\n    fn.apply(thisArg, arguments);\n  };\n}\n\nfunction Promise(fn) {\n  if (!(this instanceof Promise))\n    throw new TypeError('Promises must be constructed via new');\n  if (typeof fn !== 'function') throw new TypeError('not a function');\n  this._state = 0;\n  this._handled = false;\n  this._value = undefined;\n  this._deferreds = [];\n\n  doResolve(fn, this);\n}\n\nfunction handle(self, deferred) {\n  while (self._state === 3) {\n    self = self._value;\n  }\n  if (self._state === 0) {\n    self._deferreds.push(deferred);\n    return;\n  }\n  self._handled = true;\n  Promise._immediateFn(function() {\n    var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n    if (cb === null) {\n      (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n      return;\n    }\n    var ret;\n    try {\n      ret = cb(self._value);\n    } catch (e) {\n      reject(deferred.promise, e);\n      return;\n    }\n    resolve(deferred.promise, ret);\n  });\n}\n\nfunction resolve(self, newValue) {\n  try {\n    // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\n    if (newValue === self)\n      throw new TypeError('A promise cannot be resolved with itself.');\n    if (\n      newValue &&\n      (typeof newValue === 'object' || typeof newValue === 'function')\n    ) {\n      var then = newValue.then;\n      if (newValue instanceof Promise) {\n        self._state = 3;\n        self._value = newValue;\n        finale(self);\n        return;\n      } else if (typeof then === 'function') {\n        doResolve(bind(then, newValue), self);\n        return;\n      }\n    }\n    self._state = 1;\n    self._value = newValue;\n    finale(self);\n  } catch (e) {\n    reject(self, e);\n  }\n}\n\nfunction reject(self, newValue) {\n  self._state = 2;\n  self._value = newValue;\n  finale(self);\n}\n\nfunction finale(self) {\n  if (self._state === 2 && self._deferreds.length === 0) {\n    Promise._immediateFn(function() {\n      if (!self._handled) {\n        Promise._unhandledRejectionFn(self._value);\n      }\n    });\n  }\n\n  for (var i = 0, len = self._deferreds.length; i < len; i++) {\n    handle(self, self._deferreds[i]);\n  }\n  self._deferreds = null;\n}\n\nfunction Handler(onFulfilled, onRejected, promise) {\n  this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n  this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n  this.promise = promise;\n}\n\n/**\n * Take a potentially misbehaving resolver function and make sure\n * onFulfilled and onRejected are only called once.\n *\n * Makes no guarantees about asynchrony.\n */\nfunction doResolve(fn, self) {\n  var done = false;\n  try {\n    fn(\n      function(value) {\n        if (done) return;\n        done = true;\n        resolve(self, value);\n      },\n      function(reason) {\n        if (done) return;\n        done = true;\n        reject(self, reason);\n      }\n    );\n  } catch (ex) {\n    if (done) return;\n    done = true;\n    reject(self, ex);\n  }\n}\n\nPromise.prototype['catch'] = function(onRejected) {\n  return this.then(null, onRejected);\n};\n\nPromise.prototype.then = function(onFulfilled, onRejected) {\n  var prom = new this.constructor(noop);\n\n  handle(this, new Handler(onFulfilled, onRejected, prom));\n  return prom;\n};\n\nPromise.all = function(arr) {\n  return new Promise(function(resolve, reject) {\n    if (!arr || typeof arr.length === 'undefined')\n      throw new TypeError('Promise.all accepts an array');\n    var args = Array.prototype.slice.call(arr);\n    if (args.length === 0) return resolve([]);\n    var remaining = args.length;\n\n    function res(i, val) {\n      try {\n        if (val && (typeof val === 'object' || typeof val === 'function')) {\n          var then = val.then;\n          if (typeof then === 'function') {\n            then.call(\n              val,\n              function(val) {\n                res(i, val);\n              },\n              reject\n            );\n            return;\n          }\n        }\n        args[i] = val;\n        if (--remaining === 0) {\n          resolve(args);\n        }\n      } catch (ex) {\n        reject(ex);\n      }\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      res(i, args[i]);\n    }\n  });\n};\n\nPromise.resolve = function(value) {\n  if (value && typeof value === 'object' && value.constructor === Promise) {\n    return value;\n  }\n\n  return new Promise(function(resolve) {\n    resolve(value);\n  });\n};\n\nPromise.reject = function(value) {\n  return new Promise(function(resolve, reject) {\n    reject(value);\n  });\n};\n\nPromise.race = function(values) {\n  return new Promise(function(resolve, reject) {\n    for (var i = 0, len = values.length; i < len; i++) {\n      values[i].then(resolve, reject);\n    }\n  });\n};\n\n// Use polyfill for setImmediate for performance gains\nPromise._immediateFn =\n  (typeof setImmediate === 'function' &&\n    function(fn) {\n      setImmediate(fn);\n    }) ||\n  function(fn) {\n    setTimeoutFunc(fn, 0);\n  };\n\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n  if (typeof console !== 'undefined' && console) {\n    console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\n  }\n};\n\nexport default Promise;\n","/*global VERSION*/\n\nimport forEach from 'mout/array/forEach';\nimport keys from 'mout/object/keys';\nimport ObjectAssign from 'object-assign';\nimport Promise from 'promise-polyfill';\nimport riot from 'riot';\n\n/**\n * settings for riotx\n * @type {{debug: boolean, default: string}}\n */\nconst settings = {\n  debug: false,\n  default: '@',\n  changeBindName: 'riotxChange'\n};\n\n/**\n * log output\n */\nconst log = (...args) => {\n  if (!settings.debug) {\n    return;\n  }\n\n  args.unshift('[riotx]');\n  try {\n    console.log.apply(console, args); // eslint-disable-line\n  } catch (e) {\n    console.log(args); // eslint-disable-line\n  }\n};\n\n\nclass Store {\n  /**\n   * @param { name: 'Store Name', state: { default state data }, actions: { TODO } mutations: { TODO }, getters: { TODO } }\n   */\n  constructor(_store) {\n    /**\n     * name of the store.\n     * @type {String}\n     */\n    this.name = _store.name;\n    if (!this.name) {\n      this.name = settings.default;\n      log(`Default store name. name=${this.name}`);\n    }\n\n    /**\n     * a object that represents full application state.\n     * @type {Object}\n     */\n    this.state = ObjectAssign({}, _store.state);\n\n    /**\n     * functions to mutate application state.\n     * @type {Object}\n     */\n    this._actions = ObjectAssign({}, _store.actions);\n\n    /**\n     * mutaions.\n     * mutaion = a function which mutates the state.\n     * all mutation functions take two parameters which are `state` and `obj`.\n     * `state` will be TODO.\n     * `obj` will be TODO.\n     * @type {Object}\n     */\n    this._mutations = ObjectAssign({}, _store.mutations);\n\n    /**\n     * functions to get data from states.\n     * @type {Object}\n     */\n    this._getters = ObjectAssign({}, _store.getters);\n\n    riot.observable(this);\n  }\n\n  /**\n   * Getter state\n   * @param {String} name TODO\n   * @param {...*} args\n   */\n  getter(name, ...args) {\n    log('[getter]', name, args);\n    const context = {\n      state: ObjectAssign({}, this.state)\n    };\n    return this._getters[name].apply(null, [context, ...args]);\n  }\n\n  /**\n   * Commit mutation.\n   * only actions are allowed to execute this function.\n   * @param {String} name mutation name\n   * @param {...*} args\n   */\n  commit(name, ...args) {\n    const _state = ObjectAssign({}, this.state);\n    log('[commit(before)]', name, _state, ...args);\n    const context = {\n      getter: (name, ...args) => {\n        return this.getter.apply(this, [name, ...args]);\n      },\n      state: _state\n    };\n    const triggers = this._mutations[name].apply(null, [context, ...args]);\n    log('[commit(after)]', name, _state, ...args);\n    ObjectAssign(this.state, _state);\n\n    forEach(triggers, v => {\n      // this.trigger(v, null, this.state, this);\n      this.trigger(v, this.state, this);\n    });\n  }\n\n  /**\n   * emit action.\n   * only ui components are allowed to execute this function.\n   * @param {Stting} name action name\n   * @param {...*} args parameter's to action\n   * @return {Promise}\n   */\n  action(name, ...args) {\n    log('[action]', name, args);\n\n    const context = {\n      getter: (name, ...args) => {\n        return this.getter.apply(this, [name, ...args]);\n      },\n      state: ObjectAssign({}, this.state),\n      commit: (...args) => {\n        this.commit(...args);\n      }\n    };\n    return Promise\n      .resolve()\n      .then(() => this._actions[name].apply(null, [context, ...args]));\n  }\n\n  /**\n   * shorthand for `store.on('event', () => {})`.\n   * @param {...*} args\n   */\n  change(...args) {\n    this.on(...args);\n  }\n}\n\nclass RiotX {\n  constructor() {\n    this.version = VERSION || '';\n\n    /**\n     * constructor of RiotX.Store.\n     * @type {RiotX.Store}\n     */\n    this.Store = Store;\n\n    /**\n     * instances of RiotX.Store.\n     * @type {Object}\n     */\n    this.stores = {};\n\n    // add and keep event listener for store changes.\n    // through this function the event listeners will be unbinded automatically.\n    const riotxChange = function(store, evtName, ...args) {\n      this._riotx_change_handlers.push({\n        store,\n        evtName\n      });\n      args.unshift(evtName);\n      store.change(...args);\n    };\n\n    // register a mixin globally.\n    riot.mixin({\n      // intendedly use `function`.\n      // switch the context of `this` from `riotx` to `riot tag instance`.\n      init: function() {\n        // the context of `this` will be equal to riot tag instant.\n        this.on('unmount', () => {\n          this.off('*');\n          forEach(this._riotx_change_handlers, obj => {\n            obj.store.off(obj.evtName);\n          });\n          delete this.riotx;\n          delete this._riotx_change_handlers;\n          delete this[settings.changeBindName];\n        });\n\n        if (settings.debug) {\n          this.on('*', eventName => {\n            log(eventName, this);\n          });\n        }\n\n        // let users set the name.\n        this[settings.changeBindName] = riotxChange;\n      },\n      // give each riot instance the ability to access the globally defined singleton RiotX instance.\n      riotx: this,\n      _riotx_change_handlers: []\n    });\n  }\n\n  /**\n   * Add a store instance\n   * @param {RiotX.Store} store instance of RiotX.Store\n   * @returns {RiotX}\n   */\n  add(store) {\n    if (this.stores[store.name]) {\n      throw new Error(`The store instance named \\`${store.name}\\` already exists.`);\n    }\n\n    this.stores[store.name] = store;\n    return this;\n  }\n\n  /**\n   * Get store instance\n   * @param {String} name store name\n   * @returns {RiotX.Store} store instance\n   */\n  get(name = settings.default) {\n    return this.stores[name];\n  }\n\n  /**\n   * Set debug flag\n   * @param flag\n   * @returns {RiotX}\n   */\n  debug(flag) {\n    settings.debug = !!flag;\n    return this;\n  }\n\n  /**\n   * Set function name to bind store change event.\n   * @param {String} name\n   * @returns {RiotX}\n   */\n  setChangeBindName(name) {\n    settings.changeBindName = name;\n    return this;\n  }\n\n  /**\n   * Reset riotx instance\n   * @returns {RiotX} instance\n   */\n  reset() {\n    this.stores = {};\n    return this;\n  }\n\n  /**\n   * Store's count\n   * @returns {int} size\n   */\n  size() {\n    return keys(this.stores).length;\n  }\n\n}\n\nexport default new RiotX();\n"],"names":["hasOwn","forIn","forOwn","arguments","const","ObjectAssign","this","forEach","keys"],"mappings":"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"}